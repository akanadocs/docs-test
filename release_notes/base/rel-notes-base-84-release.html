<html>
<head>
<meta charset="utf-8">
<title>Akana Release Notes</title>	
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/akana-styles.css">
<link href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet">
<link rel="shortcut icon" href="img/favicon-16px.png" /> 	
</head>
<header>
                <div class="nav">
                    <div class="row">
                    <a href="https://www.akana.com" title="Home">
						<img src="img/logo-akana.svg" alt="Akana™, Powering the API Economy" width="182" height="49" class="logo"></a>
                    </div>
                </div>
            <div class="row">
                <div class="navigation-links">
                        <a href="https://www.akana.com" target="_blank">HOME</a>				
                        <a href="https://docs.akana.com" target="_blank">DOCUMENTATION</a>
                        <a href="https://akana.com/support" target="_blank">SUPPORT</a>
                </div>
                <div class="bottom-line">&nbsp;</div>
            </div>
</header>
	
<!--New left pane-->
<div class="col-md-3 col-lg-3">
  <div class="row">
    <div class="col-md-12 col-sm-12">
      <div class="TOC">

<!-- Don't edit the following comment which will be used by the scripts to add the new version once we are incrementing versions for 2018 -->
		  
		  
<!-- insert new version link -->
<p class=toc3><a href="#v8.4.38">Version 8.4.38</a></p>
<p class=toc3><a href="#v8.4.37">Version 8.4.37</a></p>      
<p class=toc3><a href="#v8.4.36">Version 8.4.36</a></p>
<p class=toc3><a href="#v8.4.35">Version 8.4.35</a></p>
<p class=toc3><a href="#v8.4.34">Version 8.4.34</a></p>
<p class=toc3><a href="#v8.4.33">Version 8.4.33</a></p>
<p class=toc3><a href="#v8.4.32">Version 8.4.32</a></p>
<p class=toc3><a href="#v8.4.31">Version 8.4.31</a></p>
<p class=toc3><a href="#v8.4.30">Version 8.4.30</a></p>
<p class=toc3><a href="#v8.4.29">Version 8.4.29</a></p>

<p class=toc3><a href="#8.4.28">Version 8.4.28</a></p>
<p class=toc3><a href="#8.4.27">Version 8.4.27</a></p>

<p class=toc3><a href="#8.4.26">Version 8.4.26</a></p>

<p class=toc3><a href="#8.4.25">Version 8.4.25</a></p>

<p class=toc3><a href="#8.4.24">Version 8.4.24</a></p>

<p class=toc3><a href="#8.4.23">Version 8.4.23</a></p>

<p class=toc3><a href="#8.4.22">Version 8.4.22</a></p>

<p class=toc3><a href="#8.4.21">Version 8.4.21</a></p>

<p class=toc3><a href="#8.4.20">Version 8.4.20</a></p>		  

<p class=toc3><a href="#8.4.19">Version 8.4.19</a></p>	  

<p class=toc3><a href="#8418">Version 8.4.18</a></p>

<p class=toc3><a href="#8417">Version 8.4.17</a></p>	

<p class=toc3><a href="#8416">Version 8.4.16</a></p>

<p class=toc3><a href="#8415">Version 8.4.15</a></p>

<p class=toc3><a href="#8414">Version 8.4.14</a></p>

<p class=toc3><a href="#8413">Version 8.4.13</a></p>

<p class=toc3><a href="#8412">Version 8.4.12</a></p>

<p class=toc3><a href="#8411">Version 8.4.11</a></p>

<p class=toc3><a href="#8410">Version 8.4.10</a></p>

<p class=toc3><a href="#849">Version 8.4.9</a></p>

<p class=toc3><a href="#848">Version 8.4.8</a></p>

<p class=toc3><a href="#847">Version 8.4.7</a></p>

<p class=toc3><a href="#846">Version 8.4.6</a></p>

<p class=toc3><a href="#845">Version 8.4.5</a></p>

<p class=toc3><a href="#844">Version 8.4.4</a></p>

<p class=toc3><a href="#843">Version 8.4.3</a></p>

<p class=toc3><a href="#842">Version 8.4.2</a></p>

<p class=toc3><a href="#841">Version 8.4.1</a></p>

<p class=toc3><a href="#84">Version 8.4</a></p>

<p class=toc4><a href="#84-keyfeatures">Key Features: 8.4</a></p>

<p class=toc4><a href="#84-enhancements">Minor Enhancements: 8.4</a></p>

<p class=toc4><a href="#84-api-interface-changes">API Interface Changes: 8.4</a></p>

<p class=toc4><a href="#84-bugfixes">Bug Fixes: 8.4</a></p>

     </div>
    </div>
  </div>
</div>	
	
<!--Middle pane -->
<body>
<div class="col-md-7 col-lg-7">
  <!--Middle pane, Top Header Row-->
  <div iclass="row">	 
	<div class="col-md-12">
  <h1>Akana API Platform Release Notes 8.4</h1>
	<p>&nbsp;</p>

	<h4 class="datevar">[[DATE]]</h4>
    <p class="vervar" style="margin-top:-10px;">Version  [[VERSION]] </p>
    <p class="timestamp">Document updated on: [[TIMESTAMP]]</p>

<p class="apivar note"><strong>Note</strong>: This release requires Akana Platform version [[API-VERSION]].</p>
	<p><a href="http://docs.akana.com/sp/system_requirements/system_requirements_akana_platform_84x.htm" target="_blank">Akana 8.4.x System Requirements</a></p>
    <p><a href="http://docs.akana.com/sp/upgrade/upgrading_akana_api_platform_82_84.htm">Upgrading the Akana API Platform from 8.2 to 8.4.x</a>    </p>    

    <h4 id="changeslog2">Changes Log</h4>
    <table border="1" cellspacing="0" cellpadding="0">
      <tr>
        <td width="162" valign="top"><p style="margin-left:0px;"><strong>Date/release version</strong></p></td>
        <td width="590" valign="top"><p style="margin-left:0px;"><strong>Changes</strong></p></td>
      </tr>
      <tr>
        <td width="162" valign="top">11 Oct 2017<br>
          8.4.10</td>
        <td width="590" valign="top">Updated to include addiitional issues that were fixed in    8.4.10:
          <ul>
            <li><a href="#SUP-16823">Application error on creation of user account</a> (SUP-16823)</li>
            <li><a href="#SUP-16870">App Summary field is required and wasn&rsquo;t previously required</a> (SUP-16870) </li>
            <li><a href="#SUP-16740">Users List: drop-down only responds to change of    selection, not selection</a> (SUP-16740)</li>
            <li><a href="#SUP-16817">Missing graphics    in transaction log detail</a>s (SUP-16817) </li>
          </ul></td>
      </tr>
      <tr>
        <td width="162" valign="top">9 Nov 2017<br>
          8.4.11</td>
        <td width="590" valign="top">Modified the wording for an 8.4.11 bug fix, <a href="#ATMO-21714">New setting for    unique combination of virtual host and context path</a>, to clarify the change.</td>
      </tr>
      <tr>
        <td width="162" valign="top">15 Mar 2018<br>
          8.4.16</td>
        <td width="590" valign="top">Corrected an error in the code example for the user    workflow initial action <strong>@UserPhoneNotRequired</strong> in 8.4.15 <a href="#SUP-17304">(Workflow for Users: New ability to    make phone number optional for specific users (</a>SUP-17304):
          <pre class="code">&lt;unconditional-result old-status=&quot;none&quot;    status=&quot;registered&quot; step=&quot;30&quot;/&gt; </pre>
          This has been corrected to:
          <pre class="code">&lt;unconditional-result old-status=&quot;none&quot;    status=&quot;init-phone-check&quot; step=&quot;-1&quot;/&gt; </pre></td>
      </tr>
      <tr>
        <td valign="top">14 June 2018<br>
          8.4.15</td>
        <td valign="top">Added a note on how to get the user's current domain to<a href="#SUP-17616"> New API operation to move users from one domain to the other</a> (SUP-17616)</td>
      </tr>
      <tr>
        <td valign="top">25 June 2018<br>
          8.4.19</td>
        <td valign="top">Added an entry for an enhancement <a href="#LifecycleCoordinatorsupportforpromotingappsandcontracts">Lifecycle Coordinator: support for promoting apps and contracts</a> that  shipped with 8.4.19 but missing from the release notes.</td>
      </tr>
      <tr>
        <td valign="top">2 August 2018<br>
          8.4.19</td>
        <td valign="top">Updated release note entry for SUP-17610 (&quot;Subject category of outbound identities replaced with service identity&quot;) on support for multiple identities.</td>
      </tr>
      <tr>
        <td valign="top">9 January 2020<br>
          8.4.37</td>
        <td valign="top">Added an entry for bug fix<a href="#WritingusagedatausingtheRESTusagewritercouldfail"> Writing usage data using the REST usage writer could fail.</a></td>
      </tr>		
    </table>

    <!-- Don't edit the following comment which will be used by the scripts to add the new version once we are incrementing versions for 2018 -->
  <!-- insert new version content below this comment -->


<!--  Akana Release Notes for version 8.4.38 -->
<!--  Created on: 2019-08-07 09:37, Pacific Standard Time -->
<!--  Number of JIRA issues processed: 1 -->
<div id="rel_notes_v8.4.38" class="rel_note_main">
<h3 id="v8.4.38">Version 8.4.38</h3>
<!--  Enhancements Section  -->
<!--  Number of JIRA issues processed: 0 -->
<h4 id="e_8.4.38">Enhancements: 8.4.38</h4>
<p>This release includes no enhancements.</p>
<!--  Bug Fixes Section  -->
<!--  Number of JIRA issues processed: 1 -->
<h4 id="b_8.4.38">Bug Fixes: 8.4.38</h4>
<div id="ATMO-29359" class="rel_note">
<h5><a name="OAuthProvider%3AIncorrectgranttypesusedforGlobalSettingauthenticationmethod"></a>OAuth Provider: Incorrect grant types used for Global Setting authentication method</h5>

<p>When Global Settings were selected as an app's OAuth Profile authentication method, the app was using predetermined values that might not have matched those that had been selected in the domain configuration. Now, domain configuration-supported Grant Types will be used when the OAuth Profile Authentication method is set to Global Setting.</p><p class="supID"><b>Support ticket: </b>SUPPORT-24778</p>
</div>

</div>

<!--  End Akana Release Notes for version 8.4.38 -->
<!--  Finished on: 2019-08-07 09:37, Pacific Standard Time -->

<!--  Akana Release Notes for version 8.4.37 -->
<!--  Created on: 2019-05-01 18:07, Pacific Standard Time -->
<!--  Number of JIRA issues processed: 2 -->
<div id="rel_notes_v8.4.37" class="rel_note_main">
<h3 id="v8.4.37">Version 8.4.37</h3>
<!--  Key Features Section  -->
<div class="key features">
<!-- <h4>Key Features: Placeholder</h4> -->

</div>

<!--  Enhancements Section  -->
<!--  Number of JIRA issues processed: 1 -->
<h4 id="e_8.4.37">Enhancements: 8.4.37</h4>
<div id="ATMO-28674" class="rel_note">
<h5><a name="AutomationrecipeforcreatingastandaloneOAuthcontainer"></a>Automation recipe for creating a standalone OAuth container</h5>

<p>A new recipe has been added to support the automated creation of a standalone OAuth container. The new recipe is <tt>oauth-all.json</tt>, located in the <b>&lt;installation&gt;</b>/recipes folder.</p><p class="supID"><b>Support ticket: </b>No related support tickets.</p>
</div>

<!--  Known Issues Section  -->
<div class="known-issues">
<!--<h4>Deprecations: 8.4.29</h4> -->

</div>
<!--  Deprecations Section  -->

<!-- comment to use to comment out this entire section if there is no content -->

<div class="deprecations">
<!--
<h4>Deprecations: 8.4.29</h4> 
-->

</div>
		
<!--  Bug Fixes Section  -->
<!--  Number of JIRA issues processed: 1 -->
<h4 id="b_8.4.37">Bug Fixes: 8.4.37</h4>
<div id="ATMO-28734" class="rel_note">
<h5><a name="OAuthaccesstokengenerationcouldfailinaclusterenvironment"></a>OAuth access token generation could fail in a cluster environment</h5>

<p>In a cluster environment, access token generation could fail at container restart, due to missing JWKS Key IDs for a domain.</p><p class="supID"><b>Support ticket: </b>SUPPORT-22230</p></div>
	
<div id="ATMO-31197" class="rel_note">
<h5><a name="WritingusagedatausingtheRESTusagewritercouldfail"></a>Writing usage data using the REST usage writer could fail</h5>

<p>When the REST usage API reported a non-recoverable write error, the batch writer queues were not being purged, resulting in failure. Now the queues are cleared on fatal writer error.</p><p class="supID"><b>Support ticket: </b>No related support tickets.</p></div>	
<div id="rel_notes_v8.4.36" class="rel_note_main">
  <h3 id="v8.4.36">Version 8.4.36</h3>
  <!--  Key Features Section  -->
  <div class="key features">
    <!-- <h4>Key Features: Placeholder</h4> -->
  </div>
  <!--  Bug Fixes Section  -->
  <!--  Number of JIRA issues processed: 2 -->
  <h4 id="b_8.4.36">Bug Fixes: 8.4.36</h4>
  <div id="ATMO-28348" class="rel_note">
    <h5><a name="TheAPIGET%2Fapi%2Fusers%2F%5C%2Fappsdidnotcorrectlyreturntags"></a>The API GET /api/users/{UserID}/apps did not correctly return tags</h5>
    <p>The API <tt>GET /api/users/{UserID}/apps</tt>, which returns information about a user's applications, was not returning any tags associated with the applications. Now, the tags returned are a merge of all the tags from the app's associated versions, with duplicates removed.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-20827</p>
  </div>
  <div id="ATMO-28327" class="rel_note">
    <h5><a name="APIandappnameanddescriptionlengthsnowconformtoallowedmaximum"></a>API and app name and description lengths now conform to allowed maximum</h5>
    <p>API and app name and description lengths now conform to the allowed maximum length capacity of the database definition for the respective tables.</p>
    <p class="supID"><b>Support ticket: </b>SUP-16639</p>
  </div>
</div>
<!--  End Akana Release Notes for version 8.4.36 -->
<!--  Finished on: 2019-04-15 18:07, Pacific Standard Time -->
<!--  Akana Release Notes for version 8.4.35 -->
<!--  Created on: 2019-03-14 07:58, Pacific Standard Time -->
<!--  Number of JIRA issues processed: 1 -->
<div id="rel_notes_v8.4.35" class="rel_note_main">
  <h3 id="v8.4.35">Version 8.4.35</h3>
  <!--  Key Features Section  -->
  <div class="key features">
    <!-- <h4>Key Features: Placeholder</h4> -->
  </div>
  <!--  Known Issues Section  -->
  <div class="known-issues">
    <!--<h4>Deprecations: 8.4.29</h4> -->
  </div>
  <!--  Deprecations Section  -->
  <!-- comment to use to comment out this entire section if there is no content -->
  <div class="deprecations">
    <!--
<h4>Deprecations: 8.4.29</h4> 
-->
  </div>
  <!--  Bug Fixes Section  -->
  <!--  Number of JIRA issues processed: 1 -->
  <h4 id="b_8.4.35">Bug Fixes: 8.4.35</h4>
  <div id="ATMO-28283" class="rel_note">
    <h5><a name="NetworkDirector%3AAPIswithaquerystringcouldreturnanHTTP404condition"></a>Network Director: APIs with a query string could return an HTTP 404 condition</h5>
    <p>REST APIs in a legacy WSDL format, with a query string included in the operation location, could return an HTTP 404 "Not Found" condition in Network Director.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-22443</p>
  </div>
</div>
<!--  End Akana Release Notes for version 8.4.35 -->
<!--  Finished on: 2019-03-14 07:58, Pacific Standard Time -->
<!--  Akana Release Notes for version 8.4.34 -->
<!--  Created on: 2019-03-13 21:05, Pacific Standard Time -->
<!--  Number of JIRA issues processed: 1 -->
<div id="rel_notes_v8.4.34" class="rel_note_main">
  <h3 id="v8.4.34">Version 8.4.34</h3>
  <!--  Key Features Section  -->
  <div class="key features">
    <!-- <h4>Key Features: Placeholder</h4> -->
  </div>
  <!--  Enhancements Section  -->
  <!--  Number of JIRA issues processed: 0 -->
  <h4 id="e_8.4.34">Enhancements: 8.4.34</h4>
  <p>This release includes no enhancements.</p>
  <!--  Known Issues Section  -->
  <div class="known-issues">
    <!--<h4>Deprecations: 8.4.29</h4> -->
  </div>
  <!--  Deprecations Section  -->
  <!-- comment to use to comment out this entire section if there is no content -->
  <div class="deprecations">
    <!--
<h4>Deprecations: 8.4.29</h4> 
-->
  </div>
  <!--  Bug Fixes Section  -->
  <!--  Number of JIRA issues processed: 1 -->
  <h4 id="b_8.4.34">Bug Fixes: 8.4.34</h4>
  <div id="ATMO-28033" class="rel_note">
    <h5><a name="NetworkDirector%3AcustomOAuthrequestheaderswerenotalwaysoverrriddenaccordingtoIncludeTokenAttributessettings"></a>Network Director: custom OAuth request headers were not always overrridden according to IncludeTokenAttributes settings</h5>
    <p>For an OAuth Security policy with the IncludeTokenAttributes option set to "all", custom headers on an incoming request were not being overridden if another OAuth Security policy option, TokenTransformation, was set to "strip." Now, whether the TokenTransformation is set to "strip" or "pass-through", Network Director correctly discards any OAuth custom headers from incoming requests if IncludeTokenAttributes is requested.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-21460</p>
  </div>
</div>
<!--  End Akana Release Notes for version 8.4.34 -->
<!--  Finished on: 2019-03-13 21:05, Pacific Standard Time -->
<!--  Akana Release Notes for version 8.4.33 -->
<!--  Created on: 2019-03-03 19:16, Pacific Standard Time -->
<!--  Number of JIRA issues processed: 5 -->
<div id="rel_notes_v8.4.33" class="rel_note_main">
  <h3 id="v8.4.33">Version 8.4.33</h3>
  <!--  Key Features Section  -->
  <div class="key features">
    <!-- <h4>Key Features: Placeholder</h4> -->
  </div>
  <!--  Enhancements Section  -->
  <!--  Number of JIRA issues processed: 1 -->
  <h4 id="e_8.4.33">Enhancements: 8.4.33</h4>
  <div id="ATMO-27946" class="rel_note">
    <h5><a name="OracleJDK8updatedtolatestpatchreleasedJan.2019"></a>Oracle JDK 8 updated to latest patch released Jan. 2019</h5>
    <p>The platform's embedded JDK 8 has been updated to the latest publicly available release (1.8 u201), dated Jan. 15, 2019, under the Oracle Binary Code License (BCL).</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-20953, SUPPORT-21199, SUPPORT-10756</p>
  </div>
  <!--  Known Issues Section  -->
  <div class="known-issues">
    <!--<h4>Deprecations: 8.4.29</h4> -->
  </div>
  <!--  Deprecations Section  -->
  <!-- comment to use to comment out this entire section if there is no content -->
  <div class="deprecations">
    <!--
<h4>Deprecations: 8.4.29</h4> 
-->
  </div>
  <!--  Bug Fixes Section  -->
  <!--  Number of JIRA issues processed: 4 -->
  <h4 id="b_8.4.33">Bug Fixes: 8.4.33</h4>
  <div id="ATMO-27978" class="rel_note">
    <h5><a name="LifecycleRepository%3AClientappappendedauthenticationmethodtothename"></a>Lifecycle Repository: Client app appended authentication method to the name</h5>
    <p>When creating an API with a Client app, the app name incorrectly contained the authentication method.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-10774</p>
  </div>
  <div id="ATMO-27937" class="rel_note">
    <h5><a name="LifecycleRepository%3ANewclientappsformultiversionAPIsdidnothavetherightAPIversion"></a>Lifecycle Repository: New client apps for multi-version APIs did not have the right API version</h5>
    <p> Repository Client app creation was creating two separate apps with the same name for APIs with multiple versions. Now, client apps have the same version as the API.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-10774</p>
  </div>
  <div id="ATMO-27929" class="rel_note">
    <h5><a name="CreatingaServiceLevelPolicyusingRESTcouldfail"></a>Creating a Service Level Policy using REST could fail</h5>
    <p>In Policy Manager, adding a Service Level Policy using the REST API could fail due to a configuration parsing problem.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-5706</p>
  </div>
  <div id="ATMO-27880" class="rel_note">
    <h5><a name="OnOracle%2CemailswerenotrenderingnonASCIIcharacterscorrectly"></a>On Oracle, emails were not rendering non-ASCII characters correctly</h5>
    <p>For an Oracle database, emails sent to an SMTP server stripped out non-ASCII characters. Now, these characters are rendered correctly.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-21291</p>
  </div>
</div>
<!--  End Akana Release Notes for version 8.4.33 -->
<!--  Finished on: 2019-03-03 19:16, Pacific Standard Time -->
<!--  Akana Release Notes for version 8.4.32 -->
<!--  Created on: 2019-02-10 19:15, Pacific Standard Time -->
<!--  Number of JIRA issues processed: 1 -->
<div id="rel_notes_v8.4.32" class="rel_note_main">
  <h3 id="v8.4.32">Version 8.4.32</h3>
  <!--  Key Features Section  -->
  <div class="key features">
    <!-- <h4>Key Features: Placeholder</h4> -->
  </div>
  <!--  Enhancements Section  -->
  <!--  Known Issues Section  -->
  <div class="known-issues">
    <!--<h4>Deprecations: 8.4.29</h4> -->
  </div>
  <!--  Deprecations Section  -->
  <!-- comment to use to comment out this entire section if there is no content -->
  <div class="deprecations">
    <!--
<h4>Deprecations: 8.4.29</h4> 
-->
  </div>
  <!--  Bug Fixes Section  -->
  <!--  Number of JIRA issues processed: 1 -->
  <h4 id="b_8.4.32">Bug Fixes: 8.4.32</h4>
  <div id="ATMO-27708" class="rel_note">
    <h5><a name="Oracle%3AErrorreturnedwhensuborganizationsexceeded1%2C000"></a>Oracle: Error returned when sub-organizations exceeded 1,000</h5>
    <p>For an organization adding more than 1,000 sub-organizations under one tenant with Oracle DB, Oracle Error ORA-01795 was returned. Now, there is no limit to the number of sub-organizations.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3328, SUPPORT-10848, SUPPORT-21091, SUP-18705, SUPPORT-3328, SUPPORT-10848, SUPPORT-21091</p>
  </div>
</div>
<!--  End Akana Release Notes for version 8.4.32 -->
<!--  Finished on: 2019-02-10 19:15, Pacific Standard Time -->
<!--  Akana Release Notes for version 8.4.31 -->
<!--  Created on: 2019-02-03 19:10, Pacific Standard Time -->
<!--  Number of JIRA issues processed: 3 -->
<div id="rel_notes_v8.4.31" class="rel_note_main">
  <h3 id="v8.4.31">Version 8.4.31</h3>
  <!--  Key Features Section  -->
  <div class="key features">
    <!-- <h4>Key Features: Placeholder</h4> -->
  </div>
  <!--  Enhancements Section  -->
  <!--  Number of JIRA issues processed: 0 -->
  <!--  Known Issues Section  -->
  <div class="known-issues">
    <!--<h4>Deprecations: 8.4.29</h4> -->
  </div>
  <!--  Deprecations Section  -->
  <!-- comment to use to comment out this entire section if there is no content -->
  <div class="deprecations">
    <!--
<h4>Deprecations: 8.4.29</h4> 
-->
  </div>
  <!--  Bug Fixes Section  -->
  <!--  Number of JIRA issues processed: 3 -->
  <h4 id="b_8.4.31">Bug Fixes: 8.4.31</h4>
  <div id="ATMO-27521" class="rel_note">
    <h5><a name="TheBusinessAdministratorrolewasabletoinviteausertobeaSiteAdministrator"></a>The Business Administrator role was able to invite a user to be a Site Administrator</h5>
    <p>A user with the role of Business Administrator was able to invite another user to be a Site Administrator using the API:</p>
    <p/>    
    <div id="syntaxplugin" class="syntaxplugin" style="border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;">
      <table cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;">
        <tbody >
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">POST https:</span><span style="color: #008200; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">//{hostname}/api/groups/{GroupID}/members</span></pre></td>
          </tr>
        </tbody>
      </table>
    </div>
    <p/>    
    <p>Now, an invitation by a Business Administrator to join a tenant's Administration Group returns an authorization error.</p>
    <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
  </div>
  <div id="ATMO-27468" class="rel_note">
    <h5><a name="Appdeveloperscouldunfollowanappforanotheruser"></a>App developers could unfollow an app for another user</h5>
    <p>In some cases, app developers viewing their app had an option to choose "unfollow" on behalf of other users who had followed their app. Now, an app developer cannot unfollow on behalf of another app developer or follower.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-17392</p>
  </div>
  <div id="ATMO-27453" class="rel_note">
    <h5><a name="Viewingusagerecorddetailscouldresultinanerror"></a>Viewing usage record details could result in an error</h5>
    <p>In Policy Manager, the interface could return an error when viewing recorded messages (Service &gt; Monitoring &gt; Logs &gt; Event &gt; Recorded Messages) in the console.</p>
    <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
  </div>
</div>
<!--  End Akana Release Notes for version 8.4.31 -->
<!--  Finished on: 2019-02-03 19:10, Pacific Standard Time -->
<!--  Akana Release Notes for version 8.4.30 -->
<!--  Created on: 2019-01-11 11:05, Pacific Standard Time -->
<!--  Number of JIRA issues processed: 6 -->
<div id="rel_notes_v8.4.30" class="rel_note_main">
  <h3 id="v8.4.30">Version 8.4.30</h3>
  <!--  Key Features Section  -->
  <div class="key features">
    <!-- <h4>Key Features: Placeholder</h4> -->
  </div>
  <!--  Enhancements Section  -->
  <!--  Number of JIRA issues processed: 1 -->
  <h4 id="e_8.4.30">Enhancements: 8.4.30</h4>
  <div id="ATMO-27272" class="rel_note">
    <h5><a name="LifecycleCoordinator%3ANewparametermodifiertosanitizeparametervaluesforuseinthecontextpathofanAPI"></a>Lifecycle Coordinator: New parameter modifier to sanitize parameter values for use in the context path of an API</h5>
    <p>A new parameter modifier <tt>context_path_safe</tt> can be used with context parameters such as <tt>catalog_asset.group.name</tt> to transform the resolved parameter value as follows:</p>
    <ul>
      <li>Removes characters that aren't letters or numbers </li>
      <li>Strips accents from accented characters (e.g. 'é' -&gt; 'e') </li>
      <li>Lowercases remaining characters</li>
    </ul>
    <p>For example, using the parameter expression</p>
    <p/>    
    <div id="syntaxplugin" class="syntaxplugin" style="border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;">
      <table cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;">
        <tbody >
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">{catalog_asset.group.name.context_path_safe}</span></pre></td>
          </tr>
        </tbody>
      </table>
    </div>
    <p/>    
    <p>would transform the group name "Nuestra Compañía #1" to "nuestracompania1".</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-10766</p>
  </div>
  <!--  Known Issues Section  -->
  <div class="known-issues">
    <!--<h4>Deprecations: 8.4.29</h4> -->
  </div>
  <!--  Deprecations Section  -->
  <!-- comment to use to comment out this entire section if there is no content -->
  <div class="deprecations">
    <!--
<h4>Deprecations: 8.4.29</h4> 
-->
  </div>
  <!--  Bug Fixes Section  -->
  <!--  Number of JIRA issues processed: 5 -->
  <h4 id="b_8.4.30">Bug Fixes: 8.4.30</h4>
  <div id="ATMO-27369" class="rel_note">
    <h5><a name="ForSwaggerAPIswithtworeferencestothesamemodel%2Conlyonedisplayscorrectly"></a>For Swagger APIs with two references to the same model, only one displays correctly</h5>
    <p>For APIs based on Swagger documents, if an operation contained two references to the same model, only one was displaying correctly in the value/schema table column. This also impacted the Test Client.</p>
    <p> </p>
    <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
  </div>
  <div id="ATMO-27346" class="rel_note">
    <h5><a name="SupportofappswithvisibilitysettingofPublicissettoDisabled%2CbutnewappversionshavePublicvisibility"></a>Support of apps with visibility setting of Public is set to Disabled, but new app versions have Public visibility</h5>
    <p>When the platform app setting that determines whether apps can have a visibility setting of Public is disabled, all apps and app versions should allow visibility of only Registered User or Private. With this setting disabled, new apps were created with a visibility of Private, which is correct, but new app versions had a default visibility of Public, which was incorrect.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-17292</p>
  </div>
  <div id="ATMO-27281" class="rel_note">
    <h5><a name="HTTPSecurityPolicy%3A%22Invalidcertificate%22returnedforClientCertificateauthenticationwithBEGIN%2FENDCERTIFICATEinheader"></a>HTTP Security Policy: "Invalid certificate" returned for Client Certificate authentication with BEGIN/END CERTIFICATE in header</h5>
    <p>For APIs using an HTTP Security policy with client certificate authentication and the option "Get clients X.509 certificate from HTTP header", an "Invalid Certificate" message was returned. This was due to Akana expecting a header value without the following:</p>
    <p/>    
    <div id="syntaxplugin" class="syntaxplugin" style="border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;">
      <table cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;">
        <tbody >
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">-----BEGIN CERTIFICATE-----</span></pre></td>
          </tr>
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">-----END CERTIFICATE-----</span></pre></td>
          </tr>
        </tbody>
      </table>
    </div>
    <p/>    
    <p>Now, support has been added for sending a certificate in an HTTP header without newlines separating certificate content and certificate header/footers.</p>
    <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
  </div>
  <div id="ATMO-27236" class="rel_note">
    <h5><a name="UpdatingaservicecouldresultinWSDLimporterrors"></a>Updating a service could result in WSDL import errors</h5>
    <p>When updating a service in both Policy Manager and the Developer Portal, some external resources were not resolving correctly, resulting in a WSDL import error.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18844</p>
  </div>
  <div id="ATMO-27052" class="rel_note">
    <h5><a name="PolicyManager%3AUpdatingaphysicalserviceresultsinduplicateoperationsunderthebinding"></a>Policy Manager: Updating a physical service results in duplicate operations under the binding </h5>
    <p>In Policy Manager, when a user created a physical service and added an operation using the wizard, the operation was showing up under <b>Bindings</b> &gt; <b>View Binding Details</b> &gt; <b>Operations</b>. However, if the physical service was updated, without changes to the operation, the operation was showing up twice on the Operations list for the binding.</p>
    <p>This also caused the following error with Oracle database, when querying all the operations: <b>ORA-01795: maximum number of expressions in a list is 1000</b>.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18431, SUP-19105, SUP-16242, SUP-16242 SUP-18431 SUP-19105</p>
  </div>
</div>
<!--  End Akana Release Notes for version 8.4.30 -->
<!--  Finished on: 2019-01-11 11:05, Pacific Standard Time -->
<!--  Akana Release Notes for version 8.4.29 -->
<!--  Created on: 2018-11-21 07:25, Pacific Standard Time -->
<!--  Number of JIRA issues processed: 8 -->
<div id="rel_notes_v8.4.29" class="rel_note_main">
  <h3 id="v8.4.29">Version 8.4.29</h3>
  <!--  Key Features Section  -->
  <div class="key features">
    <!-- <h4>Key Features: Placeholder</h4> -->
  </div>
  <!--  Enhancements Section  -->
  <!--  Number of JIRA issues processed: 2 -->
  <h4 id="e_8.4.29">Enhancements: 8.4.29</h4>
  <div id="ATMO-26587" class="rel_note">
    <h5><a name="AdministrationConsole%27sJettyconnectorsmonitoringnowincludesportnumber"></a>Administration Console's Jetty connectors monitoring now includes port number</h5>
    <p>Monitoring for Jetty connectors has been improved to include the port number in the monitored category names, available in the Administration Console under the Monitoring tab. This makes it easier to identify the monitoring information for a specific listener.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3964</p>
  </div>
  <div id="ATMO-26109" class="rel_note">
    <h5><a name="NewconnectionfailurealertcodeinMongoDB"></a>New connection failure alert code in MongoDB</h5>
    <p>A new alert code was added for MongoDB to avoid returning an invalid alert code when the database fails to connect.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18998</p>
  </div>
  <!--  Known Issues Section  -->
  <div class="known issues">
    <h4>API Interface Changes: 8.4.29</h4>
    <h5>Business Admin user permission removed for operations to update site settings</h5>
    <p>In the Businesses service, the PUT operations to update the site settings required either Site Admin or Business Admin permission. Business Admin permission has now been removed. Only a Site Admin can perform these functions.</p>
    <p>The affected operations (all with PUT HTTP method):</p>
    <pre class="code">/api/businesses/{BusinessDN}/alertsettings <br />/api/businesses/{BusinessDN}/apisettings <br />/api/businesses/{BusinessDN}/appsettings <br />/api/businesses/{BusinessDN}/challenges <br />/api/businesses/{BusinessDN}/commentsettings <br />/api/businesses/{BusinessDN}/connectionsettings<br />/api/businesses/{BusinessDN}/discussionsettings<br />/api/businesses/{BusinessDN}/groupsettings <br />/api/businesses/{BusinessDN}/loginpolicy <br />/api/businesses/{BusinessDN}/passwordpolicy <br />/api/businesses/{BusinessDN}/reviewsettings <br />/api/businesses/{BusinessDN}/securitysettings <br />/api/businesses/{BusinessDN}/ticketsettings <br />/api/businesses/{BusinessDN}/usersettings <br />/api/businesses/{BusinessDN}/twofasettings</pre>
  </div>

  <!-- comment to use to comment out this entire section if there is no content -->
  <div class="deprecated features">
    <h4>Deprecations: 8.4.29</h4>
    <h5>Add and Update API and/or APIVersion prior to API Platform Version 8.1 have been deprecated</h5>
    <p>The APIs to add and update an API and/or APiVersion prior to API Platform version 8.1 have been deprecated. These include the following APIs with <span class="code-inline">Content-Type</span> and <span class="code-inline">HTTP Accept</span> headers of  type <span class="code-inline">application/json</span> and <span class="code-inline">application/xml</span>, with Platform versions 8.0 or earlier (<span class="code-inline">application/vnd.soa.v80+json</span>). These APIs have not been used in the developer portal since the API Platform 8.1 release.</p>
    <pre class="code">POST /api/apis
POST /api/apis/{ApiID}/versions
PUT /api/apis/{ApiID}
PUT /api/apis/{ApiID}/versions/{ApiVersionID}</pre>
  </div>
  <!--  Bug Fixes Section  -->
  <!--  Number of JIRA issues processed: 6 -->
  <h4 id="b_8.4.29">Bug Fixes: 8.4.29</h4>
  <div id="ATMO-26996" class="rel_note">
    <h5><a name="NetworkDirector%3AerrorswhenparsingapolicyforsomeAPIs"></a>Network Director: errors when parsing a policy for some APIs</h5>
    <p>When an API was under a heavy load, policy parsing could result in stack overflow exceptions for all requests until the service was updated. </p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-10572, SUPPORT-3688</p>
  </div>
  <div id="ATMO-26581" class="rel_note">
    <h5><a name="ImportinganincorrectAPI%27ssourceorganizationnamenowreturnsahelpfulmessage"></a>Importing an incorrect API's source organization name now returns a helpful message</h5>
    <p>Importing an API whose source organization name was different from the exported target organization name was resulting in a general exception. Now an error message is returned to inform the user that the source organization name must be the same on export and import.</p>
    <p class="supID"><b>Support ticket: </b>SUP-17875, SUP-17662</p>
  </div>
  <div id="ATMO-26579" class="rel_note">
    <h5><a name="ProcessEditor%3ATransformActivityforFreeMarkeroptiondidnotcorrectlyinitializeamessagevariable"></a>Process Editor: Transform Activity for FreeMarker option did not correctly initialize a message variable</h5>
    <p>When selecting a <tt>message</tt> variable in the Transform Activity of the Process Editor for FreeMarker, the variable is now initialized, if null. Previously, a <tt>message</tt> variable was not initialized and the process failed.</p>
    <p class="supID"><b>Support ticket: </b>SUP-19108, SUPPORT-3730</p>
  </div>
  <div id="ATMO-26578" class="rel_note">
    <h5><a name="AnAPIwithanattachedpipelinepolicywasgeneratinganincorrectfaultresponsemessage"></a>An API with an attached pipeline policy was generating an incorrect fault response message</h5>
    <p>For an API with a pipeline policy, a fault response was being incorrectly created as a normalized message. Because the message was normalized, the SOAP envelope was re-added to the message, so that the consumer application was unable to parse the response. This was a regression from a fix in 8.4.13; any 8.4 versions prior to 8.4.13 should work as expected.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-5521, SUPPORT-3561, SUPPORT-5309</p>
  </div>
  <div id="ATMO-26573" class="rel_note">
    <h5><a name="CommunityManager%3AAfterautomatedtenantupdate%2Conlyonetenantwasretained"></a>Community Manager: After automated tenant update, only one tenant was retained</h5>
    <p>When updating tenants in Community Manager, not all tenant virtual hosts were retained. Now, tenant creation saves all specified virtual hosts to the theme, so they are retained after site update.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3415</p>
  </div>
  <div id="ATMO-26392" class="rel_note">
    <h5><a name="APIhistoricalchartsnotvisibleforsomeintervals"></a>API historical charts not visible for some intervals</h5>
    <p>API historical charts were not displaying for the increments "Monthly by week," "Monthly by day," and "Weekly by day," even when the daily roll-up timezones configured in the Akana Administrative Console under Configuration &gt; com.soa.rollup.configuration did not include the local timezone. These now display properly.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3898, SUPPORT-3765</p>
  </div>
</div>
<!--  End Akana Release Notes for version 8.4.29 -->
<!--  Finished on: 2018-11-21 07:25, Pacific Standard Time -->
<!-- Previous releases go here -->
<div class="Version 8.4.28">
  <h3 id="8.4.28">Version 8.4.28</h3>
  <h4>Enhancements: 8.4.28</h4>
  <div class="ATMO-26260">
    <h5><a name="CORSpolicynowsupportedattheoperationlevel"></a>CORS policy now supported at the operation level</h5>
    <p>A CORS (Cross-Origin Resource Sharing) policy can now be assigned at the operation level, rather than to just a particular service.</p>
    <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
  </div>
  <h4>Bug fixes: 8.4.28</h4>
  <div class="ATMO-26244">
    <h5><a name="FailuretoidentifyanincomingclientaddressasIPv6resultedinerrors"></a>Failure to identify an incoming client address as IPv6 resulted in errors</h5>
    <p>When applying Denial of Service (DoS) rules, the logic to determine if an incoming client address was IPv4 or IPv6 was incorrect, resulting in errors when an HTTP X-Forwarded-For header included an IPv6 address.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3593</p>
  </div>
  <div class="ATMO-26208">
    <h5><a name="NetworkDirector%3AconnectiontoOracledatabasefailsafterconnectionstringupdate"></a>Network Director: connection to Oracle database fails after connection string update</h5>
    <p>When the connection string information for an Oracle database was updated in Policy Manager, the change was not propagating through the system. Now, Policy Manager updates the public vault with the new DB connection information.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3448</p>
  </div>
  <div class="ATMO-26134">
    <h5><a name="NetworkDirector%3Apipelinepolicyerror"></a>Network Director: pipeline policy error</h5>
    <p>Because of a potential race condition under load, the Pipeline policy insert credentials component could fail with an error indicating that the SAML signature node could not be found in the SAML assertion. Under certain circumstances, this condition could result in permanent corruption of the SAML token until the next restart.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-2120, SUP-17490</p>
  </div>
</div>
<div class="Version 8.4.27">
  <h3 id="8.4.27">Version 8.4.27</h3>
  <h4>Bug fixes: 8.4.27</h4>
  <div class="ATMO-26164">
    <h5><a name="NetworkDirector%3ASNIextensionnotbeingsenttodownstreamendpoints"></a>Network Director: SNI extension not being sent to downstream endpoints</h5>
    <p>A regression in 8.4.25 resulted in SNI extensions not being sent to downstream HTTPS endpoints, caused by the use of an older JRE 1.8 version.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-5480</p>
  </div>
  <div class="ATMO-26127">
    <h5><a name="NetworkDirector%3Adeletingacontainerresultedinredundanterrorlogs"></a>Network Director: deleting a container resulted in redundant error logs</h5>
    <p>When a Network Director container was deleted, redundant error logs were produced in Policy Manager, resulting in the log getting periodically filled.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18922, SUPPORT-3545</p>
  </div>
  <div class="ATMO-26094">
    <h5><a name="NetworkDirector%3Aconnectionsrequiringsetpropertiesfailedinsomecases"></a>Network Director: connections requiring set properties failed in some cases</h5>
    <p>Connection properties set on access points for Plain Old XML (POX) bindings were being ignored, causing connections to fail. For example, JMS authentication credentials are established using connection properties, so JMS authentication was failing when using the POX binding.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18034, SUPPORT-2659</p>
  </div>
</div>
<div class="Version 8.4.26">
  <h3 id="8.4.26">Version 8.4.26</h3>
  <h4>Enhancements: 8.4.26</h4>
  <div class="ATMO-26027">
    <h5><a name="NewparameterstoconstrainthenumberofconcurrentHTTPconnectionandrequestsfromasingleclient"></a>New parameters to constrain the number of concurrent HTTP connection and requests from a single client</h5>
    <p>To protect against a class of DoS attack which uses multiple slow requests to exhaust server resources (e.g. Slowloris), new HTTP Server Transport parameters can now constrain the number of concurrent HTTP connection and requests from a single client. The parameters can be set in the Akana Administration Console under the Configuration tab &gt; HTTP Server Transport (com.soa.platform.jetty). These are:</p>
    <p/>    
    <div id="syntaxplugin" class="syntaxplugin" style="border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;">
      <table cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;">
        <tbody >
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">http.incoming.transport.config.maxConnectionsPerClient</span></pre></td>
          </tr>
        </tbody>
      </table>
    </div>
    <blockquote>
      <p>Sets the maximum number of concurrent connections from a single client. A value of 0 indicates no limit. Note that if running behind a layer 7 load balancer, this constraint will restrict the number of connections from the load balancer, not the originating client, and therefore should not be used under those circumstances. If this limit is exceeded, the incoming connection is simply closed.</p>
    </blockquote>
    <p/>    
    <div id="syntaxplugin" class="syntaxplugin" style="border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;">
      <table cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;">
        <tbody >
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">http.incoming.transport.config.maxRequestsPerClient</span></pre></td>
          </tr>
        </tbody>
      </table>
    </div>
    <blockquote>
      <p>Sets the maximum number of concurrent requests from a single client. A value of 0 indicates no limit. If running behind a (layer 7) load balancer, the http.incoming.transport.config.forwarded property must be set in order to properly interpret the X-Forwarded-* headers. If this limit is exceeded, the client will receive a 503 (Service Unavailable) response.</p>
    </blockquote>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3724, SUPPORT-3895</p>
  </div>
  <h4>Bug fixes: 8.4.26</h4>
  <div class="ATMO-25974">
    <h5><a name="NetworkDirector%3AHTTPSconnectionsnotusingconfiguredtimeoutsetting"></a>Network Director: HTTPS connections not using configured timeout setting</h5>
    <p>In some cases, HTTPS connections defaulted to 120 seconds rather than using the connection timeout setting configured in the client.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3557, SUP-18934</p>
  </div>
</div>
<h3 id="8.4.25">Version 8.4.25</h3>
<div class="Version 8.4.25">
  <h4>Bug fixes: 8.4.25</h4>
  <div class="ATMO-25921">
    <h5><a name="HTTPMessageValidationpolicy%3Aformatvalidationnotproperlyenforcedforint32andint64types"></a>HTTP Message Validation policy: format validation not properly enforced for int32 and int64 types</h5>
    <p>When minimums and maximums were defined for the int32 and int64 data types, the HTTP Message Validation policy was not enforcing the required format, in particular for scientific notation which should be flagged as out-of-format for these data types.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3867</p>
  </div>
  <div class="ATMO-25920">
    <h5><a name="OauthProvider%3AAudiencefieldinAccessTokenValidationtaballowedonly64characters"></a>Oauth Provider: Audience field in Access Token Validation tab allowed only 64 characters</h5>
    <p>For an external OAuth Provider domain, the Audience field (on the Add or Edit External Oauth Provider Domain &gt; Access Token Validation page) allowed only 64 characters, resulting in potential errors and an inability to support more than one audience value. The Audience field length has been increased to 512 characters.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3713</p>
  </div>
  <div class="ATMO-25821">
    <h5><a name="HTTPMessageValidationpolicy%3AvirtualservicesfailwhenusingaTransformationActivity"></a>HTTP Message Validation policy: virtual services fail when using a Transformation Activity</h5>
    <p>When the HTTP Message Validation policy is attached to a virtual service using a Transformation Activity to transform the message, the response was failing with a 500 "Internal Server" error.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3888</p>
  </div>
  <div class="ATMO-25801">
    <h5><a name="CommunityManagerfreezesforadroppeddatabaseconnection"></a>Community Manager freezes for a dropped database connection</h5>
    <p>If the database connection was dropped because of network failure, all the Jetty request processing threads were waiting for one thread to finish the cache refresh of the tenant. Now, in the Akana Administration Console's database configuration <b>com.soa.database.config</b>, the default <tt>validationQueryTimeout</tt> property has been changed from 0 to 5 seconds. For Oracle instances, the default for <tt>maxConnLifetimeMillis</tt> has been changed from 0 to 1200000 milliseconds (20 minutes). These settings apply to new databases only.</p>
    <p> </p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3415</p>
  </div>
</div>
<div class="Version 8.4.24">
  <h3 id="8.4.24">Version 8.4.24</h3>
  <h4>Enhancements: 8.4.24</h4>
  <div class="ATMO-25534">
    <h5><a name="NewheaderconnectionpropertysupportsservicelevelmultivaluedheadersinaWSDL"></a>New header connection property supports service-level multi-valued headers in a WSDL</h5>
    <p>HTTP headers can now be configured as multi-valued in the API descriptor WSDL. This forces a parse of the header value before it is passed to the downstream service in order to send each part as an individual value, normalizing the values and removing unnecessary spaces in certain cases.</p>
    <p>Because this behavior is not always required or desirable, a new connection property <tt>http.multi.valued.headers</tt> allows multi-valued headers to be configured on a service basis rather than globally for the container, thus avoiding the parse operation when it is not required.</p>
    <p>To use this new property, add it to the WSDL within the port element. For example:</p>
    <p/>    
    <div id="syntaxplugin" class="syntaxplugin" style="border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;">
      <table cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;">
        <tbody >
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">&lt;wsdl:service name=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"SimpleGETService"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">&gt;</span></pre></td>
          </tr>
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;   width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"> &lt;wsdl:port name=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"SamplePort"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"> binding=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"tns:SimpleGETHTTPBinding"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">&gt;</span></pre></td>
          </tr>
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;   width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">   &lt;shttp:address location=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"http://SampleWSDL:9920"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">/&gt;</span></pre></td>
          </tr>
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;   width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">   &lt;soa:connectionProperty name=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"http.multi.valued.headers"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"> value=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"x-test-header1, X-Test-Header2"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">/&gt;</span></pre></td>
          </tr>
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;   width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"> &lt;/wsdl:port&gt;</span></pre></td>
          </tr>
          <tr id="syntaxplugin_code_and_gutter">
            <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">&lt;/wsdl:service&gt;</span></pre></td>
          </tr>
        </tbody>
      </table>
    </div>
    <p/>    
    <p> </p>
    <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
  </div>
  <div class="ATMO-25509">
    <h5><a name="UserdefinedClientIDsforanappnowhavetrailingandleadingspacesremoved"></a>User-defined ClientIDs for an app now have trailing and leading spaces removed</h5>
    <p>While creating or updating an application, leading and trailing spaces are now automatically trimmed if a user explicitly sets the ClientID value. This does not affect the situation in which the user accepts the generated default value for the ClientID. </p>
    <p> </p>
    <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
  </div>
  <div class="ATMO-25501">
    <h5><a name="OAuthProvider%3Asupportaddedforvalidationofmultipleaudienceclaims"></a>OAuth Provider: support added for validation of multiple audience claims</h5>
    <p>For an external OAuth Provider domain, the platform now supports both single-valued and multi-valued audience claims for token validation, separating the distinct audiences with either a space delimiter or a comma.</p>
    <p class="supID"><b>Support ticket: </b>SUPPORT-3593, SUP-16843</p>
  </div>
  <h4>Bug fixes: 8.4.24</h4>
  <div class="ATMO-25637">
    <h5><a name="JOSEPolicyv2%3Abase64encodedcritheadersnotcorrectlyhandled"></a>JOSE Policy v2: base64-encoded crit headers not correctly handled</h5>
    <p>For non-detached payloads, the JOSE Policy v2 was adding "b64" to crit headers, but the relevant header "b64:true" was missing. Now, only detached payloads will contain a b64 header.</p>
    <p class="supID"><b>Support ticket: </b>SUP-19111</p>
  </div>
  <div class="ATMO-25539">
    <h5><a name="AdministrationConsole%3AAkeyaliasdefinedforabootstrapkeystorewasnotbeingused"></a>Administration Console: A key alias defined for a bootstrap keystore was not being used</h5>
    <p>In the Akana Administration Console, a key alias defined for a bootstrap keystore alias was not being used; rather, a random key from the keystore was used. This is defined under the Configuration tab, <b>com.soa.security</b> category. The alias is now used to identify the correct key entry.</p>
    <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
  </div>
  <div class="ATMO-25506">
    <h5><a name="OAuthtokenexpirationdatedefaultstodomainprovider%27ssetting"></a>OAuth token expiration date defaults to domain provider's setting</h5>
    <p>The OAuth access token expiration property "expires_in" value defaults to the domain provider setting unless overridden by a value provided by the user within the application's OAuth profile setting.</p>
    <p class="supID"><b>Support ticket: </b>SUP-17942</p>
  </div>
  <div class="ATMO-25504">
    <h5><a name="ApprovalRequiredlabeldisplayingincorrectly"></a>Approval Required label displaying incorrectly</h5>
    <p>The Approval Required label for APIs (defined by the tenant admin accessed through Settings &gt; Public API Settings &gt; Live Auto Approval) was displaying incorrectly. Now the auto approval setting is based on the API's visibility settings (either public or private) set at the tenant level; public settings apply only to APIs with public visibility, and private settings apply to APIs with private visibility.</p>
    <p class="supID"><b>Support ticket: </b>SUP-17920, SUPPORT-2546</p>
  </div>
  <div class="ATMO-25486">
    <h5><a name="NetworkDirector%3AErrorwhenvalidatingJWTfromanExternalOAuthProvider"></a>Network Director: Error when validating JWT from an External OAuth Provider</h5>
    <p>For an External OAuth Provider, validation of the JSON web key (JWT) returned an error in some cases.</p>
    <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
  </div>
  <div class="ATMO-25460">
    <h5><a name="ProcessEditor%3ATransformationActivitycreatingnormalizedmessages"></a>Process Editor: Transformation Activity creating normalized messages</h5>
    <p>In the Process Editor, the Transformation Activity was incorrectly creating a normalized message. Because the message was normalized, the SOAP envelope was re-added to the message, with the result that the downstream service could not read the request and the request failed. This was a regression from a fix in 8.4.13; any 8.4 versions prior to 8.4.13 should work as expected.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18981, SUPPORT-3603, SUP-18459, SUPPORT-3084</p>
  </div>
  <div class="ATMO-25447">
    <h5><a name="LifecycleCoordinator%3ARuntimeConfigurationfailsduringuserauthenticationfornonlocaldomains"></a>Lifecycle Coordinator: Runtime Configuration fails during user authentication for non-local domains</h5>
    <p>Processing by the Runtime Configuration failed when a user was authenticated using SSO (Single-Sign-On) or the user belonged to any domain other than Local Domain.</p>
    <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
  </div>
</div>
<h3 id="8.4.23">Version 8.4.23</h3>
<h4>Deprecations: 8.4.23</h4>
<h5><em>JOSE Policy deprecated in 8.4.23; customers should transition to JOSE Policy v2 (Unencoded Payload  Support)</em></h5>
<p>A fix in version 8.4.19, correcting how the subject category  is treated for outbound messages, affects any policies that use outbound  identities, such as the WS-Security Policy and JOSE Policy.</p>
<p>This fix, which corrected an error, might cause a problem in  instances where customers are using the original v1 JOSE Policy with outbound  identities, in existing implementations.</p>
<p>The change is not related to the policies themselves, but to  how the subject category is treated for outbound messages.</p>
<p>Because of the limited functionality offered by the JOSE  Policy, it is deprecated in version 8.4.23. Customers should use the newer JOSE  policy version which was introduced in version 8.4.17: JOSE Policy v2 (Unencoded  Payload Support). Differences between these two policies include:</p>
<ul type="disc">
  <li>Expanded policy configuration support: the new policy       includes separate pages for configuration of inbound vs outbound messages       for both Provider and Consumer role options.</li>
  <li>Bug fixes:</li>
  <ul type="circle">
    <li>In some instances, such as signature verification        failure, the JOSE Policy returned an HTTP 500 response. In these        scenarios, the new policy now returns HTTP 401 (Unauthorized).</li>
    <li>The HS algorithms (HS256, HS384, and HS512) were not        working correctly in the JOSE Policy.</li>
    <li>Some security subjects configured in the policy        configuration were not used appropriately in some cases.</li>
  </ul>
  <li>Increased functionality:</li>
  <ul type="circle">
    <li>Support of the Unencoded Payload specification</li>
    <li>Support of PS algorithms (PS256, PS384, and PS512)</li>
    <li>Support of the <strong>crit</strong> headers required by the        Open Banking specification</li>
    <li>JWKS support (when configured for consumer Apps in the        App OAuth Profile)</li>
  </ul>
</ul>
<p>For information on the new policy, see <a href="http://docs.akana.com/ag/policies/policy_op_jose_security_v2.htm">Using  the JOSE Security Policy v2 (Unencoded Payload Support)</a>.</p>
<div class="Version 8.4.23">
  <h4>Bug fixes: 8.4.23</h4>
  <div class="ATMO-25415">
    <h5><a name="NetworkDirector%3Aremovingoraddingaclusternodefailsinsomecases"></a>Network Director: removing or adding a cluster node fails in some cases</h5>
    <p>Adding or removing a cluster node to or from the container returned an error in some environments.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18917</p>
  </div>
  <div class="ATMO-25393">
    <h5><a name="HTTPMessageValidationPolicy%3Asomeregularexpressionpatternsmishandled"></a>HTTP Message Validation Policy: some regular expression patterns mishandled</h5>
    <p>For APIs using the HTTP Message Validation Policy, some regex patterns were evaluated incorrectly. Now the platform conforms to the JavaScript regular expression standard.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18925</p>
  </div>
  <div class="ATMO-25389">
    <h5><a name="LifecycleCoordinator%3Aincorrectgroupassignmentpreventedtenantscopedpromotionapprovals"></a>Lifecycle Coordinator: incorrect group assignment prevented tenant-scoped promotion approvals</h5>
    <p>When promoting an API belonging to an organization in the source tenant that did not match the name of an organization in the target environment tenant (including the tenant organization), the APIs were assigned to the Enterprise Group. This was preventing tenant-scoped promotion approvals.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18949</p>
  </div>
  <div class="ATMO-25372">
    <h5><a name="LifecycleCoordinator%3AAPIpromotionfailswhenanAggregatePolicyisattachedtotheAPI%27simplementation"></a>Lifecycle Coordinator: API promotion fails when an Aggregate Policy is attached to the API's implementation</h5>
    <p>The promotion of APIs with an attached Aggregate Policy fails with a validation warning that the policy does not exist in the source environment. Now, APIs that reference Aggregate policies can be promoted if the referenced policy and contained policies have previously been imported into the target environment, and the policy keys match those of the source environment.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18912</p>
  </div>
  <div class="ATMO-25288">
    <h5><a name="HTTPMessageValidationPolicy%3Aincorrectvalidationofregularexpressions"></a>HTTP Message Validation Policy: incorrect validation of regular expressions</h5>
    <p>Regular expressions were not being correctly validated in the HTTP Message Validation Policy. Now, invalid patterns are detected and return an error.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18926</p>
  </div>
  <div class="ATMO-25255">
    <h5><a name="APIscreatedwithURLsnowrequirehostnamesconfiguredasForwardProxyHosts"></a>APIs created with URLs now require host names configured as Forward Proxy Hosts</h5>
    <p>For APIs created from URLs using the Dropbox API, only host names that are configured as Forward Proxy Hosts for the Tenant will be allowed. Configure the "Limit forward proxy feature to allow only these hosts" in Admin &gt; Site in the developer portal.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18930</p>
  </div>
  <div class="ATMO-25185">
    <h5><a name="LifecycleCoordinator%3AmultiplematchingRuntimeConfigurationassetsincorrectlyhandled"></a>Lifecycle Coordinator: multiple matching Runtime Configuration assets incorrectly handled</h5>
    <p>Tenant repository libraries did not correctly handle the case in which multiple matching Runtime Configuration assets were defined within the ancestor organization chain for an API, leading to the incorrect Runtime Configuration asset being applied to the API. With this fix, the first matching Runtime Configuration asset in an API's ancestor organization chain will be applied.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18892</p>
  </div>
  <div class="ATMO-25062">
    <h5><a name="Userprofilepagesupportstwokeysforbackwardscompatibility"></a>User profile page supports two keys for backwards compatibility</h5>
    <p>On the user profile page (Profile &gt; Details) in the developer portal, the left menu link displays "Details" but supports the keys <tt>resource.menu.user.details</tt> as well as <tt>resource.menu.user.profile</tt> for backwards compatibility.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18838</p>
  </div>
  <div class="ATMO-24983">
    <h5><a name="HTTPMessageValidationpolicy%3AFaultvalidationnotworking"></a>HTTP Message Validation policy: Fault validation not working</h5>
    <p>In a fault scenario where the HTTP Message Validation policy was attached to an API and a validation scope of Fault was specified, fault validation errors were not triggered even though the schemas were defined for the fault responses for correct HTTPS codes or "default" response schema. The fix resolved the issues; now, the correct schemas are picked up, or the "default" schema is used if defined, and an "undefined" response is received where appropriate.</p>
    <p class="supID"><b>Support ticket: </b>SUP-18802, SUP-18652</p>
  </div>
  <!-- End of new version contents -->
  <div class="Version 8.4.22">
    <h3 id="8.4.22">Version 8.4.22</h3>
    <h4>Bug fixes: 8.4.22</h4>
    <div class="ATMO-24982">
      <h5><a name="AppandAPIDetailspagesdisplaylargeblankareaonrightsideofpage"></a>App and API Details pages display large blank area on right side of page</h5>
      <p>When Lifecycle Coordinator was not installed, a blank area appeared on the App and API Details pages, a placeholder for the widget that displays Lifecycle Coordinator assets. This no longer displays when Lifecycle Coordinator is not installed.</p>
      <p class="supID"><b>Support ticket: </b>SUP-18779</p>
    </div>
    <div class="ATMO-24975">
      <h5><a name="HTTP401Unauthorizederrorreturnedonuserprofilepage"></a>HTTP 401 Unauthorized error returned on user profile page</h5>
      <p>For a non-admin user, the Profile page returned an HTTP error "401 Unauthorized" on the Security and Password left menu links.</p>
      <p class="supID"><b>Support ticket: </b>SUP-18736</p>
    </div>
    <!-- Insert new version contents here -->
  </div>
  <div class="New"></div>
  <div class="Version 8.4.21">
    <h3 id="8.4.21">Version 8.4.21</h3>
    <h4>Bug fixes: 8.4.21</h4>
    <div class="ATMO-24893">
      <h5><a name="MongoDB%3ASomeAPIAnalyticsreportsreturnincorrectdata"></a>Mongo DB: Some API Analytics reports return incorrect data</h5>
      <p>On an API's Analytics | Charts page in the developer portal, the analytical data was improperly aggregated when filtering for a year, returning incorrect data.</p>
      <p class="supID"><b>Support ticket: </b>SUP-18615, SUP-18513</p>
    </div>
    <div class="ATMO-24854">
      <h5><a name="PolicyManager%3Arequiredqueryandheaderparametersnotvalidatedforthe%C2%A0HTTPMessageValidationPolicy"></a>Policy Manager: required query and header parameters not validated for the HTTP Message Validation Policy</h5>
      <p>In the HTTP Message Validation Policy's Request scope, no errors were generated when required query and header parameters were missing.</p>
      <p class="supID"><b>Support ticket: </b>SUP-18652</p>
    </div>
  </div>
  <div class="Version 8.4.20">
    <h3 id="8.4.20">Version 8.4.20</h3>
    <h4>Bug fixes: 8.4.20</h4>
    <div class="ATMO-24867">
      <h5><a name="AvailabledomainsnotvisibleonEditOutboundIdentitypage"></a>Available domains not visible on Edit Outbound Identity page</h5>
      <p>On the API Implementation page, Edit Outbound Identity, the drop-down list of domains was not populated with the list of available domains.</p>
      <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
    </div>
    <div class="ATMO-24862">
      <h5><a name="Incorrectnotificationtextindeveloperportal"></a>Incorrect notification text in developer portal</h5>
      <p>In the developer portal's Notifications drop-down list, the text for "See all notifications" was incorrectly displayed.</p>
      <p class="supID"><b>Support ticket: </b>SUP-18597</p>
    </div>
  </div>
  <div class="Version 8.4.19">
    <h3 id="8.4.19">Version 8.4.19</h3>
    <h4>Enhancements: 8.4.19</h4>
    <div class="ATMO-24677">
      <h5 id=LifecycleCoordinatorsupportforpromotingappsandcontracts>Lifecycle Coordinator: support for promoting apps and contracts</h5>
      <p>When the Lifecycle Manager Integration feature is enabled, a new App Promotion setting allows app developers to promote the app to the next environment in the taxonomy. The Site Admin can enable the app promotion feature from the Admin | Settings | App Settings page in the developer portal. When enabled, the App Details page includes a right-side pane that displays the taxonomy for the app and a Promote button, depending on the workflow. The workflow controls whether app developers can promote their own apps, the promotion request must be approved, or app developers cannot request promotion at all.<br/>
        If an app has one or more contracts with APIs that exist in the new environment to which the app is being promoted, the contracts are automatically promoted at the same time, and the app will have the same contracts with the same APIs in the new environment. For detail, see <a href="http://docs.akana.com/cm/learnmore/app_promotion.htm" class="external-link" rel="nofollow">Promoting an App to the Next Environment</a> in the Akana docs.</p>
      <p> </p>
      <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
    </div>
    <div class="ATMO-24636">
      <h5><a name="LifecycleCoordinator%3Asupportforsourcetotargettenantfanout"></a>Lifecycle Coordinator: support for source to target tenant fanout</h5>
      <p>Lifecycle Coordinator now supports promoting an API from the source environment to multiple target environments, either in parallel or routed based on custom properties of the API.</p>
      <p class="supID"><b>Support ticket: </b>SUP-17849</p>
    </div>
    <div class="ATMO-24590">
      <h5><a name="AppOAuthProfilesecurityenhancements"></a>App OAuth Profile security enhancements</h5>
      <p>Additional options have been added to the App OAuth Profile page, including:</p>
      <ul>
        <li>A new authentication method "Global Setting" to indicate that the default setting should be used</li>
        <li>A Require Signed Requests setting to ensure that API requests from this app are always signed</li>
        <li>A Restricted Common Scopes setting to restrict the client's use of scopes</li>
        <li>A Restricted Response Types setting to allow only specified response types</li>
      </ul>
      <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
    </div>
    <div class="ATMO-24582">
      <h5><a name="SupportformobiletypesofURIschemasinAppOAuthProfilepage"></a>Support for mobile types of URI schemas in App OAuth Profile page</h5>
      <p>The App Oauth Profile page on the developer portal now supports mobile-type URI schemas for its Redirect URI authentication setting. For example:</p>
      <p/>      
      <div id="syntaxplugin" class="syntaxplugin" style="border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;">
        <table cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;">
          <tbody >
            <tr id="syntaxplugin_code_and_gutter">
              <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">com.googleusercontent.apps.</span><span style="color: #009900; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">902730282010</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">-ks3kd03ksoasioda93jldas93jjj22kr:/oauth2redirect</span></pre></td>
            </tr>
          </tbody>
        </table>
      </div>
      <p/>      
      <p> </p>
      <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
    </div>
    <div class="ATMO-24578">
      <h5><a name="JOSESecurityPolicyv2%3ASupportformultipleidentities"></a>JOSE Security Policy v2: Support for multiple identities</h5>
      <p>In Policy Manager, the Subject category of outbound identities was being replaced during service invocation. Now, the policy correctly supports multiple identities for signing and encryption, allowing asymmetric cryptography.</p>
      <p class="supID"><b>Support ticket: </b>SUP-17610</p>
    </div>
    <div class="ATMO-24528">
      <h5><a name="ExternalOAuthProviderDomain%3ARuntimeformatnowsupportedforPingFederateprovider"></a>External OAuth Provider Domain: Runtime format now supported for PingFederate provider</h5>
      <p>The platform previously supported PingFederate's "Admin" API for client registration. Based on customer requirements, the platform now instead supports PingFederate's "Runtime" API for client registration. This support includes a new Version Number field on the Extensions tab of the Add External OAuth Provider Domain page to identify the PingFederate version. </p>
      <p> </p>
      <p> </p>
      <p class="supID"><b>Support ticket: </b>SUP-18514, SUP-17826</p>
    </div>
    <div class="ATMO-24509">
      <h5><a name="NewRESTmessagevalidationpolicy"></a>New REST message validation policy</h5>
      <p>Adds the ability to validate the content of REST API requests and/or responses against criteria contained in the Swagger, RAML, or WSDL document used to define the API in the developer portal. In addition to validating form, query, and header parts, this support includes complete validation of JSON message payloads based on JSON schemas contained in the Swagger, RAML, or WADL documents. For detail, see <a href="http://docs.akana.com/ag/policies/policy_op_http_message_validation.htm" class="external-link" rel="nofollow">Using the HTTP Message Validation in Policy Manager</a>.</p>
      <p class="supID"><b>Support ticket: </b>SUP-14623</p>
    </div>
    <div class="ATMO-24371">
      <h5><a name="LifecycleCoordinator%3AAPInamecanbeupdatedaspartofRuntimeConfigurationprocessing"></a>Lifecycle Coordinator: API name can be updated as part of Runtime Configuration processing</h5>
      <p>Changes in the name of an API asset will now be reflected back to the Community Manager API as part of Runtime Configuration processing when the asset is published.</p>
      <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
    </div>
    <div class="ATMO-24347">
      <h5><a name="MultipleSecurityMaliciousPatternDetectionPoliciesnowsupportedforaservice"></a>Multiple Security Malicious Pattern Detection Policies now supported for a service</h5>
      <p>If more than one HTTP or WS-Malicious Pattern Detection Policy (MPDP) was attached to a service in Policy Manager, only one was in effect. Now, each MPDP attached to a service has the opportunity to process messages. </p>
      <p> </p>
      <p class="supID"><b>Support ticket: </b>SUP-17637</p>
    </div>
    <h4>Bug fixes: 8.4.19</h4>
    <div class="ATMO-24536">
      <h5><a name="PolicyManager%3Amanagementscriptnotinvokedwhenalertoccursafterupgradeto8.4"></a>Policy Manager: management script not invoked when alert occurs after upgrade to 8.4</h5>
      <p>After upgrading to 8.4, some management scripts regarding alerts were not correctly inserted into the queue in a cluster environment.</p>
      <p class="supID"><b>Support ticket: </b>SUP-18348</p>
    </div>
    <div class="ATMO-24533">
      <h5><a name="PipelinePolicyRequestconfigurationwindowsdonotexpandcorrectly"></a>Pipeline Policy Request configuration windows do not expand correctly</h5>
      <p>When modifying a Pipeline Policy in the developer portal, the Request Configuration category "Modify Component" dialog was not expanding properly, so that all options could not be displayed.</p>
      <p class="supID"><b>Support ticket: </b>SUP-18365</p>
    </div>
    <div class="ATMO-24530">
      <h5><a name="LifecycleCoordinator%3AincorrectsynchronizationoftenantorganizationsforidenticaltenantIDs"></a>Lifecycle Coordinator: incorrect synchronization of tenant organizations for identical tenant IDs</h5>
      <p>Lifecycle Coordinator was not correctly synchronizing tenant organizations when a topology contained tenants with identical tenant IDs.</p>
      <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
    </div>
    <div class="ATMO-24456">
      <h5><a name="APIcreationwithJSONfailswhenschema%27suniqueindexreachesmaxsize"></a>API creation with JSON fails when schema's unique index reaches max size</h5>
      <p>Creation of an API using a JSON descriptor document failed when the unique index for the JSON schema reached the max size limit. This also occurred when modifying the API design if the existing JSON schema had been edited.</p>
      <p> </p>
      <p> </p>
      <p class="supID"><b>Support ticket: </b>SUP-18543</p>
    </div>
    <div class="ATMO-24415">
      <h5><a name="APIcalltocreateorupdateanappfailsduringTPPonboardingforOracle"></a>API call to create or update an app fails during TPP onboarding for Oracle</h5>
      <p>When updating an app on the App Oauth Profile page in Community Manager, onboarding a Third Party Provider (TPP) may fail for an Oracle database, due to the way OAuth metadata was stored.</p>
      <p class="supID"><b>Support ticket: </b>SUP-18192, SUP-18165 </p>
    </div>
    <div class="ATMO-24372">
      <h5><a name="LifecycleCoordinator%3AsupportderivationofavirtualAPIendpointpathfromaproxytargetendpointpathusingRuntimeConfigurations"></a>Lifecycle Coordinator: support derivation of a virtual API endpoint path from a proxy target endpoint path using Runtime Configurations</h5>
      <p>Extended properties/workflow validation scripts can now access information, such as physical service endpoints, from an API's implementation. Validation scripts can then use this information to set properties that may later be used in Runtime Configuration classifier values via replacement parameters.</p>
      <p>For example, a validation script could retrieve a proxy-implementation's physical endpoint path, manipulate it, and then place the manipulated value into an asset property called "live-vs-endpoint-path" for use in setting the virtual service endpoint paths.</p>
      <p>The path classifier in the Runtime Configuration would then be set to:</p>
      <p/>      
      <div id="syntaxplugin" class="syntaxplugin" style="border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;">
        <table cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;">
          <tbody >
            <tr id="syntaxplugin_code_and_gutter">
              <td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;"><pre style="font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">{catalog_asset.property.live-vs-endpoint-path} </span></pre></td>
            </tr>
          </tbody>
        </table>
      </div>
      <p/>      
      <p class="supID"><b>Support ticket: </b>No related support tickets.</p>
    </div>
  </div>
  <h3>Version 8.4.18</h3>
  <h4>Minor Enhancements: 8.4.18</h4>
  <h5>Support for  the Open Banking specification</h5>
  <p>The platform now supports the Open Banking specification with a  new option &ldquo;Enforce Open Banking&rdquo; for JOSE Security Policy v2. If checked, Open  Banking rules are enforced.</p>
  <h5>Improved metrics for monitoring container memory  usage and outgoing HTTP connections</h5>
  <p>In the Akana Administration Console when the Akana Admin  Monitoring Tool is installed, the Monitoring tab now includes additional  properties:</p>
  <ul>
    <li>The <strong>com.soa.vmstats</strong> category that reports memory usage now includes a monitored attribute for the  maximum configured memory (which should match any -Xmx value), and the amount  of used memory as a percentage of the max. </li>
    <li>In the <strong>com.soa.transport.jetty</strong> category that monitors outgoing HTTP connections, the monitor PID now reflects  the listener name (rather than a number) for each configured Jetty connector.</li>
  </ul>
  <p><span class="supID-from-word">SUP-17142</span><br>
  </p>
  <h5>Lifecycle Coordinator:  populate current iteration of an API within a tenant as a classifier onto the  API&rsquo;s asset representation</h5>
  <p>Lifecycle Coordinator  now includes a &ldquo;current iteration&rdquo; classifier value on an API asset. This value  represents the currently active iteration for the asset&rsquo;s tenant.<br>
    <span class="source-hide">ATMO- 22951  for 8.4.18 {: Done  as of 5/10][Rev, Tim, 5/16]</span></p>
  <h5>Lifecycle  Coordinator: support for propagating artifacts in another environment from the  artifacts of a promoted asset</h5>
  <p>Lifecycle Coordinator  now supports setting URLs into artifacts using asset notifications. This allows  the propagation of an artifact from one environment to another based on the  artifact of the asset being promoted.<br>
    <span class="supID-from-word">SUP-18135</span><br>
  </p>
  <h5>Lifecycle Coordinator: Runtime  Configurations can now designate deployment zones for an API</h5>
  <p>A Deployment Zone  classifier can now be added to a Runtime Configuration asset to define  deployment zones for related APIs. Any number of deployment zones defined for  the tenant may be selected. Matching API implementations are then deployed in the  selected deployment zones. <br>
    <span class="source-hide">ATMO- 23963 for 8.4.18  &amp; 2018.0  {: Resolved   as of 5/16][Rev, Tim. 5/16]</span></p>
  <h5>Lifecycle Coordinator: support load-balanced portal  clusters in API promotion topology</h5>
  <p>Lifecycle Coordinator now supports  access to tenants fronted by load balancers in which access to the tenant is  via the load balancer&rsquo;s virtual address rather than the tenant&rsquo;s physical  address. This is facilitated with an optional &ldquo;virtual-address&rdquo; property in the  topology&rsquo;s tenant definition which is then used to remotely access the tenant.<br>
    <span class="source-hide">ATMO- 24185 for 8.4.18</span></p>
  <h5>Users are now required to  enter extensible properties when that feature is enabled </h5>
  <p>When extended  properties/workflow is enabled with required user extensible properties, users  are now required to enter extensible properties after activation or on their  next login.<br>
    <span class="source-hide">ATMO- 20425 for 8.4.18  &amp; 2018.0</span></p>
  <h5>JOSE Security Policy v2: now available in Test Client</h5>
  <p>The Test Client tool now supports testing apps configured to use  the JOSE Policy v2, selected in the Security wizard on the Security Policy:  JOSE Security v2 page.<br>
    <span class="source-hide">ATMO- 23517 for 8.4.18 &amp; 2018.0  {: Done as of 5/16]. ATMO-23792 0  {: In Progress  as  of 5/21] [Rev Mujeeb, 5/24]</span></p>
  <h4>Bug Fixes: 8.4.18</h4>
  <h5>JOSE Security Policy v2: some  requests fail when verifying an Open Banking signed request </h5>
  <p>For requests using the  JOSE compact detached policy and Open Banking, some signed requests failed due  to an incorrect date. <br>
    <span class="supID-from-word">SUP-17645</span><br>
  </p>
  <h5>MongoDB/Envision:  the operationName and serviceName fields are null</h5>
  <p>When  the Envision plug-in is installed and enabled, writing new records to a MongoDB  database resulted in null values for the <strong>operationName</strong> and <strong>serviceName</strong> fields of the AUDIT  collection in the MongoDB&rsquo;s PM_AUDIT database.</p>
  <p><span class="supID-from-word">SUP-18118</span><br>
  </p>
  <h5>JOSE Security Policy v2: should  send the Content-Type from the backend service in the response</h5>
  <p>When  the JOSE 2.0 policy is applied and configured for a detached signature, the HTTP  header Content-Type being returned was changed. For example, if the backend  service sent <strong>Content-Type: application/json</strong> in the HTTP header, it was changed to <strong>Content  Type:  application/json+jose</strong> when  returned to the consumer. Now, if Enforce Open Banking is selected for the  policy, the Content-Type is not changed. </p>
  <p class="source-hide">ATMO-  24107 for 8.4.18 &amp; 2018.0  {: Resolved  as of  5/21] [Rev Cherryl, 5/24]</p>
  <h5>JOSE Security Policy v2: OUT Message Options page  incorrectly displayed Custom Headers</h5>
  <p>On the JOSE Security Policy v2 OUT Message Options page, the  Custom Headers options were incorrectly displayed under &ldquo;Encrypt Content&rdquo;; now  they appear under &ldquo;Sign Content.&rdquo;<br>
    <span class="supID-from-word">SUP-17611</span><br>
  </p>
  <h5>Policy Manager: cannot import an ECDSA key </h5>
  <p>An Elliptic Curve  Digital Signature Algorithm (ECDSA) private and public key could not be  imported into Policy Manager in the Manage PKI Keys wizard.<br>
    <span class="source-hide">ATMO-  23171 for 8.4.18 &amp; 2018.0  {: Resolved  as of  5/21][Rev Aren, 5/21]</span></p>
  <h5>Tempered  or invalid OAuth token returned error code 500 instead of 401</h5>
  <p>When an OAuth token&rsquo;s  structure was tempered or invalid, the error code returned was 500 &ldquo;Internal  Server Error,&rdquo; rather than 401 &ldquo;Unauthorized.&rdquo; Now an error code of 401 is returned.<br>
    <span class="supID-from-word">SUP-17839</span><br>
  </p>
  <h5>Duplicate redirect URIs in OAuth Profile resulted  in errors with the PingFederate provider</h5>
  <p>With PingFederate as the OAuth provider, and when duplicate  redirect URIs were defined on the App OAuth Profile page, the app later was unavailable  in PingFederate for authentication. Duplicate redirect URIs are now unallowed  on the App OAuth Profile, and only unique URLs are sent to Ping in order to handle  existing apps that have duplicate redirect URIs.<br>
    <span class="supID-from-word">SUP-18477</span><br>
  </p>
  <h5>Verification of the Open Banking iss header  required spaces in the certification&rsquo;s Distinguished Name</h5>
  <p>When verifying a private <strong>iss</strong> header, Network Director was  incorrectly requiring spaces in the certificate&rsquo;s Distinguished Name (DN) due  to the way the DN attributes were being retrieved. Now Network Director verifies  each element in the DN.</p>
  <p class="source-hide">ATMO- 24102 for 8.4.18 {: Resolved  as of  5/15][Rev Aren, 5/16] [Rev Mujeeb, 5/24]</p>
  <h5>JOSE Security Policy v2: private  headers on IN options page and new Enforce Open Banking option</h5>
  <p>For JOSE Security Policy  v2, the option to add private headers has been added to the IN message options  page, along with a new option Enforce Open Banking which, if checked, enforces  Open Banking rules. <br>
    <span class="source-hide">ATMO- 24103, ATMO-24133  , ATMO-24135  for 8.4.18 &amp;  2018.0  {: Resolved   as of 5/15][rev Barbara, 5/16]</span></p>
  <h5>Server Side Request Forgery prevention: new restriction to  limit protocols to HTTP and HTTPS</h5>
  <p>As an added security measure, the Dropbox API no longer allows  the use of localhost in the hostname, and only HTTP and HTTPS protocols are  allowed.<br>
    <span class="supID-from-word">SUP-17012</span><br>
  </p>
  <h5>Imported  APIs are not placed in the API organization</h5>
  <p>After upgrading from 8.2.x to 8.4.x, imported APIs were placed in  the Tenant organization services folder rather than the API organization services  folder. This resulted in an HTTP 401 &rdquo;Unauthorized&rdquo; error message for API  Admins.<br>
    <span class="supID-from-word">SUP-17871</span><br>
  </p>
  <h5>Licensing  turned off by default on API import</h5>
  <p>After API import, the licensing option was disabled in some  cases.<br>
    <span class="supID-from-word">SUP-17875</span><br>
  </p>
  <h5>API  creation with a Swagger document and no defined host results in an invalid URL  for the target endpoint</h5>
  <p>When creating an API in the developer portal using a Swagger  document with no &ldquo;host&rdquo; value defined, the target endpoint was set to &ldquo;http://&rdquo;,  causing problems in future exports and imports. Now, the API is created without  an endpoint if the &quot;host&quot; value is not present in the Swagger document.<br>
    <span class="supID-from-word">SUP-18136</span><br>
  </p>
  <h5>Upgrade to  8.4.17 results in a failure to deploy some APIs</h5>
  <p>After upgrading to 8.4.17, in some cases, APIs with Delete  methods in a Swagger API description document could not be deployed.<br>
    <span class="supID-from-word">SUP-18407</span><br>
  </p>
  <h5>WADL Export feature does not produce a valid WADL  file</h5>
  <p>Exporting a WADL API description document resulted in an invalid  WADL file with missing operation details.<br>
    <span class="supID-from-word">SUP-18106</span><br>
    <span class="source-hide">ATMO- 23690 for 8.4.18 &amp; 2018.0  {Status 4/27: Resolved   as of 5/8] [Review Andrew, 5/10]</span></p>
  <h5>Improve WS-Security Policy logging</h5>
  <p>Additional  logging is now generated to assist in debugging issues with the WS-Security  policy handler.<br>
    <span class="source-hide">ATMO- 23968 for 8.2.31 and 8.4.18   {Status 4/23: Resolved  }[copy by Gerry, 5/3]</span></p>
  <h3 id="8417">Version 8.4.17</h3>
  <h4>New Features: 8.4.17</h4>
  <h5>New JOSE  Security Policy v2 expands JWS support to include RFC7797 and RFC7515</h5>
  <p>The platform now includes a new policy, JOSE Security Policy  v2, which supports both these standards:</p>
  <ul>
    <li>JSON Web Signature (JWS) Unencoded Payload  Option (<a href="https://tools.ietf.org/html/rfc7797">https://tools.ietf.org/html/rfc7797</a></li>
    <li>JSON Web Signature (JWS), <a href="https://tools.ietf.org/html/rfc7515" target="_blank" title="JWS standard">https://tools.ietf.org/html/rfc7515</a></li>
  </ul>
  <p>Features of this new policy include:</p>
  <ul>
    <li>Support for either standard JWS or compact JWS  unencoded payload. For an unencoded payload, specify a header parameter name  that includes a JSON Web Signature.</li>
    <li>Support of multiple identities for signing and  encryption, allowing asymmetric cryptography.</li>
    <li>Separate pages for configuration of IN options  and OUT/FAULT options.</li>
    <li>Support of additional signature/MAC algorithms  for signing of content in OUT messages, including PS256, PS384, and PS512.</li>
    <li>For OUT or Fault messages:</li>
    <ul>
      <li>Support for custom headers. For example, use a  custom header to define which JWKS <strong>kid</strong> ((Key ID parameter) parameters to use.</li>
      <li>Support for private headers that comply with the  Open Banking 2.0 specification, including specifying custom <strong>iat</strong> and <strong>iss</strong> headers in the <strong>crit</strong> header.</li>
    </ul>
  </ul>
  <p><span class="supID-from-word">SUP-17643, SUP-17658, SUP-17646, SUP-17610, SUP-17645, SUP-17611, SUP-17819</span><br>
    <span class="source-hide">ATMO- 23072 for 8.4.17  &amp; 2018.0  {Status 4/23: Resolved }[Rev Aren, 4/23<br>
      <a name="_Hlk512232656">ATMO-  23087 for 8.4.17 &amp; 2018.0  {Status  4/23: Resolved }[Rev Aren, 4/23]</a></span></p>
  <p class="source-hide"><a name="_Hlk511120745">ATMO-  23074 for 8.4.17, 2018.0  {Status 4/23:  Resolved. Rev. Aren, 4/9}</a></p>
  <p class="source-hide">ATMO-23022 for 8.4.17  {Status 4/23: Resolved.}<br>
    <a name="_Hlk511120754">ATMO-23082  for 8.4.17 &amp; 2018.0 {Status 4/23: Resolved. Rev by Aren, 4/9}</a></p>
  <p class="source-hide">ATMO-23483 for 8.4.17  &amp; 2018.0  {Status 4/23: Done.}<br>
    ATMO- 23030 for 8.4.17  &amp; 2018.0  {Status 4/11: Resolved.{Rev  Aren, 4/11}<br>
    ATMO- 23272 and  ATMO-23821 for 8.4.17 &amp; 2018.0   {Status 4/23: Resolved. [Rev Aren, 4/23]<br>
    Also related to  ATMO-23829, adding Psxxx algorithms to CM UI, but that is not yet resolved.</p>
  <h4>Minor Enhancements: 8.4.17</h4>
  <h5>Policy  Manager: new index for MO_USAGEDATA for improved performance</h5>
  <p>The database table <strong>MO_USAGEDATA</strong> includes a new index <strong>MO_USGDATA_SER_REQDTS</strong> that provides improved performance when querying the database:</p>
  <pre class="code">CREATE  INDEX  MO_USGDATA_SER_REQDTS ON MO_USAGEDATA(SERVICEID,REQUESTDTS); </pre>
  <p class="Note"><strong>Note</strong>: Customers using  RDBMS for usage logs prior to upgrading from 8.2.x to 8.4.x will need to prerun  the index. <br>
    <span class="supID-from-word">SUP-17887</span><br>
  </p>
  <h5>Lifecycle Coordinator: add ability to promote the  certificate tied to the API</h5>
  <p>The certificate and  public keys attached to an API implementation can now be included as part of API  promotion, for both local and remote situations.<br>
    <span class="supID-from-word">SUP-17938</span><br class="supID-from-word">
  </p>
  <h5>Lifecycle Coordinator: API implementation  supports validation and post-processing promotion </h5>
  <p>The API Platform  supports the ability to create a &ldquo;client app&rdquo; representation of an API, used to  establish contact with other APIs. This app is automatically generated if set,  and includes metadata properties identifying the related API or app. The  generated client app also validates to ensure that all contract dependencies to  virtual services exist in the target tenant. <br>
    <span class="source-hide">ATMO- 23398 &amp; ATMO-22955  for 8.4.17 {Status 4/23: Done.} {Rev, Tim. 4/10}</span></p>
  <h5>Lifecycle Coordinator: set or clear preserve  keys on a tenant-by-tenant basis </h5>
  <p>For multiple early-stage  tenants on a single API Platform installation, preserve keys can be disabled  for promotion between these stages and enabled for remaining downstream stages.<br>
    In previous releases, it  was necessary to choose whether unique Ids would be preserved during promotion  at a Lifecycle Coordinator installation level. This prevented the possibility  of hybrid topologies with a mix of remote and co-located tenants. The key  preservation behavior is now set automatically, based on the relative location  of source and target tenants for a promotion. With this change, the setting of  the preserve-keys configuration flag is no longer necessary.<br>
    <span class="source-hide">ATMO- 22953 for 8.4.17  and 2018  {Status 4/23: Done.} {Rev, Tim.  4/10}</span></p>
  <h5>Lifecycle Coordinator: new support of  Runtime Configuration</h5>
  <p>The Runtime  Configuration functionality, previously available only in Lifecycle Manager, is  now available in Lifecycle Coordinator. This allows templates for API  implementation properties to be established and selectively applied based on  custom property filters.<br>
    Runtime configuration  is accomplished through customization of the Lifecycle Manager library in which  custom properties for a tenant are configured. This configuration requires a  working knowledge of the Lifecycle Manager application and the Configuration  Designer Tool.<br>
    For more information,  see <a href="http://docs.akana.com/cm/promotion/promotion_users_guide.htm#runtime_config" target="_blank">http://docs.akana.com/cm/promotion/promotion_users_guide.htm#runtime_config</a> (Promotion Guide).<br>
    <span class="supID-from-word">SUP-17062 </span><br>
  </p>
  <h5>Lifecycle Coordinator: provide control to  set Approval Required flag on API</h5>
  <p>With the addition of the  Runtime Configuration feature, Lifecycle Coordinator now supports control of  the Approval Required flag on an API. This can be used, for example, to support  a scenario in which an API will be exposed to different groups of consumers: for  example, internal consumers who should be able to create a contract automatically,  and external consumers whose requests should be approved by the API Admin.<br>
    This classifier is  applicable only when the <strong>Allow Anonymous  Access</strong> flag is set to <strong>False</strong>.  Leaving this classifier unset indicates that the <strong>Approval Required</strong> value of the implementation should not be  modified.<br>
    <span class="source-hide">ATMO-22950 for 8.4.16  {Status 4/23: Done} {Rev,  Tim. 4/10}</span></p>
  <h5>Set path on API create via extended  metadata/workflow</h5>
  <p>For newly created APIs, the  extended metadata/workflow can now set the <strong>path</strong> classifier to define the context path for every endpoint. This helps ensure  that the path is unique.<br>
    <span class="supID-from-word">SUP-17669</span><br>
  </p>
  <h5>External OAuth Provider Domain: with PingFederate  provider, support for syncing app certificate with PingFederate</h5>
  <p>For the PingFederate provider, the developer portal&rsquo;s External  OAuth Provider domain setup now supports an additional property <strong>Synchronize Client Certificate</strong>,  available on the Extensions page. If checked, apps that have a contract with an  API using this domain can authenticate with PingFederate via the app&rsquo;s  certificate.<br>
    <span class="supID-from-word">SUP-17877</span><br>
  </p>
  <h5>External OAuth Provider Domain now includes a &ldquo;refresh_token&rdquo; grant type  option in the default list of options </h5>
  <p>In the developer  portal&rsquo;s External OAuth Provider domain setup, Provider page, the Supported  Grant Types field now includes an additional option, Refresh Token. The new  option supports external OAuth providers that list refresh token as a separate  grant type. The new option appears on the list of default grant types only if  the user selects manual configuration or if the provider&rsquo;s well-known  configuration includes it. If any domain on the platform includes this option,  it appears on the default list of grant types in the App OAuth Profile page.</p>
  <p class="note"><strong>Note</strong>: This option doesn&rsquo;t appear in domains that were created  before upgrading to 8.4.17. To make sure the new option is enabled in the App  OAuth Profile page, you can create a new domain and select the Refresh Token  option. It will then appear in the App OAuth Profile page, and will work for  pre-existing domains even though the setting doesn&rsquo;t appear in the user  interface for those domains. Using this approach means you don&rsquo;t need to  re-create existing domains.</p>
  <p> <span class="supID-from-word">SUP-17725</span><br>
  </p>
  <h5>Lifecycle Coordinator: support for  automatically promoting APIs across environments based on custom property state</h5>
  <p>A new task &ldquo;Promote API  to next Environment&rdquo; is now available when customizing the API workflow  behavior using the Lifecycle Manager Extensions feature. This task can be used  to trigger auto-promotion of an API based on the current state of the API&rsquo;s  custom properties.<br>
    <span class="source-hide">ATMO- 23394 for 8.4.17  &amp; 2018.0  {Status 4/23: Done.}{Rev.  Tim, 4/11}</span></p>
  <h5>Lifecycle Coordinator: Promotion Profile now  supports custom property to update earlier staging tenants after successful API  promotion</h5>
  <p>A Promotion Profile can  now optionally specify updates to instances of an API within environments of a  topology on completion of a successful promotion, using custom properties on  the development and test tenants. See <a href="http://docs.akana.com/cm/promotion/promotion_users_guide.htm#asset_notification">http://docs.akana.com/cm/promotion/promotion_users_guide.htm#asset_notification</a> for more information.  <br>
    <span class="source-hide">ATMO- 22948 for 8.4.17  {Status 4/23: Done }[Rev Tim, 4/23]</span></p>
  <h4>Bug Fixes: 8.4.17</h4>
  <h5>Network Director: Stack overflow error when updating a  service</h5>
  <p>Parsing of scripting policies  was occasionally causing a Stack Overflow Exception, because the mechanism used  to embed scripts in XML sometimes resulted in an invalid XML document.  <br>
    <span class="supID-from-word">SUP-15640, SUP-16980</span><br>
  </p>
  <h5>Policy Manager: creating a service exhausted the connection  pool in some environments</h5>
  <p>In some environments,  creating a service failed due to connection pool errors. This was caused by one  of the scheduler jobs (CRL refresh) failing to parse the response, thus exhausting  the connections in the pool.<br>
    <span class="supID-from-word">SUP-17293</span><br>
  </p>
  <h5>Lifecycle Coordinator: promotion API error may occur in certain  cases </h5>
  <p>When promoting from  environments other than the initial environment in a topology (environments  2-n), a promotion failure may occur. This failure corresponds with an error in  the app_x logs indicating that an asset &ldquo;was not locked&rdquo;.  <br>
    <span class="supID-from-word">SUP-18137</span><br>
  </p>
  <h5>Lifecycle Coordinator: policies on child  organizations result in a promotion error</h5>
  <p>Policy validation was recognizing policies only at the tenant organization  level. Now, policy validation includes policies in sub-organizations.<br>
    <span class="supID-from-word">SUP-18151</span><br>
  </p>
  <h5>Lifecycle  Coordinator: asset notification values can now use Lifecycle Manager context  replacement parameters.</h5>
  <p>The previous implementation for asset notifications supported  static values only; now, values can be retrieved from the target environment&rsquo;s  object context.<br>
    <span class="supID-from-word">SUP-18135</span><br>
  </p>
  <h5>JOSE security policy v2 returning  incorrect 500 error code</h5>
  <p>In some cases, when a JOSE JWS request/response with OAuth  encountered an authorization error, an HTTP 500 error was returned, rather than  the expected 401 status code relevant to message security.<br>
    <span class="supID-from-word">SUP-18211</span><br>
  </p>
  <h5>JOSE policy errors when signing a response  and sending a public key with some algorithms</h5>
  <p>Some HS algorithms used  in the JOSE Security policy for signing and verification were returning errors<strong>.</strong><br>
    <span class="supID-from-word">SUP-17603</span><br>
  </p>
  <h5>Algorithm not verified on the inbound  request </h5>
  <p>For  security policies configured with a specific algorithm suite, the default  behavior of the policy enforcement handlers is to allow sending requests that  use a different algorithm suite without returning an error. In order to support  validation of algorithms while retaining backwards compatibility, a new  configuration property, <strong>com.soa.wssecurity</strong> -&gt; <strong>validate.algorithms</strong>, has been  introduced. By default, this is set to <strong>false</strong>.  When <strong>true</strong>, the WS-Security policy  handler validates that the algorithms used for signatures and encryption match  the configured algorithm suite.<br>
    <span class="supID-from-word">SUP-17828</span><br>
  </p>
  <h5>Network Director: memory leak in script processing</h5>
  <p>Compiled scripts are pooled  to improve performance. Unused scripts were not being removed from the pool  correctly, resulting in a memory leak that could ultimately lead to an out-of-memory  error.<br>
    <span class="supID-from-word">SUP-15356</span><br>
  </p>
  <h5>Extended metadata/workflow: &ldquo;add user&rdquo; page from a group  fails to load</h5>
  <p>When adding a user from  a group on the &ldquo;Add Users&rdquo; page, the page failed to load.<br>
    <span class="source-hide">ATMO- 23667 for 8.4.17  &amp; 2018.0  {Status 4/23: Closed } [Rev  David, 4/23]</span></p>
  <h5>Policy Manager/Envision:  API invocation fails when Business Metrics policy defined with query parameter  dimension and no parameter is passed</h5>
  <p>In previous releases, if an Envision Business Metrics policy was  defined with a dimension mapped to a query parameter in the request, and a  request was then issued to the API without the query parameter specified, the  invocation failed with a 500 response. With this release, a missing query  parameter will be tolerated without error.<br>
    <span class="supID-from-word">SUP-17557</span><br>
  </p>
  <h5>Policy  Manager: enabling previously disabled users resulted in a &ldquo;disabled&rdquo;  notification</h5>
  <p>When a previously disabled user was reenabled, that user received  another, incorrect notification of being disabled. The fix ensures that the  user&rsquo;s &ldquo;Expire Date and Time&rdquo; column is now set back to NULL when the user is  re-enabled.<br>
    <span class="supID-from-word">SUP-17273</span><br>
  </p>
  <h5>Policy  Manager: pool exhausted when connecting to LDAP server</h5>
  <p>Multiple queries to an LDAP server were each opening a separate  connection, exhausting the connection pool. The connection pool is now  configured to block if no connections are available and the fairness flag is  used to avoid thread starvation, addressing any potential leaks.<br>
    <span class="supID-from-word">SUP-14058</span><br>
  </p>
  <h5>UI displays blank page in Site Admin&rsquo;s Password and  Security pages for logins with no hostname</h5>
  <p>When logging in from an  external domain that was not configured for the logged-in hostname, the developer  portal user interface displayed blank Password and Security pages.<br>
    <span class="supID-from-word">SUP-17966</span><br>
  </p>
  <h5>Lifecycle Coordinator: tenant synchronization loses  tenantID property</h5>
  <p>When syncing OrgGroups  with the tenant Organization, the tenantID property was getting lost, resulting  in promotion requests not being assigned to the proper OrgGroup. This was a  regression from work done to resolve SUP-17060 in version 8.4.13.<br>
    <span class="supID-from-word">SUP-17060</span><br>
  </p>
  <h5>Lifecycle  Coordinator: unset, read-only compound classifier resulting in failure to save  properties and a system error</h5>
  <p>For an API that included  a compound classifier that was optional, read-only and had no value, saving  properties failed in some cases.<br>
    <span class="supID-from-word">SUP-17848</span></p>
  <h5>Policy Manager:  MongoDB errors when upgrading the API Platform version </h5>
  <p>The MongoDB database installation did not successfully complete  after an API Platform upgrade, retaining pending index tasks.<br>
    <span class="supID-from-word">SUP-18076</span><br>
  </p>
  <h5>Policy Manager: the Add Service wizard&rsquo;s Describe  Operation help pane incorrectly included out-only message pattern </h5>
  <p>The out-only message  operation is not supported, but was incorrectly included in the <strong>Describe Operation</strong> help pane.<br>
    <span class="supID-from-word">SUP-10754</span><br>
  </p>
  <h5>Network Director: &quot;Unrecognized Exchange  Pattern&quot; (10001) errors when invoking a service</h5>
  <p>WSDL files without a  valid HTTP method defined were returning &ldquo;Unrecognized Exchange Pattern&quot;  (10001) errors. Network Director now logs an error but continues processing  using the incoming HTTP method. If there is no incoming HTTP method, an  exception is generated. <br>
    <span class="supID-from-word">SUP-17349, SUP-17174, SUP-18047</span><br>
  </p>
  <h5>Oracle 11g:  In upgrade from 8.2.12 to 8.4.15, upgrade schemas failed</h5>
  <p>When upgrading from 8.2.14 to 8.4.15 when using database Oracle  11g, upgrade of the database schemas failed if entries were set to NOT NULL for  the column that already had NOT NULL, due to Oracle limitations. <br>
    <span class="supID-from-word">SUP-18011</span><br>
  </p>
  <h5>Referential  integrity missing from the BUSINESS_USER_SETTINGS table</h5>
  <p>The referential integrity constraint was not present on the <strong>BUSINESS_USER_SETTINGS</strong> table, causing entries to remain in the table after business  deletion. <br>
    <span class="supID-from-word">SUP-1792</span><br>
  </p>
  <h5>Hermosa theme displayed incorrect color for the HTTP default  response</h5>
  <p>API operations were not displaying in  gray for the HTTP default response status code. </p>
  <p><span class="supID-from-word">SUP-17940</span><br>
    <span class="source-hide">ATMO-23523 for 8.4.17 {Status 4/23: Closed.}{Rev  Jennifer 4/2} </span></p>
  <h3>Version 8.4.16</h3>
  <h4>Minor Enhancements:  8.4.16</h4>
  <h5>Lifecycle Coordinator: Policy Mappings for  API Promotion</h5>
  <p>In Lifecycle  Coordinator, the Promotion Profile can now include a set of policy mappings to  tailor the propagation and validation of policy references when an API is  promoted to the target environment.<br>
    For example, use the  PolicyMapping element to:</p>
  <ul>
    <li>Map a policy reference in the source environment  to a policy in the target environment.</li>
    <li>Remove a policy reference altogether when an API  is promoted.</li>
  </ul>
  <p>Further, a new policy  mapping property <strong>original-tenant-name</strong><strong></strong> can be added to the tenant definition  to indicate the original name. This prevents unmapped validation errors when  promoting an API, in the event that the tenant name has been changed in the  site settings. For example:</p>
  <pre class="code">{ 

  &quot;id&quot;: &quot;devtenant&quot;, 

  &quot;name&quot;:  &quot;DevelopmentTenant&quot;, 

  &quot;address&quot;:  &quot;http://devacmepaymentscorptenant:9457&quot;, 

  &quot;properties&quot;: [ 

  { 

  &quot;name&quot;:  &quot;original-tenant-name&quot;, 

  &quot;value&quot;: &quot;Tenant1&quot; 

  } 

 ], 

  ... 

} </pre>
  <p>For more information and  examples, see <a href="http://docs.akana.com/cm/promotion/promotion_users_guide.htm#s05_07_03">http://docs.akana.com/cm/promotion/promotion_users_guide.htm#s05_07_03</a>.<br>
    <span class="supID-from-word">SUP-17634</span><br>
  </p>
  <h5>Default and Hermosa  themes: the Top APIs section removed from the API &gt; Analytics &gt; Overview page</h5>
  <p>The Top APIs section was displayed on the <strong>API</strong> &gt;<strong> Analytics</strong> &gt;<strong> Overview</strong> page but was not needed and  was creating an unnecessary server load. This has been removed.<br>
    <span class="source-hide">ATMO-23571 for 8.4.16 {status 3/20: Unresolved }{Copy okayed by Arjun 3/20}</span></p>
  <h4 id="8416">Bug fixes: 8.4.16</h4>
  <h5>Non-populated properties should not be  visible and editable in the Community Manager UI</h5>
  <p>Setting a property as  optional and invisible/uneditable in the UI had no effect, i.e. the property  appeared as optional and editable. Classifiers and artifacts that are read-only  and have no value are now hidden if set.<br>
    <span class="source-hide">ATMO-23449 for 8.4.16,  {Status 3/19: Resolved}{Copy ok TG, 3/15}</span></p>
  <h5>Error while retrieving the access point for  a SOAP binding in Policy Manager</h5>
  <p>Cloning the container or  hosting endpoints from a node to a cluster was failing when a SOAP binding was  missing the Transport URI extensibility element in the WSDL. This has been  fixed.<br>
    <span class="supID-from-word">SUP-17453</span><br>
    <span class="source-hide">ATMO- 23244 for 8.4.16  {Status 3/16: Closed. Copy ok: MM}. ATMO-23245  for 8.2.30/ ATMO-23244  for 8.4.15 (closed but not in 8.4.15 rel notes) + 8.5 </span></p>
  <h5>Upgrade  from 8.4.14: API import fails when mapping properties change container id</h5>
  <p>When API import was being used with a mapping.properties file  that mapped between containers in source and target environments, the import  was generating an error. This was fixed in version 8.4.15 in <a href="#SUP-17662">SUP-17662</a> and worked for most  upgrade scenarios, but didn&rsquo;t work for customers upgrading from 8.4.14. This  fix has now been completed so it works for all upgrade scenarios.<br>
    <span class="supID-from-word">SUP-17945</span><br>
  </p>
  <h5>Role Security does  not line up with abilities within developer portal</h5>
  <p>When a new role was created in the developer portal that gave  full access permissions for contracts, and that role was then assigned to a  user, the user was still unable to cancel, reactivate, or suspend a contract. Policy  Manager role definitions have been expanded to include Contract as well as App  and API. The Policy Manager user can now define a role that includes full  control for contracts. A user with this role can cancel, reactivate, or suspend  a contract. In the developer portal, the Business Admin can then assign this  role to the user. <br>
    Note that the role must be implemented in a custom API Contract  workflow for this feature to work. <br>
    For example, consider a role &ldquo;ContractExecutive&rdquo; added in Policy  Manager. To give a user assigned to this role the ability to suspend a  contract, add the condition <strong>authorizeByAtmosphereRole</strong> to the API Contract workflow in the sections where the contract status and the suspend  action apply:</p>
  <pre class="code">&lt;action id=&quot;600&quot; name=&quot;apicontract.action.suspend&quot;&gt;

  &lt;restrict-to&gt;

    &lt;conditions  type=&quot;OR&quot;&gt;

      &lt;condition  type=&quot;authorizeByAtmosphereRole&quot;&gt;

        &lt;arg name=&quot;role&quot;&gt;&amp;AtmoRoleApiAdmin;&lt;/arg&gt;

      &lt;/condition&gt;

<strong>      &lt;condition  type=&quot;authorizeByAtmosphereRole&quot;&gt;</strong>

<strong>        &lt;arg  name=&quot;role&quot;&gt;ContractExecutive&lt;/arg&gt;</strong>

<strong>      &lt;/condition&gt;</strong>

    &lt;/conditions&gt;

  &lt;/restrict-to&gt;

        ...

&lt;/action&gt; </pre>
  <p><span class="supID-from-word">SUP-16515</span><br>
  </p>
  <h5>Activity name with  size greater than 64 results in data truncation errors in Monitoring logs</h5>
  <p>For an API operation with a Process activity containing an  Activity Name field that exceeded 64 characters, message data was not written  to the logs, and the following error was generated:</p>
  <p class="code"> UsageWriter failed to record usage log record in database. Data  has been lost. </p>
  <p>The new behavior limits new Activity Name entries to 64  characters, but allows existing names up to 128 characters.<br>
    <span class="supID-from-word">SUP-15937</span><br>
  </p>
  <h5>Policy Manager: Additional checks added for  possible security vulnerabilities</h5>
  <p>Security vulnerabilities  reported in Struts 1.2.9 have been thoroughly researched. Supplementary Policy  Manager security is such that Policy Manager is not vulnerable to these  threats. However, additional security checks have been added to strengthen its  existing validations.<br>
    <span class="supID-from-word">SUP-17283</span><br>
  </p>
  <h5>Provision the ResourceServer  API only on containers where the OAuth features are installed</h5>
  <p>The ResourceServer API was being provisioned both on OAuth and Community  Manager containers when installed separately. The Akana OAuth Plug-In on the Community  Manager container was causing the API to be provisioned, which is now no longer  the case. The API should be provisioned only on containers where the OAuth  features are installed, not the Akana OAuth Plug-In. <br>
    <span class="supID-from-word">SUP-17587</span><br>
  </p>
  <h5>Lifecycle Coordinator: promotion rules not  applied</h5>
  <p>When setting up rules  for a vanity host and path, then changing the rules and re-promoting, the  vanity host and path were not changed. <br>
    <span class="supID-from-word">SUP-17668</span><br>
  </p>
  <h5>For expired tokens, status  code 500 returned instead of 401</h5>
  <p>When signing and encrypting a JWT Token that had expired, a  generic HTTP 500 (Internal Server Error) status code was returned to the user for  an External OAuth Provider domain. If the OAuth Provider domain was used, an  HTTP 401 (Unauthorized) status code was returned. This has been fixed so that  HTTP 401 is returned for expired tokens for External OAuth Provider domains. <br>
    <span class="supID-from-word">SUP-17839</span><br>
  </p>
  <h5>Clustering support  for automation</h5>
  <p>When adding one or more nodes to a cluster, it was necessary to  re-run the Provisioning task. This has been fixed.<br>
    <span class="source-hide">ATMO-23330 for 8.4.16 {status 3/19: Resolved}{Copy okayed Gerry, 3/16}</span></p>
  <h5>Simple Dev theme: when accessed using  bookmarked URLs, some views return user to welcome page after login</h5>
  <p>When using Simple Dev  theme, anonymous users attempting to access the My Applications or My Profile  pages via bookmarked URLs are redirected to the login page. After login, the  user should be returned to the bookmarked URL, but was instead returned to the  welcome page. This has been fixed so that after login, the user is returned to  the requested page.<br>
    <span class="supID-from-word">SUP-11918</span><br>
  </p>
  <h5>User login emails  from the Siteminder domain were being overridden</h5>
  <p>The emails of Siteminder domain users were being overridden with  an empty string. This was a 9<br>
    caused by changes in  version 8.4.15 for <a href="#SUP-17301">SUP-17301. </a>This has been fixed.  To reinstate an email, upgrade to 8.4.16 and log in.<br>
    <span class="supID-from-word">SUP-17951</span><br>
  </p>
  <h3 id="8415">Version 8.4.15</h3>
  <h4>Minor Enhancements: 8.4.15</h4>
  <h5>Dashboard  page: Bulk deletion of notifications</h5>
  <p>Previously, Dashboard notifications could only be deleted  individually. However, in some scenarios, one user might have a large number of  notifications. The new feature allows users to delete many notifications at  once. It includes two new checkboxes at the top of the page: <strong>Delete Checked</strong> and <strong>Delete All on Page</strong>.<br>
    The Dashboard page uses infinite scrolling rather than paging, so  a user who has many notifications only needs to scroll down to load additional  notifications (20 at a time).<br>
    Each notification has a checkbox. The user can use any of  these approaches:</p>
  <ul>
    <li>Check one or more individual notifications and  then click <strong>Delete Checked</strong>.</li>
    <li>Check <strong>Check  All on Page</strong> and then click <strong>Delete  Checked</strong>.</li>
    <li>Scroll down to retrieve additional  notifications, then check and delete them as above.</li>
  </ul>
  <p><span class="supID-from-word">JLG-204422</span><br>
  </p>
  <h5>Test Client: New check box gives user control over URL  encoding</h5>
  <p>By default, Test Client  applies URL encoding to any special characters in the request URL. However, in  some cases the user might not want URL encoding to apply.<br>
    For flexibility, Test  Client now includes a check box, directly below the URL field, titled <strong>Encode URL</strong>.<br>
    The new check box is  checked by default, to control URL-encoding of the URL. Users who don&rsquo;t want  URL encoding can just clear the check box.<br>
  </p>
  <p class="supID">SUP-15334</p>
  <h5>Add user count to the Users page and offer a way to clear  user search</h5>
  <p>The following changes  have been made to the <strong>List of Users</strong> page to increase usability of this page for the Site Admin:</p>
  <ul>
    <li>Addition of <strong>Total  Users</strong> count at the top of the list</li>
    <li>Addition of <strong>Clear  Search</strong> button next to the <strong>Search</strong> feature</li>
  </ul>
  <p><span class="supID-from-word">SUP-15912</span><br>
  </p>
  <h5 id="SUP-17301">Support of phone  number and custom claims in UserInfo endpoint for OpenID Connect Relying Party</h5>
  <p>The platform&rsquo;s OpenID Connect Relying Party domain now supports  an additional claim, phone number, in addition to the existing supported claims  of subject, first name, last name, and email.<br>
    The new claim is set up in the domain configuration (<strong>Admin</strong> &gt; <strong>Domains</strong> &gt; <strong>Add</strong> &gt; <strong>OpenID Connect Relying Party</strong>), <strong>Tab 7</strong>, <strong>User</strong>. The default value is <strong>phone_number</strong>.<br>
    In addition, the platform also now supports additional claims  that might be returned by the OpenID Connect Relying Party. If additional  custom claims are returned, they are relayed in the response message for the GET&nbsp;/api/users/{UserID}   operation.<br>
  </p>
  <p><span class="supID-from-word">SUP-17301</span><br>
  </p>
  <h5>SSO  profile automatic update</h5>
  <p>For users who log in using an external identity provider,  certain pieces of information, such as First Name, Last Name, Email, and Phone  Number, are stored in the user&rsquo;s profile in the developer portal.<br>
    The platform has now been enhanced to automatically retrieve any  updates to this information, from the identity provider, at user login. If the  information has changed, the user&rsquo;s profile is automatically updated.<br>
  </p>
  <p><span class="supID-from-word">SUP-16890</span><br>
  </p>
  <h5>New configuration options for new account  evaluation period</h5>
  <p>If the Site Admin adds a  user in the developer portal, the new account is disabled after a specified  time period if the user never logs in. The time period is determined by the  Site Admin in the user settings (<strong>Admin</strong> &gt; <strong>Settings</strong> &gt; <strong>Users</strong>).<br>
    The previous maximum was  30 days. These choices have been expanded for greater flexibility. The choices  are now: any single digit 1–30; 45, 60, 90, 120, 150, or 180. You can also  choose <strong>Never Expire</strong>.<br>
  </p>
  <p><span class="supID-from-word">SUP-17296</span><br>
  </p>
  <h5>Workflow for Users: New ability to bypass  the Accept Agreement checkbox on Activation page/process for specific users</h5>
  <p>By default, the platform  required acceptance of the platform legal agreement, if one is uploaded to the  developer portal.<br>
    The platform now  supports the capability to customize the user workflow so that users belonging  to a specific login domain, or users with a specific role, can skip the  mandatory acceptance of the developer portal legal agreement.<br>
    The new feature includes  a new workflow function, <strong>acceptAgreementForDomainUsers</strong>.<br>
    If this custom workflow  feature is in place, new users who match the specified condition do not see the  developer agreement. For these users, the login process just skips that step.<br>
    In the example below,  this function is added in the workflow document, in the &quot;@Login&quot; section,  to skip requiring acceptance of the developer portal agreement for users of the <strong>acmepaymentscorp</strong> domain. This  argument also supports multiple domains with comma separator.</p>
  <pre class="code">&lt;function  type=&quot;acceptAgreementForDomainUsers&quot;&gt;

  &lt;arg name=&quot;DomainName&quot;&gt;acmepaymentscorp&lt;/arg&gt;

&lt;/function&gt; </pre>
  <p>In the example below,  this function is added in the workflow document, in the &quot;@Login&quot;  section, to skip requiring acceptance of the developer portal agreement for  users who have either the Business Administrator or API Developer roles. This  argument supports multiple roles with comma separator, as shown below.</p>
  <pre class="code">&lt;function  type=&quot;acceptAgreementForUsersBelongToRoles&quot;&gt;

  &lt;arg name=&quot;role&quot;&gt;Business  Administrator,API Developer&lt;/arg&gt;

&lt;/function&gt; </pre>
  <p class="Note"><strong>Note</strong>: To see where these fit into the workflow document, you can  download the user workflow from the developer portal. The new function is in  the default workflow, but is commented out.<br>
  </p>
  <p><span class="supID-from-word">SUP-17303</span><br>
  </p>
  <h5 id="SUP-17304">Workflow for Users: New ability to make phone  number optional for specific users</h5>
  <p>By default, new user  signup requires phone number.<br>
    The platform now  supports the capability to customize the user workflow so that users belonging  to a specific login domain are not required to provide a telephone number. If  this functionality is in place, and the condition is met, the phone number is  not shown.<br>
    The new feature  includes:</p>
  <ul>
    <li>A new user workflow initial action, @<strong>UserPhoneNotRequired</strong>.</li>
    <li>A new user workflow condition, <strong>doesUserBelongToDomain</strong>.</li>
  </ul>
  <p>If this custom workflow  feature is in place, users who belong to the specified domain are not required  to provide telephone number. Instead, the field is not shown.<br>
    This argument also  supports multiple domains with comma separator.<br>
    The example below  shows the new initial action and the new condition. If the user belongs to the  specified domain, the condition is met, and the phone number field is not  shown.</p>
  <pre class="code">&lt;action  id=&quot;25&quot; name=&quot;@UserPhoneNotRequired&quot;&gt;

  &lt;restrict-to&gt;      

    &lt;conditions type=&quot;AND&quot;&gt;

      &lt;condition type=&quot;doesUserBelongToDomain&quot;&gt;

        &lt;arg  name=&quot;DomainName&quot;&gt;acmepaymentscorp&lt;/arg&gt;

     &lt;/condition&gt;

    &lt;/conditions&gt;

  &lt;/restrict-to&gt;

  &lt;results&gt;

    &lt;unconditional-result  old-status=&quot;none&quot; status=&quot;registered&quot;  step=&quot;30&quot;/&gt;

  &lt;/results&gt;

&lt;/action&gt; </pre>
  <p class="Note"><strong>Note</strong>: To see where these fit into the workflow document, you can  download the user workflow from the developer portal. The new initial action  and condition are in the default workflow, but commented out.<br>
  </p>
  <p><span class="supID-from-word">SUP-17304</span><br>
  </p>
  <h5>Lifecycle Coordinator: Support for API OAuth  Details Configuration</h5>
  <p>Lifecycle Coordinator  functionality includes a new rule that changes the name of the OAuth provider  for a promoted API in the target environment. This allows mapping for the OAuth  Provider.<br>
    <strong>Note</strong>: The new rule is only for use in scenarios where the  configuration of the source and target OAuth Providers is identical, including  scope definition. If the configuration is not identical, using this rule might  cause promotion errors.<br>
    The example below  changes the OAuth Provider name from <strong>SourceProvider</strong> to <strong>TargetProvider</strong>.</p>
  <pre class="code">{    

  &quot;scope&quot; : &quot;vs&quot;,    

  &quot;condition&quot; :  &quot;vs.oauthProvider == 'SourceProvider'&quot;,    

  &quot;action&quot; : &quot;vs.oauthProvider =  'TargetProvider'&quot; 

}  </pre>
  <p><span class="supID-from-word">SUP-17542</span><br>
  </p>
  <h5>Akana Administration Console: security  improvement re special character and error treatment for login</h5>
  <p>In a scenario where  special characters were entered in the platform login fields, the Akana  Administration Console login page was returning certain information that could  potentially be used to extract sensitive information.<br>
    Messaging has been  improved and standardized to be consistent and not share any information except  that the username/password combination failed to authenticate.<br>
  </p>
  <p class="source-hide">ATMO-22913 for 8.4.15  {Status 2/13: Closed} / ATMO-22914 for 8.2.28 {Closed 1/25/18} {Rev BH 1/25}</p>
  <h5>Akana Administration Console: security  improvement re potential username enumeration</h5>
  <p>The Akana Administration  Console login page was returning different messages depending on whether the  username was valid and the password was invalid, or the username itself was  invalid. Returning different results could facilitate username discovery by a  malicious source.<br>
    Messaging has been  improved and standardized to be consistent across both use cases.<br>
  </p>
  <p class="source-hide">ATMO-22916 for 8.4.15  / 8.5.0 {Status 2/13: Closed} / ATMO-22918 for 8.2.28 {Closed 1/25/18} {Rev BH  1/25}</p>
  <h5>MongoDB: MapReduce job run time is now  configurable</h5>
  <p>A new setting was added  for configuration of the run time for MongoDB MapReduce.<br>
    The new setting:<br>
    <strong>Configuration Categories</strong> &gt; <strong>com.soa.persistence.mongodb</strong> &gt; <strong>persistence.mongodb.mapReduceMaxExecTime</strong>.<br>
    The value is in minutes;  for example, 1440 = 24 hours/1 day<br>
  </p>
  <p class="source-hide">ATMO-23002  for 8.4.15 {Status 2/13: Closed} {Rev OK MM 2/21}</p>
  <h5 id="SUP-17616">New API operation to move users from one  domain to the other</h5>
  <p>A new operation was  added to allow the developer portal Site Admin to move users from one domain to  another.<br>
    Details of the new  operation, in the Users service:</p>
  <ul>
    <li>URL: PUT&nbsp;/api/users/{UserID}/domains/{CurrentDomainID}</li>
    <li>Content-Type valid values: application/json,  application/xml, application/vnd.soa.v84+json, application/vnd.soa.v84+xml</li>
    <li>Accept valid values: application/json,  application/xml, application/vnd.soa.v84+json, application/vnd.soa.v84+xml</li>
    <li>Payload:</li>
  </ul>
  <pre class="code">{

  &quot;UserDomain&quot;:&quot;{NewDomainID}&quot;,

  &quot;Comments&quot;:&quot;{Comment  text}&quot;

}</pre>
  <ul>
    <li>Example:</li>
  </ul>
  <pre class="code">{     

  &quot;UserDomain&quot;:&quot;Domain2&quot;,

  &quot;Comments&quot;:&quot;Moving user from  Domain1 to Domain2.&quot;

}</pre>
  <ul>
    <li>Response: The response is the User model object,  including the new domain. </li>
  </ul>
  <p><span class="note"><strong>Notes</strong>: <br>
    To get the user’s current domain, use the GET /api/users/{UserID} operation (see <a href="http://docs.akana.com/cm/api/users/m_users_getUser.htm">http://docs.akana.com/cm/api/users/m_users_getUser.htm</a>).<br>
  </span></p>
  <p><span class="note">When the Site Admin changes the user&rsquo;s login domain from  another domain to the local domain, password reset is needed, since the user&rsquo;s  password information isn&rsquo;t accessible to the local domain. To reset the user&rsquo;s  password, use the PUT&nbsp;/api/users/{UserID}/password  operation  (see <a href="http://docs.akana.com/cm/api/users/m_users_modifyPassword.htm">http://docs.akana.com/cm/api/users/m_users_modifyPassword.htm</a>.</span> </p>
  <p><span class="supID-from-word">SUP-17616</span><br>
  </p>
  <h4>Bug fixes: 8.4.15</h4>
  <h5>OAuth: Refresh token always generated</h5>
  <p>When OAuth settings in  the developer portal were set to not generate a refresh token (OAuth Provider  domain, Tab 2, Grant Types), the refresh token was still generated.<br>
  </p>
  <p><span class="supID-from-word">SUP-17148</span><br>
  </p>
  <h5>Swagger: Optional Boolean parameters not  recognized</h5>
  <p>The developer portal&rsquo;s  support of Swagger docs did not include support of optional Boolean parameters.  Values of true and false were the only possible values recognized; because of  this, even when the parameter was optional, the developer portal required a  value.<br>
    A new option, <strong>select</strong>, has been added for both required  and optional Boolean parameters.<br>
  </p>
  <p><span class="supID-from-word">SUP-17514</span><br>
  </p>
  <h5>Incorrect hierarchy of policy availability</h5>
  <p>Policies set up in  Policy Manager at the API Platform Tenants level were showing up as available  for selection for APIs set up within a business organization for a specific  tenant. When selected, these policies were returning the following  authorization error:</p>
  <pre class="code">Unable to view Policy  for key: urn:uuid:da0132a2-05f8-11e8-96ed-f37ef11886ec. 

Error Authorization  error: User [Local Domain\adminTenant1] does not have permission to 

perform the  action: [Read]. [Read] permission is required for the resource  

[urn:uuid:{resourceid}] to perform this action. </pre>
  <p>This has been fixed  so that policies set up at the tenant organization level are not available for  selection at the business API level unless they&rsquo;ve been specifically set up for  that business.<br>
  </p>
  <p><span class="supID-from-word">SUP-17634</span><br>
  </p>
  <h5>Lifecycle Coordinator: CM UI displays  &quot;name&quot; rather than &quot;display-name&quot;</h5>
  <p>In a scenario where Lifecycle  Coordinator was in use, Lifecycle Manager classifiers displayed in the  developer portal user interface were displayed with the <strong>name</strong> value visible to the user, rather than the <strong>display-name</strong> value.<br>
    This has been fixed so  that if a value is provided for <strong>display-name</strong>,  that value is used. If no value is provided, the <strong>name</strong> value is used.<br>
  </p>
  <p><span class="supID-from-word">SUP-17419</span><br>
  </p>
  <h5>Lifecycle Coordinator: Read-only compound  classifier value not preserved with edit</h5>
  <p>In a scenario where a  read-only compound classifier was used when promoting assets from one lifecycle  environment to another, the classifier value was lost.<br>
  </p>
  <p><span class="supID-from-word">SUP-17539</span><br>
  </p>
  <h5>Lifecycle Integration: Required Boolean  classifier defaults to true</h5>
  <p>Required Boolean  classifiers were defaulting to <strong>true</strong>,  and the <strong>unspecified</strong> option was  removed.<br>
    This has been fixed so  that Boolean classifiers support values of <strong>true</strong>, <strong>false</strong>, and <strong>unspecified</strong>, but a required classifier requires <strong>true</strong> or <strong>false</strong>.<br>
  </p>
  <p><span class="supID-from-word">SUP-17019</span><br>
  </p>
  <h5>Lifecycle Integration: Unable to push LM  service to PM using fragmented by-ref WSDL/Schemas</h5>
  <p>In a scenario where  Lifecycle Manager 8.0 was in use with Policy Manager (without Community  Manager), and the communication from the Policy Manager server to the Lifecycle  Manager server required SSL, the initial publish of a service from Lifecycle  Manager to Policy Manager after a long period of inactivity or after a restart  of the Policy Manager server was failing. This has been fixed.<br>
  </p>
  <p><span class="supID-from-word">SUP-15287</span><br>
  </p>
  <h5>Lifecycle Coordinator: Approval requests not  set to correct organization</h5>
  <p>In a scenario where  Lifecycle Coordinator included an approval from a sub-organization in the  developer portal (child business organization), the approval was not working  due to the generated approval request being incorrectly assigned to the tenant  (top level) organization.<br>
  </p>
  <p><span class="supID-from-word">SUP-17711</span><br>
  </p>
  <h5>JMS Stalling</h5>
  <p>In some cases, eviction  of JMS sessions from the internal session pool resulted in the underlying  connection being closed, causing intermittent traffic interruptions.<br>
  </p>
  <p><span class="supID-from-word">SUP-16775</span><br>
  </p>
  <h5>Intermittent startup exception in Network  Director</h5>
  <p>There was an  intermittent timing problem that could cause exceptions starting Network  Director bundles that use the Java service loader mechanism to initialize the  JAX-RS runtime delegate. The JAX-RS service factories were updated to do this as  part of their initialization.<br>
  </p>
  <p><span class="supID-from-word">SUP-16597</span><br>
  </p>
  <h5>After upgrade, workflow exception error when  re-using WSDL with wsp:policy declarations</h5>
  <p>After upgrade to version  8.2.12, there were issues when re-registering services using WSDLs with  wsp:policy declarations.<br>
    The issue was that  when the originating service was removed, it left the ws-security policies in  place, and when a subsequent service was registered with the same WSDL, the  following error was generated:</p>
  <pre class="code">com.soa.workflow.WorkflowExecException:  Error while executing workflow 

[The work flow state [Active] doesn't allow to  modify work flow object for 

user [Local Domain\RepositoryManagerIntegration]] </pre>
  <p><span class="supID-from-word">SUP-14836,  SUP-15211, SUP-15797, SUP-16423, SUP-17534</span><br>
  </p>
  <h5>Process Editor: in  Transform Activity, FreeMarker failing with locales other than en_US</h5>
  <p>In a scenario where the locale was set to something other than  en_US (for example, en_UK), the FreeMarker option that&rsquo;s used by the Transform  Activity in the Process Editor was not working. This has been fixed.<br>
  </p>
  <p><span class="supID-from-word">SUP-16309</span><br>
  </p>
  <h5 id="SUP-17662">API import fails when mapping properties  change container id</h5>
  <p>In a scenario where  API import was being used with a <strong>mapping.properties</strong> file that mapped between containers in source and target environments, the  import was generating the following error:</p>
  <pre class="code">Caused by:  java.lang.NullPointerException

at  freemarker.cache.TemplateCache.loadTemplate(TemplateCache.java:497) </pre>
  <p><span class="supID-from-word">SUP-17662</span><br>
  </p>
  <h5>Some special  characters not allowed in context path</h5>
  <p>After upgrade to version 8.2.6, certain special characters that  had been previously allowed in the API context path—for example, the underscore—were  no longer allowed. This has been fixed.<br>
    The special characters that are allowed in  the context path are:<br>
    Forward slash (/), dot (.), hyphen (-), underscore (_), tilde  (~).<br>
    <span class="supID-from-word">SUP-17719, SUP-17666</span><br>
  </p>
  <h5>Added instructions in custom_template.less  file re renaming the file</h5>
  <p>When modifying the  styles for the developer portal, users must download the <strong>custom_template.less</strong> file, make the changes, rename it to <strong>custom.less</strong>, and upload the modified  file.<br>
    A note was added in the  file itself to instruct users what to do.<br>
    <span class="supID-from-word">FND-318278</span><br>
  </p>
  <h5>Service Management API returns 204 (no  content) rather than 400</h5>
  <p>In a specific scenario  where the client attempted to create a service using an invalid set of  parameters, the Service Management API was returning 204 (No Content) when it  should return 400 (Bad Request). For example, a POST on the rest/services  interface with invalid request content  returned 204.<br>
    This has been fixed  and the documentation for the service has been updated.<br>
    <span class="supID-from-word">SUP-17314</span><br>
  </p>
  <h5>Provisioning  Task not returning that it's ready</h5>
  <p id="SUP-16559">During installation, the Provisioning pending installation task  opens the <strong>Provisioning</strong> wizard. This  task Initializes resources associated with the features installed on the  container.<br>
    The Provisioning task was not correctly returning the information  that it had completed successfully.<br>
    <span class="supID-from-word">SUP-16559</span><br>
  </p>
  <h3 id="8414">Version 8.4.14</h3>
  <h4>Minor Enhancements: 8.4.14</h4>
  <h5>Lifecycle  Coordinator: Ability to preserve key option for API import</h5>
  <p>A new option was added in Lifecycle Coordinator to preserve the  UUIDs for the elements of an API during import to a target environment. These  elements include the underlying services and their containing organization.<br>
    The new option, <strong>PreserveKeys</strong>,  takes a Boolean value and is set in the <strong>com.akana.lifecycle.coordinator</strong> property in the Akana Administration Console, <strong>Configuration</strong> tab. The default value for <strong>PreserveKeys</strong> is <strong>true</strong>. If  multiple tenants in a topology share the same container, the value should be  changed to <strong>false</strong>.<br>
  </p>
  <p class="source-hide">ATMO-22181 for 8.4.14 {Status 1/16/18: Closed} {Copy: TiGr  1/17}</p>
  <h5>New Site  Admin settings relating to apps with a visibility of Registered Users</h5>
  <p>New settings were added in the developer portal to allow the Site  Admin to control settings relating to apps with a visibility setting of <strong>Registered Users</strong>.<br>
    The new settings, in <strong>Admin</strong> &gt; <strong>Settings</strong> &gt; <strong>Apps</strong>, control whether users can:</p>
  <ul>
    <li>Add apps with a visibility setting of Registered  Users.</li>
    <li>Rate apps with a visibility setting of  Registered Users.</li>
    <li>Review apps with a visibility setting of  Registered Users.</li>
  </ul>
  <p class="source-hide">ATMO-22229 for 8.4.14 + 8.5 {Closed 1/19/18} {Rev OK AB 1/17}</p>
  <h5 id="SUP-12241">Hermosa  Theme: &ldquo;Save&rdquo; prompt when navigating away from Process Editor</h5>
  <p>In Hermosa theme, when editing the process for any operation, the  Process Editor was not prompting the user to save if the user clicked away from  the page. Instead, if the user had made changes, they were lost.<br>
    A popup has now been added to prompt the user to save changes  before exiting from the Process Editor.<br>
  </p>
  <p class="supID">SUP-12241</p>
  <h5>Increase max  length of App Name to allow compatibility with Open Banking App Name length</h5>
  <p>The maximum character length for App Name was previously 64  characters. To support the Open Banking initiative, up to 140 characters were  required. The platform now supports up to 160 characters for App Name. <br>
  </p>
  <p class="supID-from-word">SUP-17299</p>
  <h5>Anti-virus  policy: modified messaging for increased security</h5>
  <p>In a scenario where the Anti Virus policy generated an error  response to the client because of an ICAP server error, the message included  information that should not be exposed, such as the IP address of the ICAP  server. This has been fixed so that sensitive information is not included in  the error message.<br>
  </p>
  <p class="source-hide">ATMO-22119 for 8.2.28 {status 1/19/18:  Resolved} / ATMO-22871 for 8.4.14 {Closed 1/19/18} {Copy GW 1/16}</p>
  <h5>New Board  item to API Admins for validation errors during API promotion</h5>
  <p>In a scenario where there are errors in the interaction between  the tenant and Lifecycle Coordinator, such as validation errors, a Board item  is now generated to the API&rsquo;s Board, visible to all API Admins.<br>
  </p>
  <p class="source-hide">ATMO-22451 for 8.4.14 + 8.5 {Closed 1/19/18} {Rev OK TiGr 1/17}</p>
  <h4>Bug fixes: 8.4.14</h4>
  <h5>Internet  Explorer: PM/ND Console logout triggers refresh-cycle</h5>
  <p>With Internet Explorer, if a user logged out of the Akana  Administration Console for Policy Manager or Network Director, the logout  action triggered a refresh cycle where the browser would keep refreshing the  login page until the active window was closed. <br>
  </p>
  <p class="supID-from-word">SUP-13148</p>
  <h5>Some constraints  not enforced on answers to security challenge questions</h5>
  <p>The back end was not validating certain aspects of the  constraints specified for answers to the security questions; for example,  Minimum Special Characters. <br>
  </p>
  <p class="source-hide">ATMO-21676 for 8.4.14 + 8.5 {Closed} {Rev OK AB 1/17}</p>
  <h5>Anti-virus  policy strips attachments even when no virus is detected</h5>
  <p>When the Anti Virus policy was configured to scan and delete  infected policies, and was attached to a service, even if the policy didn&rsquo;t  detect a virus it was deleting the attachment and not sending it on to the API  endpoint.<br>
  </p>
  <p class="supID-from-word">SUP-14314</p>
  <h5>Site Admin  can lock user, but if user is not on local domain it doesn&rsquo;t work</h5>
  <p>The developer portal includes an option for the Site Admin to  lock a user. However, this only works for local domain users. If a user signs  in using another domain, such as a Google domain, locking a user doesn&rsquo;t work.<br>
    The developer portal has been updated to accurately show the  Site Admin&rsquo;s choices, which vary according to type of user:</p>
  <ul>
    <li>Local domain user: Site Admin can choose to  Disable, Lock, or Delete.</li>
    <li>Non-local domain user: Site Admin can Disable or  Delete. Lock option is not available.</li>
  </ul>
  <p class="source-hide">ATMO-22607 for 8.4.14 {Closed 1/17/18} {Rev OK AB 1/17}</p>
  <h5>Lifecycle  Coordinator: after upgrade to 8.4.13, occasional deadlocks on promotion</h5>
  <p>In version 8.4.13, promotion in the SaaS environment was  resulting in a deadlock condition in Lifecycle Coordinator. This has been  fixed.<br>
  </p>
  <p class="supID-from-word">SUP-17540</p>
  <h5>Lifecycle  Coordinator: Promotion not honoring vsep.path rule</h5>
  <p>In version 8.4.12, it was not possible to replace the <strong>vsep</strong> path with another value on  promotion. This has been fixed.<br>
  </p>
  <p><span class="supID-from-word">SUP-17538</span><br>
  </p>
  <h5>Lifecycle  Coordinator: during promotion, only the first listener for a deployment zone is  preserved</h5>
  <p>In the SaaS environment, in a scenario where a container had  multiple listeners—for example, an HTTP listener and an HTTPS listener—if an  API implementation was deployed to the corresponding deployment zone, two  endpoints should result. However, during promotion of the API, only one of the  endpoints was being promoted to the target environment.<br>
  </p>
  <p><span class="supID-from-word">SUP-17541</span><br>
  </p>
  <h5>For API  created from swagger.json document, error returned when calling the API</h5>
  <p>In a specific scenario where a proxy API was created from an  imported Swagger document with the name swagger.json, calls to the API failed  even though the endpoint was valid. The calls returned the following error:</p>
  <pre class="code">{ &quot;faultcode&quot;: &quot;Server&quot;,  &quot;faultstring&quot;: &quot;Error encountered executing svc_{servicename}. 

Cause: Internal system error&quot; } </pre>
  <p>Creating the proxy API first, and then editing the design by  uploading the Swagger document, worked.<br>
    This has been fixed so that importing from a Swagger document  works as expected.<br>
  </p>
  <p><span class="supID-from-word">SUP-16199</span><br>
  </p>
  <h5>Lifecycle  Coordinator not loading in developer portal</h5>
  <p>In a scenario where Lifecycle Coordinator had been installed and  configured, the UI components were still not loading in the developer portal  user interface.<br>
    The issue was that updates to tenants where the address had  changed were not handled correctly.<br>
    This has now been fixed.<br>
  </p>
  <p><span class="supID-from-word">SUP-17513</span><br>
  </p>
  <h5>Creating an  API fails with null pointer exception</h5>
  <p>If the creation of public APIs is disabled, and you create an API  by uploading an API descriptor document, an error is generated. This was a  regression which is now fixed.<br>
  </p>
  <p><span class="supID-from-word">SUP-17259</span><br>
  </p>
  <h5>After  creating an API, UI details and API description document won&rsquo;t load</h5>
  <p>For certain APIs, in the developer portal user interface, neither  the API Details page nor the API description would load, and the user interface  returned an error. This was because of a bug with the user interface&rsquo;s support  of Swagger specification extensions (<a href="https://swagger.io/specification/#specificationExtensions">https://swagger.io/specification/#specificationExtensions</a>).  This has now been fixed.<br>
  </p>
  <p><span class="supID-from-word">SUP-16410</span><br>
  </p>
  <h3 id="8413">Version 8.4.13</h3>
  <h4>Minor Enhancements: 8.4.13</h4>
  <h5>Lifecycle  Coordinator: Support for Organization for promotion and governance</h5>
  <p>Lifecycle Coordinator now supports Business Organizations in  the developer portal. This means that apps and APIs can now be managed within  the context of their business organizations when Lifecycle Coordinator is in  use. For example:</p>
  <ul>
    <li>An API can be promoted from a tenant  organization in one environment to the same tenant organization in the next  environment.</li>
    <li>In Lifecycle Coordinator, promotion governance  can be managed for each business organization.</li>
  </ul>
  <p><span class="supID-from-word">SUP-17060</span> </p>
  <h5>Developer  Portal: thread pool properties added for Add/Edit Container Listener</h5>
  <p>Previously, thread pool properties for Add/Edit Container  Listener could only be set up in Policy Manager. These settings have now been  added in the developer portal.<br>
    In the context of the developer portal, thread pool settings are  configured for the listener by the Business Admin (<strong>Admin</strong> &gt; <strong>API Gateways</strong> &gt; choose API Gateway &gt; <strong>Inbound  Listeners</strong> section, <strong>Edit</strong> button  &gt; choose listener &gt; <strong>Edit</strong>).<br>
  </p>
  <p class="source-hide">ATMO-22115</p>
  <h5>Users can  now add and edit identities for the API implementation</h5>
  <p>Authorized users can now add and edit identities for an API  implementation. Previously, this activity could only be completed in Policy  Manager.<br>
    To edit an identity: <strong>API</strong> &gt; <strong>Implementation</strong> &gt; <strong>Edit</strong> button.<br>
    <span class="source-hide">ATMO-22418 + ATMO-21137 for 8.4.13 / ATMO-20455 for 8.5</span></p>
  <h4>Bug fixes: 8.4.13</h4>
  <h5>When QoS throughput policy is exceeded, app name displayed  as &quot;undefined&quot; in API transaction logs</h5>
  <p>In a scenario where the QoS throughput policy was exceeded, the  app name was displayed as &quot;undefined&quot; in API transaction logs, with a  &ldquo;Quota Exceeded&rdquo; error message.<br>
    Now, if the quota is exceeded, &ldquo;Unknown&rdquo; is displayed in the app  column. When the quota is exceeded, the contract isn&rsquo;t used and the transaction  is rejected, therefore the app name isn&rsquo;t displayed even though the <strong>atmosphere_app_id</strong> was passed.<br>
    In this scenario, the same transaction will not show up in the  app logs, since the contract was not used.<br>
  </p>
  <p><span class="supID-from-word">MUT-354329</span><br>
  </p>
  <h5>Swagger support: API Designer UI improvement for path  parameters</h5>
  <p>Per the Swagger  definition, path parameters are always required; therefore, default values are  ignored. These rules were not apparent in the API Designer user interface; the  API Designer allowed path parameters to be set as optional, and default values  to be specified, but this information was not saved or, if saved, was not  implemented.<br>
    Now, the API Designer UI  has been modified to clarify the rules for users. In the Add and Edit views,  for a path parameter, the <strong>Required</strong> checkbox is displayed as checked but is disabled so that users cannot change  this setting. In the summary view, no default value is displayed.<br>
  </p>
  <p><span class="supID-from-word">SUP-17190</span><br>
  </p>
  <h5>Vulnerable  XSLT library allowed code execution through XSLT extended functions</h5>
  <p>A new platform configuration setting was added to increase security  by preventing XSLT transformation. This helps protect against malicious  attacks.<br>
    Now, by default, XSLT transformation is not allowed. If  necessary, customers can enable the setting, but this is not recommended.<br>
    The new setting is in the Akana Administration Console for the  container:<br>
    <strong>Configuration Categories</strong> &gt; <strong>com.soa.framework.xsl.transform</strong> category &gt; <strong>java.extension.enabled</strong> field.<br>
  </p>
  <p><span class="supID-from-word">SUP-17013</span><br>
  </p>
  <h5>In some  cases, after uploading a certificate, developer portal not showing a list of  aliases to pick from</h5>
  <p>In the developer portal, when a user uploads a certificate,  the user interface should read the aliases from the certificate and display a  list of available aliases, from which the user can pick one. This was not  working in these two places in the UI, and has now been fixed:</p>
  <ul>
    <li><strong>API</strong> &gt; <strong>API Implementation</strong> when  uploading a certificate for the implementation.</li>
    <li><strong>Admin</strong> &gt; <strong>API Gateway</strong> when uploading a  certificate for the API Gateway.</li>
  </ul>
  <p><span class="supID-from-word">SUP-16691</span><br>
  </p>
  <h5>In OAuth  grant requests, query parameters decoded twice</h5>
  <p>In a specific scenario where OAuth Resource Owner (password)  grant requests were in use, and the resource owner username included a plus  sign (+), the plus sign was represented as a space in the Subject claim of the  JWT access token, due to an encoding/decoding error.<br>
  </p>
  <p><span class="supID-from-word">SUP-16539</span><br>
  </p>
  <h5>API  interface: issue with GET /api/users/{userID}/apis</h5>
  <p>This API operation returns the APIs for the specified user, and  can be run by that user or by a Site Admin. However, when a Site Admin called  the operation, APIs for the Site Admin were returned as well as APIs for the  specified user.<br>
    This has been fixed so that only the APIs for the specified user,  per the UserID in the URL, are returned.<br>
  </p>
  <p><span class="supID-from-word">SUP-16381</span><br>
  </p>
  <h5>Policy  Manager: Service Level Policy, limitation re time period ending at midnight</h5>
  <p>In Policy Manager, when defining an action on a Service Level  Policy, it was not possible to set a time period that ended with midnight  (00:00); the user interface didn&rsquo;t allow it. This has been fixed so that  midnight can be entered as 24:00.<br>
  </p>
  <p><span class="supID-from-word">SUP-17083</span><br>
  </p>
  <h5>Improved UI  messaging on API Access wizard</h5>
  <p>In the first tab of the API Access wizard, the user chooses an  app, and then goes on to make other selections in subsequent tabs of the  wizard. It&rsquo;s possible to click through to other tabs and try to complete the  wizard without choosing an app, in which case, on save, the first tab title is  displayed in red to indicate an issue.<br>
    In the past, in the actual tab, there was no messaging to tell  the user that this issue was that an app had not been not selected. Now,  messaging has been added to better direct the user.<br>
  </p>
  <p><span class="supID-from-word">SUP-10250</span><br>
  </p>
  <h5>Swagger API:  for Delete operation, message processing not as expected</h5>
  <p>When an API was defined by importing a Swagger API Description  document, with a Delete operation defined with a success response of 204, the  platform was building the process without a Reply Node. This resulted in the  behavior being asynchronous, and the operation not working.<br>
    In another scenario, a 400 error response was defined for a  Delete operation, but the platform did not correctly relay the response body.<br>
    <span class="note"><strong>Note</strong>: this issue was  actually fixed in version 8.4.10, but was not included in the 8.4.10 release  notes.</span><span class="supID-from-word">SUP-16471, SUP-16553</span><br>
  </p>
  <h5>Issue with  search feature for developer portal content causing problems with search  results</h5>
  <p>Within the developer portal, the Search feature indexes the  uploaded content and other pages and returns search results from this content.<br>
    There were several issues with the Search feature, caused by the  way it constructed the URL and resulting in problems with search results for  documents uploaded to different sections of the /content folder structure. In  some cases, content pages were not included in search results; in other cases,  they did appear in the search results, but when the user clicked the link, the  content was not displayed correctly due to the way the platform constructed the  URL.<br>
    <span class="supID-from-word">SUP-11020</span><br class="supID-from-word">
  </p>
  <h5>Ability to  set API outbound identity in the developer portal</h5>
  <p>Previously, the API outbound identity could only be set up in  Policy Manager.<br>
    From within the Process Editor in the developer portal, in the <strong>Invoke</strong> activity, an attempt to define  the identity resulted in the following error message:</p>
  <pre class="code">Identity not found. </pre>
  <p>This functionality has now been added in the developer portal so  that these settings can be defined or changed in either Policy Manager or  Community Manager and the settings are in sync.<br>
  </p>
  <p><span class="supID-from-word">SUP-15806 / SUP-17187</span><br>
  </p>
  <h5>New security  setting to help prevent content injection</h5>
  <p>In the developer portal, it&rsquo;s possible to reference an  external website within an &lt;iframe&gt; tag in a content page, using the <strong>&amp;doc</strong> parameter:</p>
  <pre class="code">{protocol}://{hostname}/{tenant}/#!{sitepage}&amp;doc={URL-encoded  external URL} </pre>
  <p>The example below illustrates how this might look using the  Simple Developer theme&rsquo;s documentation page, and referencing the external  website <strong>http://www.example.com</strong>:</p>
  <pre class="code">http://acmepaymentscorp.com/acmepaymentscorp/#!documentation&amp;doc=http%3A%2F%2Fexample.com </pre>
  <p>However, this feature could be an insecurity, since the external  site to be displayed could potentially be modified via a malicious content  injection. For Site Admins who want to disable the ability to reference  external sites on a developer portal content page, there is a new setting in <strong>Admin</strong> &gt; <strong>Settings</strong> &gt; <strong>Security</strong>.  The new setting is <strong>Allow display of  external content in developer portal content pages</strong>. By default, for  security purposes, this setting is disabled.<br>
  </p>
  <p><span class="supID-from-word">SUP-17113</span><br>
  </p>
  <h5>Developer  Portal, Challenge Constraints: UI does not validate that minimum character  value cannot be greater than maximum</h5>
  <p>The developer portal includes a page for the Site Admin to  specify values associated with security challenge constraints (<strong>Admin</strong> &gt; <strong>Settings</strong> &gt; <strong>Challenges</strong>).<br>
    The page where constraints are set for new or existing security  challenge question includes minimum and maximum values. This page was not  validating that the minimum character value was lower than the maximum  character value. This has been fixed.<br>
  </p>
  <p><span class="supID-from-word">SUP-16562</span><br>
  </p>
  <h5>Server Side Request Forgery prevention: new restriction to  limit protocols to HTTP and HTTPS</h5>
  <p>As an added security  measure, a check was added in the forward proxy URL handler that will throw an exception  if the scheme (protocol) for the URL is anything other than HTTP or HTTPS.<br>
  </p>
  <p><span class="supID-from-word">SUP-17012</span><br>
  </p>
  <h5>Internet Explorer 11: Error when viewing API Analytics  &gt; Logs</h5>
  <p>When viewed in Internet  Explorer version 11, the Developer Portal&rsquo;s API <strong>Analytics</strong> &gt; <strong>Logs</strong> page  returned an HTTP 400 error (Bad Request). There was no issue with other  browsers. This has been fixed.<br>
  </p>
  <p class="supID-from-word">SUP-16996</p>
  <h5 id="SUP-16698">SOAP to POX  transformation not working after upgrade to 8.2.12</h5>
  <p>In a specific scenario, after upgrade from version 6.x to version  8.2.12, SOAP to POX transformation was no longer working. The Network Director  returned an HTTP 500 error with the message:</p>
  <pre class="code">Changing the version of a SOAP message in this manner is  disallowed. </pre>
  <p class="supID">SUP-16698</p>
  <h3 id="8412">Version 8.4.12</h3>
  <h4>Minor Enhancements: 8.4.12</h4>
  <h5>Lifecycle  Integration: New expandable section for optional properties on user  invite/signup page</h5>
  <p>In the past, when Lifecycle Manager integration was enabled (<strong>Admin</strong> &gt; <strong>Site</strong>), optional fields from Lifecycle Integration were not  displayed in the user signup page and invite pages; instead, they were only  displayed in the user&rsquo;s <strong>Profile</strong> page. Now, the optional properties on the user signup and invite pages are  contained in a collapsible region on those pages, in addition to being  displayed on the <strong>Profile</strong> page.<br>
  </p>
  <p class="source-hide">ATMO-22164</p>
  <h5>Enhancement  to External OAuth Provider Configuration</h5>
  <p>The External OAuth Provider domain now sends the <strong>state</strong> and <strong>nonce</strong> parameters in the Authorization URL when the Provider Type is <strong>Other</strong>.<br>
  </p>
  <p class="supID">SUP-16446</p>
  <h5>Lifecycle Integration:  New ability to specify target deployment zone information when promoting APIs</h5>
  <p>Lifecycle Coordinator users can now control deployment of an API  to one or more specific deployment zones based on deployment zone mapping  information within the topology definition. Target deployment zones can  optionally be selected based on custom properties of the API that&rsquo;s being  promoted.<br>
    In the previous version, the exported form of an API included  information about the listener and container for each endpoint of the API. It  was then necessary to map this information to the appropriate containers and  listeners in the target environment using rules in the topology definition.  This didn&rsquo;t work well if the endpoints in the source environment didn&rsquo;t map  smoothly to those in the target environment.<br>
    Now, the user has more flexibility to map deployment zones  in the target environment. For details of the functionality, refer to the updated Promotion  Guide: <a href="http://docs.akana.com/cm/promotion/promotion_users_guide.htm#dz_configurations">http://docs.akana.com/cm/promotion/promotion_users_guide.htm#dz_configurations</a>. <br>
  </p>
  <p class="supID">SUP-17061</p>
  <h5>New  configuration property to allow configuration of HTTP context selection  &quot;strictness&quot;</h5>
  <p>A new configuration property was added, for enhanced platform  security.<br>
    The property is:</p>
  <pre class="code">com.soa.platform.jetty -&gt; context.manager.strict </pre>
  <p>The new property defaults to <strong>false</strong>,  which is the legacy behavior.<br>
    When the property is <strong>false</strong>,  if a request is not matched in any given HTTP context, the next best matching  context is tried. If the property is set to <strong>true</strong>, only the best matching context is tried. If that doesn&rsquo;t  work, the request fails.<br>
  </p>
  <p class="source-hide">ATMO-22109 for 8.4.12 / {Review 11/28 MM}</p>
  <h4>Bug fixes: 8.4.12</h4>
  <h5>External  OAuth Provider not working with client credentials</h5>
  <p>The OAuth Provider Domain setup (<strong>Admin</strong> &gt; <strong>Domains</strong> &gt; <strong>Add Domain</strong> or <strong>Modify Domain</strong>) was not allowing the choice of only the Client  Credentials grant type (Tab 3). The domain would not save, and the following  error was returned:</p>
  <pre class="code">Invalid security domain configuration. Grant type not available </pre>
  <p>When another grant type was selected as well as Client  Credentials, the domain configuration could be saved. </p>
  <p><span class="supID-from-word">SUP-16787 </span> </p>
  <h5>OAuth Field  Connect verifier page returns HTTP 500 with debugging information</h5>
  <p>The OAuth verifier page (oauth/auz/authorize) page was returning  an HTTP 500 error with debugging information. Now, the platform does not throw  an exception, but returns an HTML document with the error description.<br>
  </p>
  <p class="supID">SUP-11093</p>
  <h5>Backend support for Swagger UI patch</h5>
  <p>Support was added for a Swagger patch, to support the ability to define  responses in the <strong>/responses</strong> element  of the Swagger document and to reference them from individual resources with  the <strong>#/responses</strong> reference.<br>
  </p>
  <p class="supID">SUP-13839</p>
  <h5>Groups  functionality visible in developer portal when group support is disabled</h5>
  <p>In a scenario where support of groups was disabled in the  developer portal (<strong>Admin</strong> &gt; <strong>Settings</strong> &gt; <strong>Groups</strong> &gt; <strong>Group Support</strong>),  group functionality was still visible in the user interface. For example, users  could see the <strong>Add Group</strong> menu item.  However, if the user attempted to add a group, the developer portal returned an  error.<br>
    This has been fixed so that if this functionality is disabled the  UI option is not visible to the user.<br>
  </p>
  <p class="supID">SUP-16700</p>
  <h5>Lifecycle  Integration: Alpaca transform for more than two levels of compound classifier  declarations</h5>
  <p>Lifecycle Manager compound classifier taxonomy declarations  deeper than two levels were resulting in an invalid JSON document after the  Alpaca transform. Lifecycle Integration now supports a taxonomy three levels deep.<br>
  </p>
  <p class="supID">SUP-17018</p>
  <h5>Lifecycle  Coordinator: Remote Tenants missing Console Address information</h5>
  <p>When creating a topology with remote tenants, the console address  was null in the topology library. Without modification, this would result in  the links to promoted APIs not rendering correctly for the remote tenants.<br>
  </p>
  <p class="source-hide">ATMO-22169 for 8.4.12 (MayoClinic no SUP JIRA) {Rev OK MM  11/15}</p>
  <h5>LDAP  security provider scheduled job running constantly</h5>
  <p>The LDAP security provider uses a scheduled job to evict  connections from the connection pool. When the job repeat interval was set, the  refresh interval was being treated as a seconds value, causing the job to run much  more frequently than expected. This was causing performance problems and  consuming unnecessary CPU bandwidth.<br>
    This has been modified to use a single scheduled job for all LDAP  domains, and there is now a configuration setting to control the eviction interval.  The new properties are in the <strong>com.soa.security.provider.ldap</strong> PID.<br>
  </p>
  <p class="supID">SUP-16957</p>
  <h5>Lifecycle Integration: Null option needed for specific  extensible properties</h5>
  <p>When a classifier was  defined in Lifecycle Manager, with no default set in the capture template, it  defaulted to <strong>TRUE</strong> in the developer  portal for extensible properties of these types:</p>
  <ul>
    <li>Optional Boolean</li>
    <li>Optional Enum</li>
  </ul>
  <p>The developer portal  didn&rsquo;t support a null value for these properties, but it now does. Now, for  optional fields of these types, the developer portal shows a value of <strong>Select</strong> to prompt the user to choose a  value.<br>
  </p>
  <p class="supID">SUP-17019</p>
  <h5 id="SUP-16410">Edit Design does not load</h5>
  <p>In a specific scenario, when an API was created in the developer  portal from an imported Swagger document, the API Designer page did not load.<br>
    This was because the Swagger included cyclic references within  it, that caused recursion, which the API Designer was unable to resolve.<br>
    <strong>Note</strong>: The way that the  developer portal treats cyclic references was modified in an earlier fix for  version 8.4.1 (see <a href="#SUP-15133">Add API from Swagger document: objects of type Entity do not expand  correctly</a>, SUP-15133, SUP-13752).  Fixing the current issue causes the earlier issue to resurface.<br>
  </p>
  <p class="supID">SUP-16410</p>
  <h5>Additional JMS properties added to container properties  documentation</h5>
  <p>The following additional properties  were added to the <strong>com.soa.jms</strong> properties documentation:</p>
  <ul>
    <li><strong>jms.session.manager.maxIdleTime</strong>:  Allows configuration of the maximum idle time for the session pools.</li>
    <li><strong>jms.session.manager.maxSessionPoolSize</strong>:  Allows configuration of the maximum size of the session pool.</li>
  </ul>
  <p>For details, refer to the documentation in your installation  folder (/docs/configAdmin subfolder), or on the Akana docs site: <a href="http://docs.akana.com/ag/assets/configAdmin_pm84/properties-com.soa.jms.html">http://docs.akana.com/ag/assets/configAdmin_pm84/properties-com.soa.jms.html</a>. <br>
  </p>
  <p class="supID">SUP-16775</p>
  <h5>Developer  portal Process Editor does not save modified process when branch activity is  used with Split and Join activities</h5>
  <p>In a specific scenario where the Process Editor was used in  the context of the developer portal, with Split and Join activities, when a  process was saved the routing on the process was changed; the Split and Join  routing was not correctly saved, and an error was generated to the log.</p>
  <div> </div>
  <p class="supID">SUP-16703</p>
  <h5>API and app  field validation errors</h5>
  <p>The following field validation errors were fixed for apps and  APIs in the developer portal:</p>
  <ul>
    <li>API description was limited to one character  less than the 4000 characters allowed by the database.</li>
    <li>API summary was limited to one character less  than the 255 characters allowed by the database.</li>
    <li>App Markdown field returned a general system  error instead of validating for the 4000-character length.</li>
  </ul>
  <p class="supID">SUP-16639</p>
  <h5>RAML schema  does not get exported in Swagger 2.0 but is exported in WSDL</h5>
  <p>When an API description was imported from a RAML ZIP archive, the  schema was imported but was not used correctly. When the API description was  exported as Swagger, the schema was not exported. Now, the imported RAML schema  exports correctly.<br>
  </p>
  <p><span class="supID-from-word">SUP-10399</span><br>
  </p>
  <h5>Upgrade CM  Models task: Tenant contract creation failing</h5>
  <p>In an upgrade scenario from 8.2.x to 8.4.10, when the Upgrade CM  Models task was run and a default tenant contract already existed, adding a  default tenant contract was failing.<br>
  </p>
  <p class="supID">SUP-17006</p>
  <h5>Policy  Manager Contract Management API: Corrected example in generated doc</h5>
  <p>In the generated doc for the Policy  Manager Contract Management API (ContractAdminService), the documentation for  the <strong>GET&nbsp;/rest/contracts</strong> operation  included a sample response in application/json, but the API returns only  application/xml. When an application/json Accept header was used, the operation  returned HTTP 404 (Not Found).<br>
    The generated  documentation has been updated, since this operation does not in fact return  application/json, only application/xml.<br>
    Generated  documentation link for version 8.4.x:</p>
  <p><a href="http://docs.akana.com/ag/assets/restApiDocs_api-platform_84/api-http___soa.com_uri_products_ContractsManager_wsdl_1.0-ContractAdminService.html">http://docs.akana.com/ag/assets/restApiDocs_api-platform_84/api-http___soa.com_uri_products_ContractsManager_wsdl_1.0-ContractAdminService.html</a></p>
  <p class="supID-from-word">SUP-15764</p>
  <h5>Test Client:  some query parameters included twice</h5>
  <p>In a scenario where the DetailedAuditing and  AtmosphereApplicationSecurityPolicy policies were attached to an API, and Token  Location set to QueryString, the API returned an HTTP 404 error.<br>
    <span class="supID-from-word">SUP-17236 SUP-13167</span><br>
    <span class="source-hide">ATMO-22411 for 8.4.12 (BSci no SUP) also dup ATMO-22427 for  8.4.12 / ATMO-22428 8.2.27 / ATMO-18697 for 8.5 {Rev: AB 11/28}</span></p>
  <h4>Known issue: 8.4.12</h4>
  <h5>When  creating or updating API from a specific Swagger document, objects of type  Entity do not expand correctly</h5>
  <p>A fix was made in version 8.4.1 to ensure that when creating or  updating an API from a specific Swagger document, if there were multiple  objects of the same type, all objects would expand (see <a href="#SUP-15133">Add API from Swagger document: objects of type Entity do not expand  correctly</a>, SUP-15133, SUP-13752).  Prior to that point, only the first object of the same type would expand. <br>
    However, that fix introduced an issue that if the Swagger  document included cyclic references, the API Designer could not load the  Swagger at all, as it was unable to resolve the cyclic references.<br>
    The second issue was fixed in version 8.4.12—see <a href="#SUP-16410">Edit Design does not load</a>.  However, this fix causes a regression of the first issue.<br>
  </p>
  <p class="source-hide">ATMO-20654 for 8.4.1 / ATMO-20414 and ATMO-20641 for 8.2.17 / ATMO-20656  for 8.5 for create | ATMO-20338 for 8.4.1 for update<br>
    ATMO-22218 for 8.4.12 {Rev OK AB MM 11/15}</p>
  <h3 id="8411">Version 8.4.11</h3>
  <h4>Minor Enhancements: 8.4.11</h4>
  <h5>Support of  CAPTCHA in site signup and Forgot Password pages</h5>
  <p>Version 8.4.11 includes support for adding a CAPTCHA to certain  pages in the developer portal. Using a CAPTCHA helps ensure that the entity  performing the action is a human, not a bot.<br>
    The feature supports Google reCAPTCHA, reCAPTCHA v2, for  validation of users by means of the &ldquo;I&rsquo;m not a robot&rdquo; checkbox, which presents  users with visual challenges they must answer correctly as part of entering  information on those pages.<br>
    <span class="note"><strong>Note</strong>: This feature  does not support invisible reCAPTCHA or reCAPTCHA Android.</span>When enabled, CAPTCHA is displayed in the following pages:</p>
  <ul>
    <li>New user <strong>Sign  Up</strong> page (via <strong>Create Account</strong> link)</li>
    <li><strong>Forgot  Password</strong> page</li>
  </ul>
  <p>The feature includes the following new settings, in the <strong>Administration</strong> &gt; <strong>Security</strong> settings:</p>
  <ul>
    <li><strong>CAPTCHA  Support</strong> (enabled/disabled). If CAPTCHA Support is enabled:</li>
    <ul>
      <li><strong>CAPTCHA  Site Key</strong>: take this from your reCAPTCHA account, <strong>sitekey</strong> value.</li>
      <li><strong>CAPTCHA  Secret Key</strong>: take this from your reCAPTCHA account, <strong>secret</strong> value.</li>
    </ul>
  </ul>
  <p class="Note"><strong>Note</strong>: Once the Secret  value is saved, it isn&rsquo;t displayed in the developer portal user interface. In  addition, the developer portal API doesn&rsquo;t return the Secret value. It&rsquo;s  encrypted and stored securely in the database.<br>
    Once the Google reCAPTCHA account is set up with the domain value  for the developer portal (for example, acmepaymentscorp.com), and the developer  portal setting is enabled and set up with the CAPTCHA values, users signing up  or clicking <strong>Forgot Password</strong> will be  presented with a CAPTCHA challenge which they must pass as part of entering  information on those pages.<br>
  </p>
  <p class="source-hide">ATMO-21624 for 8.4.11 and also for 8.5 {Status 10/18: Done} /  also ATMO-21625 {Rev OK: AB 10/24}</p>
  <h5>New  ContainerManagement API functionality allows configuration of outbound alias  for HSM</h5>
  <p>The ContainerManagement API now allows configuration of the  outbound HSM alias.<br>
  </p>
  <p class="source-hide">ATMO-22022 for 8.4.11 / ATMO-21713 for 8.4.5 {Status 10/23:  Closed} {Copy: GW 10/24}</p>
  <h5>Lifecycle  Integration: New ability to synchronize API Platform and Lifecycle Extension  organizations</h5>
  <p>Changes have been made so that role-based approvals on APIs that  are set up in Lifecycle Extension apply at an organization level.<br>
    The previous implementation of extensible API metadata did not  take into account the organization structure set up in the API Platform. Now,  there is an automated synchronization capability within the Lifecycle  Extension.<br>
  </p>
  <p class="source-hide">ATMO-21951 for 8.4.11 {Rev OK TG 10/24}</p>
  <h5>Unordered  bulk operation replaces ordered bulk operation for batch writes for usage  logs/transaction logs</h5>
  <p>In the past, batch writes to the database for usage logs and  transaction logs used ordered inserts. Now, a change has been introduced so  that these use an unordered bulk operation, to improve performance when writing  usage logs and rollups. <br>
  </p>
  <p class="source-hide">ATMO-21234 for 8.4.11 {MM 10/24} {OK MM 10/24}</p>
  <h5>App and API  summary, description, and version notes are all now optional</h5>
  <p>In the past, app and API Summary, Description, and Version Notes  fields were inconsistent regarding whether they were required or optional. Now,  all these fields are consistently optional.<br>
  </p>
  <p class="source-hide">ATMO-22113 for 8.4.11 / ATMO-22121 for 8.5 {Rev OK: AB 10/24  also MM}</p>
  <h5>API  interface enhancement: new operation for adding an app returns Application  model object</h5>
  <p>In the API platform, the existing operation for adding an app  automatically creates the first app version. It returns the AppID but not the  AppVersionID.<br>
    Now, a new operation has been introduced that returns the full  Application model object, including the AppID and AppVersionID.<br>
    The new operation is similar to the existing operation (see <a href="http://docs.akana.com/cm/api/apps/m_apps_addApp.htm">http://docs.akana.com/cm/api/apps/m_apps_addApp.htm</a>),  but uses different headers:</p>
  <ul>
    <li>POST /api/apps</li>
    <li>Content-Type: <strong>application/vnd.soa.v84+json</strong></li>
    <li>Accept: <strong>application/vnd.soa.v84+json</strong> or <strong>application/json</strong></li>
  </ul>
  <p class="source-hide">ATMO-22074 for 8.4.11 {OK MM 10/24}</p>
  <h5>Audit  trail/domain management services now accessible only to System Admins</h5>
  <p>Additional security was added to operations in the /rest/audittrail  and /rest/domains services so that they are available only to System Admins.<br>
    <span class="source-hide">ATMO-22110 for 8.4.11. {Status 10/24: Closed} {OK MM 10/24}</span></p>
  <h4>Bug fixes: 8.4.11</h4>
  <h5>File Manager  error</h5>
  <p>In a scenario where the Site Admin went to <strong>Admin</strong> &gt; <strong>Config</strong> &gt; <strong>Resources</strong>,  opened the File Manager, and navigated to the API documentation folder  (content/api), the File Manager displayed the following error message:</p>
  <pre class="code">Error retrieving data. data= ; textStatus= error; errorThrown=  Server Error </pre>
  <p><span class="supID-from-word">SUP-15474, SUP-16500</span><br>
  </p>
  <h5>Network  Director: DoS rules fail when an IPv6 address is passed in X-Forwarded-For  header</h5>
  <p>In a scenario where IPv6 addresses were in use, the Network  Director was failing to correctly extract the hostname, and instead was  returning an HTTP 500 error.<br>
  </p>
  <p class="supID-from-word">SUP-16104</p>
  <h5>Swagger 2.0:  Support of example values for parameters on endpoints</h5>
  <p>The platform now supports example values for parameters in  Swagger 2.0. If an example is provided in the imported JSON Swagger document,  it is displayed in the <strong>Schema</strong> column  on these pages/sections:</p>
  <ul>
    <li><strong>API</strong> &gt; <strong>Details</strong></li>
    <li><strong>API  Designer</strong> &gt; <strong>Models</strong></li>
    <li><strong>API</strong> &gt; <strong>Documents</strong></li>
  </ul>
  <p><span class="supID-from-word">SUP-16257</span><br>
  </p>
  <h5>In API  Designer, if query parameter is mandatory, cannot specify default value</h5>
  <p>In API Designer, users can specify a default value for query  parameters. However, if the query parameter was made mandatory, the option to  specify a default value was no longer available. This was fixed. In addition,  the user interface was modified to display the default value, if one was  specified, below the input field, in this format:</p>
  <pre class="code">default: xxxx </pre>
  <p>Note that in Test Client/Swagger Test Client, the input field is  not populated with the default value.<br>
  </p>
  <p><span class="supID-from-word">SUP-16733</span><br>
  </p>
  <h5>Developer  portal logs use incorrect time zone with Custom option</h5>
  <p>In a scenario where the identity system was Directory Server,  after logging in and accessing <strong>Monitor</strong> &gt; <strong>Logs</strong> for an app or API, the  logs were using a specific time zone, America/Los Angeles, regardless of the  time zone set in the account. Even when a different time zone was set for local  domain users, the logs were using the America/Los Angeles time zone. This is  because the developer portal was using the TimeZone query parameter in the data  request.<br>
    Now, when the user is specifying a date range in the monitoring  logs, if the customer chooses the Custom option, the TimeZone query parameter  is not used for the data set. Custom time zone is specified in UTC time as it  should be.<br>
  </p>
  <p><span class="supID-from-word">SUP-16261</span><br>
  </p>
  <h5 id="ATMO-21714">New setting for unique combination of virtual host and  context path</h5>
  <p>In version 8.0, it was possible to publish multiple APIs with the  same context path; for example, to have just a backslash (/) as the context  path.<br>
    However, in a later version, a validation check for unique  combination of virtual host and context path was added. In some cases, this  caused the API path to be automatically modified so that it was unique. Some  instances that had multiple APIs with a backslash as the context path were  affected by this.<br>
    Version 8.4.11 includes a new API setting, <strong>Validate that API context path is unique</strong>. By default, this setting  is enabled, so that unique combination of virtual host and context path is  validated. However, the Site Admin can modify the setting so that different  APIs can have the same combination of virtual host and context path. This gives  the tenant the flexibility to keep the validation check for unique path (the  default), or to disable it.<br>
  </p>
  <p class="source-hide">ATMO-21714 for 8.2.24 {status 10/23: Done} / ATMO-22076 for  8.4.11</p>
  <h5>Errors  mediating response content to JSON when the response has an unrecognized status  code</h5>
  <p>If a response was received with a content-type that was not JSON,  and mediation to JSON was attempted, the content conversion code failed if the  response code was not recognized as a standard HTTP response code.<br>
  </p>
  <p class="supID">SUP-16797</p>
  <h5>Import:  OAuth scopes duplicated</h5>
  <p>In a specific scenario, when importing an API that includes OAuth  scopes, and had previously been exported from another instance of the developer  portal, the scopes in the imported API were duplicated.<br>
  </p>
  <p><span class="supID-from-word">SUP-15512</span><br>
  </p>
  <h5>Increased  support for wildcards in forward proxy formats</h5>
  <p>In the developer portal, in the <strong>Administration</strong> &gt; <strong>Site</strong> page for site settings, the field <strong>Limit  forward proxy feature to allow only these hosts</strong> supported specifying either  complete hostnames or the wildcard format <strong>*</strong>.<br>
    Now, there is increased support of different formats so that  users can specify a combination of a specific hostname and a wildcard. Support  of wild cards includes:</p>
  <ul>
    <li><strong>*.example.com</strong>—asterisk  used as a wild card with a domain and sub-domain.</li>
    <li><strong>*.apiportal.example.com</strong>—asterisk  used as a wild card with domain/sub-domain and prefix.</li>
    <li><strong>ubu14234-9</strong>—host  name without sub-domain and domain.</li>
    <li><strong>*</strong>—asterisk  used as a wild card to indicate any domain address.</li>
  </ul>
  <p class="source-hide">ATMO-22105 for 8.4.11 / ATMO-22111 for 8.5 {Barclays} {Rev OK  AB}</p>
  <h5>Response for  DELETE operation changes from Default to 200</h5>
  <p>In the developer portal, in the API Designer, when a response  type for an operation was defined as Default, and the operation was then  edited, the response type was changing from Default to 200. As a result, in  some cases the operation did not work as expected.<br>
    Now, Default response is preserved on edit. In addition, in the  developer portal, operations that are set to return a Default response are now  displayed in gray.<br>
  </p>
  <p><span class="supID-from-word">SUP-14641</span><br>
  </p>
  <h5>Improved JavaScript execution environment security</h5>
  <p>Security sandbox  settings for the JavaScript engine have been improved to allow blacklisting of  specific Java classes.<br>
  </p>
  <p><span class="supID-from-word">SUP-17008</span><br>
  </p>
  <h5>Adding a  Gateway from the API portal doesn&rsquo;t populate ThreadPool properties</h5>
  <p>When a Gateway was added via the developer portal rather than in  Policy Manager, the container was not correctly adding a listener and  populating the thread pool values. The result was that the container was not  registered properly. The default thread pool properties have now been added.<br>
    <span class="note"><strong>Note</strong>: The user  interface will accommodate the thread pool settings in the later release.</span> </p>
  <p class="source-hide">ATMO-21974 for 8.4.11 / ATMO-22114 for 8.5 {BoSci no Sup ID)  {OK MM 10/24}</p>
  <h5>Additional  security on Groups API for validation/encoding of input</h5>
  <p>Changes were made to operations in the developer portal&rsquo;s Groups  API service, for information relating to the Tags field in a group definition,  to help prevent cross-site scripting (XSS).<br>
    The platform now validates that data entered into the Tags field  does not include JavaScript. If JavaScript is present, the platform returns an  error and the input is not accepted.<br>
  </p>
  <p class="supID">SUP-17010</p>
  <h5>External  OAuth Provider Domain: JWT Issuer field is too small</h5>
  <p>In the developer portal user interface, External OAuth Provider  Domain, <strong>Access Token Validation</strong> tab  (Tab 4), when <strong>JWT Bearer Access Token</strong> is checked, one of the fields is <strong>Issuer</strong>;  used for the issuer name that will  be in the <strong>iss</strong> claim of the JWT  token. This field was limited to 64 characters in the user interface,  which in some cases wasn&rsquo;t long enough. The size of this field has been  increased to 255 characters.<br>
  </p>
  <p><span class="supID-from-word">SUP-17049</span><br>
  </p>
  <h5>Upgrade CM Models task: Tenant contract creation failing</h5>
  <p>In an upgrade scenario  from 8.2.x to 8.4.10, when the Upgrade CM Models task was run and a default  tenant contract already existed, adding a default tenant contract was failing.<br>
  </p>
  <p><span class="supID-from-word">SUP-17006</span><br>
  </p>
  <h5>Policy Manager: Unable to import RAML with  external schema reference, with unclear error messaging</h5>
  <p>In Policy Manager, when  importing a RAML API description document that included an external schema  reference, via the Add Physical Service wizard's Service Creation Method, the Service  Descriptor Document path field showed the following error:</p>
  <pre class="code">The API definition could  not be read: [Error parsing document null] </pre>
  <p>There was no indication  as to why the file would not load.<br>
    The error messaging  has been improved to indicate the issue. New message:</p>
  <pre class="code">The API definition could  not be read: [resource not found: {filename_with_path}] </pre>
  <p><span class="supID-from-word">SUP-10399</span><br>
    <span class="source-hide">SM-19361 for 8.4.11</span></p>
  <h3 id="8410">Version 8.4.10</h3>
  <h4>Minor Enhancements: 8.4.10</h4>
  <h5>Reconstructed  nav.ejs makes it easier to customize header</h5>
  <p>Changes were made to the <strong>nav.ejs</strong> file to make it easier for customers to customize the header in the developer  portal.<br>
  </p>
  <p class="supID">SUP-16507</p>
  <h5>Vulnerability  in /rest endpoints</h5>
  <p>In cases where Policy Manager features are exposed via the  developer portal, these endpoints are exposed and could therefore potentially  be compromised.<br>
    The issue with authentication has been fixed; the Policy Manager  Console feature dependency has been removed when installing Community Manager  features only. If no Admin functionality is needed in the developer portal, it&rsquo;s  not necessary to install the Policy Manager Console feature.<br>
    <strong>Changes:</strong></p>
  <ul>
    <li>Removed the dependency of pulling Policy Manager  Console feature when Community Manager features are installed.</li>
    <li>Removed &ldquo;/rest&rdquo; dependencies when installing  Community Manager features. Only the audit trail REST service, which is  protected, will be used.</li>
  </ul>
  <p class="source-hide">ATMO-21795 for 8.4.10</p>
  <h5>Enhanced  support of SOAP in the developer portal</h5>
  <p>WSDL has been added to the list of API description language  formats that a user can download in the API Details and API Overview pages.<br>
  </p>
  <p class="supID">SUP-10861</p>
  <h4>Bug fixes: 8.4.10</h4>
  <h5>New ability  to disable the WSDL persistent cache facility</h5>
  <p>A new configuration property was added to support disabling the  persistent WSDL cache in scenarios where disabling the cache might be  necessary, for debugging purposes or for performance.<br>
    The new configuration property is: <strong>com.soa.wsdl</strong> &gt; <strong>wsdl.storage.manager.enabled</strong>.<br>
  </p>
  <p class="supID">SUP-16391</p>
  <h5>Open HTTP  redirection</h5>
  <p>One instance of open HTTP redirection in the developer portal was  found and remedied.<br>
  </p>
  <p class="source-hide">ATMO-21950 for 8.4.10</p>
  <h5>Developer  portal View Policy page is labeled Edit Policy</h5>
  <p>In the developer portal, after adding a policy to an API, the  user interface View Policy page was titled Modify Policy which gave the  impression that the policy could be edited. When a policy is in Activated state,  it is read-only. The page label has been fixed.<br>
  </p>
  <p class="supID">SUP-16528</p>
  <h5>Lifecycle  Manager integration: Back propagation of API access requests failing</h5>
  <p>When using Lifecycle Manager version 8.0.1 integrated with the  Akana API Platform version 8.3 for the purpose of API governance, back  propagation of apps was working, but API access requests were not being  reflected in Lifecycle Manager.<br>
    On saving an API access request, the developer portal returned a  401 &ldquo;You are not authorized to view this page&rdquo; error message and an exception  was generated in the log file. The API access request was visible in the  developer portal but not in Lifecycle Manager.<br>
  </p>
  <p class="source-hide">ATMO-21589 for 8.4.10 / ATMO-21593 for 8.5 {Rev: TG}</p>
  <h5>Swagger 2.0:  External reference for an array is ignored</h5>
  <p>In a scenario where an API based on a Swagger 2.0 definition file  included a schema defined as an array, in the same file, the API was created  correctly; and if there was an external reference to an object, the API was  created correctly. However, if the schema was defined as an array and was an  external reference, the API definition was imported, but the schema was not.  This has been fixed.<br>
  </p>
  <p class="source-hide">ATMO-21952 for 8.4.10 / ATMO-21698 for 8.5 {OK AB}</p>
  <h5>Swagger:  Response to DELETE doesn't accept schema</h5>
  <p>When an API was created using a Swagger definition document that  defined a schema as the response for a DELETE operation, the dynamic  documentation still showed the response as &ldquo;No content.&rdquo; This has been fixed.<br>
  </p>
  <p><span class="supID-from-word">SUP-16051</span><br>
  </p>
  <h5>MongoDB:  Container state property not updating correctly</h5>
  <p>In a scenario where MongoDB was in use, the last modified  timestamp for the container state was being continually updated, which led to  repeated alerts that the container had become active, and then become  unresponsive again. <br>
  </p>
  <p class="supID">SUP-16036</p>
  <h5>Upgrade from  8.2 to 8.4: API upgrade task fails when trying to add a user to the group</h5>
  <p>In a specific scenario, during the process of upgrading to 8.4,  the Upgrade APIs upgrade task was failing when trying to add an user to the  group, with the following error:</p>
  <pre class="code">   Failed to upgrade 1 API. See log for details. </pre>
  <p><span class="note"><strong>Note</strong>: This issue was  included as a fix in version 8.4.8. However, it was found that the issue was  not fully resolved. It&rsquo;s been fully resolved in version 8.4.10.</span> </p>
  <p class="supID">SUP-16572</p>
  <h5 id="SUP-16823">Application error on creation of user account</h5>
  <p>In version 8.4.9, when a user created an account, filling out all  the information and clicking the <strong>Create  Account</strong> button, the developer portal was returning an internal server  error. This has been fixed.<br>
  </p>
  <p class="supID">SUP-16823</p>
  <h5 id="SUP-16870">App Summary field is required and wasn&rsquo;t previously  required</h5>
  <p>In version 8.4.9, when adding an app, the App Summary field was  required. In previous versions, this field was not required.<br>
    When editing an existing app that didn&rsquo;t have a summary, the app  summary was required in Edit mode also.<br>
    This has been fixed so that the App Summary is not required.<br>
  </p>
  <p class="supID">SUP-16870</p>
  <h5 id="SUP-16740">Users List: drop-down only responds to change of  selection, not selection</h5>
  <p>On the Users List, the Site Admin could perform various actions  associated with managing users in the developer portal, by way of a drop-down  menu. In a scenario where a Site Admin picked an option, then chose to cancel,  the user couldn&rsquo;t choose the same option again without choosing a different  option in between. Instead, an error was returned:</p>
  <pre class="code">HTTP method PUT is not supported by this URL </pre>
  <p class="supID">SUP-16740</p>
  <h5 id="SUP-16817">Missing graphics in transaction log details</h5>
  <p>After upgrade to 8.4.9, specific graphics were missing in the  translation log details UI in the developer portal. This has been fixed.<br>
  </p>
  <p><span class="supID-from-word">SUP-16817</span><br>
  </p>
  <h3 id="849">Version 8.4.9</h3>
  <h4>Minor Enhancements: 8.4.9</h4>
  <h5>Lifecycle  Integration: New Site Admin API setting to disable the ability for API Admins  to promote an API</h5>
  <p>In the developer portal, if Lifecycle Integration is enabled in  the Site Settings, by default the API Admin can promote an API to the next  environment.<br>
    A new API setting, <strong>API  Promotion</strong>, allows the Site Admin to disable this ability.<br>
    If Lifecycle Integration is enabled, but the <strong>API Promotion</strong> setting is disabled, API Admins will see the  promotion feature in the right pane, but there is no <strong>Promote</strong> button.<br>
  </p>
  <p class="source-hide">ATMO-21764</p>
  <h5>Workflow:  When a comment is made on an API access request that&rsquo;s in pending state, an  email is now sent out to API Admins.</h5>
  <p>Modifications to the developer portal Comments workflow now allow  this workflow to be customized to allow an email notification to be generated  to API Admins when a comment is made on an API Access Request that&rsquo;s in <strong>Pending</strong> state. Previously, the platform  generated an email to the requestor (app developer) but not to the API Admin.<br>
    In the Comments workflow, a new function was added, <strong>SendNotification</strong>.  Customers who want this functionality should customize their Comments workflow  to use the new function.<br>
  </p>
  <p class="supID">SUP-12974, SUP-13103, SUP-12090</p>
  <h4>Bug fixes: 8.4.9</h4>
  <h5>Some special  characters in email addresses not supported</h5>
  <p>Certain special characters that are valid as part of email addresses  were not supported by the developer portal; for example, the plus sign (+) and  the apostrophe ('). In addition, when an email address that included a plus  sign was used in the Client Username as part of the Resource Owner credentials  in an OAuth call, the call was not successful. <br>
    A back-end error has been fixed to correct the OAuth scenario. In  addition, validation has been removed in the user interface so that the  additional characters, previously unsupported, are allowed. This change was  applied to all instances in the user interface where email addresses are added  or changed.<br>
  </p>
  <p class="supID-from-word">SUP-16539</p>
  <h5>Google  Analytics support: Tracking ID set up for the developer portal, but no tracking  information reported</h5>
  <p>When the <strong>Google Analytics  Account ID</strong> was set up in the Site settings (<strong>Admin</strong> &gt; <strong>Site</strong>),  information was not showing up in the applicable Google Analytics account. The  tracking ID was added to the pages, but the tracking information was not being  recorded with Google Analytics. This is now fixed and all data is recorded with  Google Analytics.<br>
  </p>
  <p class="supID-from-word">SUP-16355</p>
  <h5>Special  character in API endpoint URL causes developer portal to become unresponsive</h5>
  <p>If a space or special character was included in the endpoint URL  for an API (API Implementation &gt; Deployment Zone), and saved, the developer  portal became unresponsive. This has been fixed so that invalid special  characters are not allowed. Validation rules for the context path are:</p>
  <ul>
    <li>It cannot have spaces.</li>
    <li>Question mark (?) is not allowed.</li>
    <li>The following special characters are allowed:  forward slash (/), comma (,), dash (-)</li>
    <li>No other special characters are allowed.</li>
  </ul>
  <p class="supID">SUP-16599</p>
  <h5>Policy  Manager HTTP enforcement policy not being enforced properly</h5>
  <p>The Policy Manager HTTP enforcement policy was not being enforced  properly. <br>
  </p>
  <p class="source-hide">ATMO-21883 for 8.4.9 {Status 9/20: Closed} {Rev OK MM}</p>
  <h5>Import: API  visibility setting is not correct</h5>
  <p>After importing an API into Community Manager, the visibility  setting for the API was not correct; however, the visibility setting for the  API version was correct. The result was that in some cases the API would show  up on search results, but if the user clicked the search result, the user would  get an Unauthorized message. For example, if the API was set to a visibility of  Registered Users, it would show up even if the user who was searching was not  logged in, but the user would not actually be able to view the API.<br>
    This has been fixed so that API visibility settings are imported  and exported correctly.<br>
  </p>
  <p><span class="supID-from-word">SUP-14002</span><br>
  </p>
  <h5>Disabled  user email is sent every 10 minutes</h5>
  <p>When the Site Admin disabled a user in the developer portal users  list, a notification email was being sent every 10 minutes, on a continuing  basis, for the same event. This has been fixed so that the notification email is sent only  once.<br>
  </p>
  <p class="supID">SUP-16586</p>
  <h5>Cross-site  scripting (XSS) vulnerability in certain input fields</h5>
  <p>In certain instances, the platform allowed content that included  JavaScript to be added into fields; for example, the Name field. This is a  vulnerability as this JavaScript could be inadvertently executed in the  browser.<br>
    An XSS prevention mechanism has been added to such fields.<br>
  </p>
  <p class="source-hide">ATMO-21320 for 8.4.9 {Barclays} {Rev MM SFB 9/21}</p>
  <h5>CORS Policy  does not return the CORS header</h5>
  <p>In a scenario where the CORSAllowAll policy was applied to an API  in Policy Manager, the correct CORS headers were not being added to the OPTIONS  response, in a specific case where the Max-Forwards header was missing from the  OPTIONS request headers. This caused the CORS request to fail. The platform now  treats a missing Max-Forwards header as Max-Forwards=0, and the CORS OPTIONS  response will therefore contain the correct CORS headers, allowing the CORS  request to succeed.<br>
  </p>
  <p><span class="supID-from-word">SUP-16394</span><br>
  </p>
  <h5>OAuth  Provider: Validation of Encrypted JWT token issued by PingFederate fails for Symmetric  encryption algorithm &ldquo;Direct encryption with symmetric key&rdquo;</h5>
  <p>With the JWE algorithm type <strong>Direct  encryption with symmetric key</strong> in use, the Akana OAuth Provider was using  the SHA-256 hash of the secret based on the key management or the content  encryption algorithm that was in place for symmetric algorithm; therefore,  decryption of the token was failing. The platform is now using the  Base64URL-encoded AES key for symmetric algorithm.<br>
  </p>
  <p class="source-hide">ATMO-21921 for 8.4.9 / {from MM 9/21 SFB}{Status 9/25: Closed}</p>
  <h5>Scripts API not  serving the scripts in SaaS</h5>
  <p>The /rest/scripts endpoint was not working properly because of  the way the service state was in, and the provisioning of the service wasn&rsquo;t  fixing it. This issue has been fixed now. <br>
    <span class="supID-from-word">SUP-16686</span><br>
  </p>
  <h3 id="848">Version 8.4.8</h3>
  <h4>Bug fixes: 8.4.8</h4>
  <h5>Platform JWT  tokens do not follow RFC 7519 with regard to expiration</h5>
  <p>In some scenarios, JSON Web Tokens (JWT tokens) were expiring  after a short period of time whereas, per the settings, they should be valid  for some days. In addition, where messages were processed by multiple  deployment zones, in some cases there were differences in how different  deployment zones implemented the validity period, resulting in a token being  rejected as expired and then, a little later on, being accepted as valid by  another deployment zone.<br>
    This was because the platform&rsquo;s implementation of JWT tokens was  not validating time correctly, taking into consideration future time and  clockSkew value. The platform was using a default time of 20 minutes as the  default for IAT (issuedAt) claim expiration, rather than calculating the  expected time based on the issuedAt and clockSkew properties.<br>
  </p>
  <p><span class="supID-from-word">SUP-15264, SUP-16640 </span><br>
  </p>
  <h5>Upgrade from  8.2 to 8.4: API upgrade task fails when trying to add a user to the group</h5>
  <p>In a specific scenario, during the process of upgrading to 8.4,  the Upgrade APIs upgrade task was failing when trying to add an user to the  group, with the following error:</p>
  <pre class="code">Failed to upgrade 1 API. See log for details.</pre>
  <p><span class="note"><strong>Note</strong>: This issue was  included as a fix in version 8.4.8. However, it was found that the issue was  not fully resolved. It&rsquo;s been fully resolved in version 8.4.10.</span> </p>
  <p><span class="supID-from-word">SUP-16572</span><br>
  </p>
  <h5>Test Client:  HTTP PATCH method not working</h5>
  <p>Operations using the HTTP PATCH method were not working in Test  Client. Instead of working as expected, the platform was returning an HTTP 501  (Not Implemented) server error. This has been fixed. The behavior in Test  Client is now the same for HTTP PATCH as it is for HTTP POST. </p>
  <p class="supID">SUP-15294, SUP-15719 </p>
  <h3 id="847">Version 8.4.7</h3>
  <h4>Minor Enhancements: 8.4.7</h4>
  <h5>For request  with incorrect HTTP verb, response is now 405 Method Not Allowed, plus Allow  header</h5>
  <p>Requests to an API endpoint at the correct path, but using an  HTTP method not supported by the endpoint, previously resulted in an HTTP 404  (Not Found) response.<br>
    The behavior on this condition has been changed to return HTTP  405 (Method Not Allowed), accompanied by an Allow header reflecting the  allowable HTTP methods for the endpoint. This is more in line with section  10.4.6 of the HTTP specification. <br>
  </p>
  <p class="supID">SUP-14833</p>
  <h5>On timeout  of the developer portal, query text in search fields is cleared</h5>
  <p>In previous versions of the developer portal, if text was entered  into a search field and then the portal was left to time out, the search text  might remain in the search field.<br>
    Now, as a security measure, text entered into a search field is  cleared when the platform times out or the user logs out.<br>
  </p>
  <p class="supID">SUP-16284</p>
  <h4>Bug fixes: 8.4.7</h4>
  <h5>Simple Dev  theme: Export of app log information fails if there are many records</h5>
  <p>In Simple Dev theme, in <strong>Analytics</strong> &gt; <strong>Logs</strong> &gt; <strong>Export</strong>, export of log information failed if there were many  records. With a small number of records, export was successful. This has been  fixed. However, note that the limit for a single download of records in the  developer portal is 10,000. If the criteria used for export might include more  than 10,000 records, use the export capability of the Policy Manager console  instead.<br>
  </p>
  <p class="supID">SUP-14083</p>
  <h5>After  cloning an API, base API isn't visible in Org unless it was created by the  cloning user</h5>
  <p>New security privileges have been added to the existing list: apiversion  and app-version. In the developer portal, the API Version drop-down was not  showing up on the API page. This has now been fixed.<br>
  </p>
  <p><span class="supID-from-word">SUP-16186</span><br>
  </p>
  <h5>Analytics: Chart  export fails if time period is greater than 1 day</h5>
  <p>In a scenario where an API had a large amount of data, export of  API chart data was failing if the time period was greater than one day.  Instead, it was returning HTTP error 504. This has been fixed. However, the  limit for a single download of records in the developer portal is 10,000. If  the criteria used for export might include more than 10,000 records, export via  Policy Manager.<br>
  </p>
  <p class="supID">SUP-14426</p>
  <h5>Hermosa  theme: When inviting users, fields are not cleared when user clicks Finish</h5>
  <p>In Hermosa theme, users can click the Plus icon to invite a new  user, enter email address and message, and click <strong>Finish</strong>, and an invitation email is sent to the invited user (or  users). However, after an invitation was successful, the information wasn&rsquo;t  being cleared from the fields, and then, if the inviting user clicked <strong>Finish</strong> again, another notification was  sent out. This issue did not appear in Default Theme.<br>
    This has now been fixed so that the fields are cleared if the  user clicks <strong>Finish</strong> and the send is  successful.<br>
  </p>
  <p class="supID">SUP-16399</p>
  <h5>API Edit  page, Summary field: tooltip copy not specified</h5>
  <p>In the developer portal, in the <strong>Edit API</strong> page, the <strong>Summary</strong> field included a tooltip. However, the tooltip text was not defined, so that  when the user hovered over the tooltip, it displayed <strong>tooltips.summary</strong> rather than tooltip text.<br>
    This tooltip has been removed from the <strong>Summary</strong> field.<br>
  </p>
  <p class="supID">SUP-16431</p>
  <h5>Authorization  vulnerability on a specific URL</h5>
  <p>There was a specific vulnerability that allowed a logged-in user  to go to a specific URL and change one or more values in the profile of another  user. This has been fixed.<br>
  </p>
  <p class="source-hide">ATMO-21588 for 8.4.7 / ATMO-21484 for 8.5 {John Deere}{RV OK  BH}</p>
  <h5>Unnecessary  Authorization errors in the log file</h5>
  <p>In version 8.4.6, Authorization errors, as shown below were  generated to the log file unnecessarily.<br>
    <strong>com.soa.security.AuthorizationException:  Authorization error: {0}</strong> <br>
  </p>
  <p class="source-hide">ATMO-21665 for 8.4.7 {OK MM}</p>
  <h5>ND not  properly hosting services</h5>
  <p>In a scenario where a virtual service was exported and then  deleted, and then re-imported, the service was being automatically added to the  Network Director cluster, but was not redeployed to the Network Director nodes.  This has been fixed.<br>
  </p>
  <p class="supID">SUP-16288</p>
  <h5>Corrected wording on 8.4 release notes article re characters  in context page</h5>
  <p>A bug fix, <a href="#SUP-11075">Add API: Adding the context path with an extra space or special  character fails</a>,  was summarized incorrectly in the 8.4 release notes, and carried forward to  release notes for subsequent point releases, up to and including 8.4.6.<br>
    The article stated four validation rules for the context path.  In fact, only two of those rules are accurate. Validation rules for the context  path are:</p>
  <ul>
    <li>It cannot include spaces.</li>
    <li>Forward slash (/) and hyphen (-) are allowed.</li>
  </ul>
  <p>The article included these two validation rules which are <strong>not</strong> accurate:</p>
  <ul>
    <li>It cannot include special characters.</li>
    <li>Question mark (?) is not allowed.</li>
  </ul>
  <h3 id="846">Version 8.4.6</h3>
  <h4>Minor Enhancements: 8.4.6</h4>
  <h5>In  Production environment, user accounts are automatically deleted without  notification after 30 days of inactivity</h5>
  <p>Previously, in the Production environment, user accounts were  automatically deleted with no notificationif there was no activity for 30 days. Now, after 30 days of inactivity, user accounts are disabled,  but not deleted.<br>
  </p>
  <p class="supID">SUP-13977</p>
  <h5>Improve  service search performance in Invoke activity</h5>
  <p>When a user opened an <strong>Invoke</strong> activity in the Process Editor, in a scenario where there were a lot of  services, the page was very slow to open, because it was searching for all services  in order to populate the drop-down list.<br>
    To improve performance, the following changes were made:</p>
  <ul>
    <li>When the Invoke page opens, the <strong>Service</strong>/<strong>Interface</strong>/<strong>Operation</strong> fields are populated as before, but the drop-down arrow is disabled.</li>
    <li>If the user wants to select a different service,  the user must click the <strong>Search</strong> button. Users can search for specific text or leave the field blank, in which  case all services are loaded.</li>
    <li>After the search is complete, the Service  drop-down is enabled, and the user can then select from that list. Once the  user selects the service, the operation is enabled and available for selection.</li>
  </ul>
  <p>The result is that the <strong>Invoke  Activity</strong> page opens more quickly, but the drop-down lists are disabled  until a search is performed.</p>
  <h5>Increased  security for challenge questions and answers</h5>
  <p>Several changes were implemented to allow the Site Admin to  configure security challenge questions, to control constraints/level of difficulty  and thus, as needed, to increase the security level on this feature.<br>
    Previously, customers could only modify the default security  challenge questions via the developer portal API. In addition, it was not  possible to set constraints on answers.<br>
    Now, the developer portal user interface includes new pages  for adding, managing, and configuring security challenge questions. The new  pages are available to the Site Admin via <strong>Administration</strong> &gt; <strong>Settings</strong> &gt; <strong>Challenges</strong>:</p>
  <p><img src="img/security-question-settings.png" width="668" height="430" alt=""/></p>
  <p>For each security question, as well as specifying the actual  question, the Site Admin can configure constraints such as minimum and maximum  number of letters, numbers, and special characters allowed or required in the  answers, whether answers are case-sensitive, and whether spaces are allowed.<br>
    The Site Admin can delete questions; however, if any users have  already set up answers to questions that are then deleted, those questions and  answers are still available for account verification purposes.<br>
  </p>
  <p class="supID">SUP-1613</p>
  <h5>API Test  Client shows all apps for selection but returns Unauthorized error for  unauthorized apps</h5>
  <p>When testing an API in Test Client, the Apps drop-down list was  showing all apps, but then returning an Unauthorized error if the user chose an  app that he/she didn&rsquo;t have permission to use.<br>
    Now, if the user chooses an app for which he/she doesn&rsquo;t have  authorization, Test Client displays the following message:<br>
    <strong>Note</strong>: To use this app in Test  Client, you will need to provide the app&rsquo;s shared secret. Please contact an app  team member.<br>
  </p>
  <p class="supID">SUP-14856</p>
  <h5>Ability to  configure app sync/push functionality time duration</h5>
  <p>The time duration for the scheduler job for app Sync/Push functionality  from Akana to an external domain such as PingFederate was hard-coded as 10 minutes  in Akana.<br>
    This has now been modified to be a quartz job and made to run  every minute. This value can be changed in the database if needed.<br>
  </p>
  <p class="supID">SUP-15955</p>
  <h4>Bug fixes: 8.4.6</h4>
  <h5>Cannot  remove group memberships if inviting user has been deleted</h5>
  <p>In a scenario where User A invited User B to be a Site Admin or  Business Admin, User B accepted, and then later User A was removed from the  system, it was not possible to remove User B from the Site Admin or Business  Admin group. The developer portal returned an error, &ldquo;Could not remove member.&rdquo;  This has been fixed.<br>
  </p>
  <p class="supID">SUP-15554</p>
  <h5>&ldquo;use.service.identity.for.inbound&rdquo;  added multiple times in WSDL</h5>
  <p>If the developer portal user interface setting <strong>Use Service Identity</strong> was used (to  enable SNI), the <strong>use.service.identity.for.inbound</strong> attribute was getting added multiple times to the WSDL. This has been fixed so  the atrribute exists only once.<br>
    <span class="supID-from-word">SUP-16107</span><br>
  </p>
  <h5>Simple Dev  theme (Smoke environment): Log details not visible after upgrade</h5>
  <p>In Simple Dev theme, after upgrading, the transaction logs for API  transactions were available, but the details were missing for the body of the  transactions. The transaction details were visible in Hermosa theme but not in  Simple Dev theme.<br>
  </p>
  <p class="supID">SUP-15210</p>
  <h5>Admin  Console returns database password in plain text in specific remote procedure  call</h5>
  <p>The Akana Administration Console was returning certain database  configuration parameters in plain text in response to a specific remote  procedure call. Although the RPC itself required authentication and authorization,  if these were compromised, this could endanger sensitive information.<br>
  </p>
  <p class="source-hide">ATMO-20808 for 8.4.6 / also ATMO-20970 for 8.4.4 {{status 8/16:  Closed}} {{Barclays, no ID}}</p>
  <h5>Search for  API in search box returns API and API version as separate entries</h5>
  <p>Search results of a search for an API included API versions as  well as the API itself.<br>
    The platform has now been modified so that app and API  versions are excluded from search results. Only the actual app and API are  returned.<br>
  </p>
  <p class="supID">SUP-15804, SUP-16262</p>
  <h5 id="upgrade-the-jre">Upgrade the JRE to the latest 1.8 version</h5>
  <p>The version of the Java Runtime Environment (JRE) that the  platform uses was upgraded to version 1.8.0_144. This was needed for the  platform&rsquo;s support of the Thales HSM NCipher security provider.<br>
    <strong>Note</strong>: Upgrade to the  new JRE version is optional. See <a href="#noteforupgrade">Important note for upgrade to version 8.4.6</a>. </p>
  <p><span class="supID-from-word">SUP-15318</span> </p>
  <h5>Import of  app with manually configured App ID in an external domain gives error</h5>
  <p>In a scenario where export data included manually configured App  IDs with an external LDAP domain as part of the ID, importing the data caused a  null pointer exception error to be generated, and the import failed.<br>
  </p>
  <p class="supID">SUP-15229</p>
  <h5>Upgrade  Jython to 2.7.1</h5>
  <p>There was a bug in the version of Jython that the platform was  using. As a result, the platform has been upgraded to use Jython version 2.7.1.<br>
  </p>
  <p class="source-hide">ATMO-21359 for 8.4.6 {{Barclays no JIRA ID}} {{OK GW}}</p>
  <h5>Cannot send  SOAP request without enabling preserve headers</h5>
  <p>When sending a SOAP request through a specific service, if the  &ldquo;Preserve headers&rdquo; setting was not enabled, the request was failing to pass  through the Network Director, with a null pointer exception error. With headers  preserved, the request was processed and sent to the endpoint. Now, the request is passed through even if this setting is not  enabled.<br>
  </p>
  <p class="supID">SUP-15849</p>
  <h5>Hermosa  Theme, Users list: Clarify which user the Remove button applies to</h5>
  <p>In Hermosa theme, when removing a specific user from a long list  of users, it was difficult to see which <strong>Remove</strong> button was applicable to which user. The visual display has been improved, with the addition of lines  between entries so it&rsquo;s clear which entry the <strong>Remove</strong> button applies to </p>
  <p><span class="supID-from-word">SUP-16322</span> <span class="source-hide">ATMO-21442 for 8.4.6 / ATMO-21585 for 8.5 {{Status 8/16/17:  Closed}} {{Copy OK AB but he says: For 8.5 we will change them to cards}}</span></p>
  <h5>Site Admin  &gt; Administration left menu includes Licenses and Scopes</h5>
  <p>When a user was logged in as Site Admin, without Business Admin  permission, and selected the Admin link, the Admin left menu include Licenses  and Scopes. These items should only be accessible to a Business Admin. If the  Site Admin user clicked Licenses, a 401 error was returned. If the user clicked  Scopes, the user could view the scopes.<br>
    This has now been fixed so that the Site Admin user doesn&rsquo;t see  either of these left menu links.<br>
  </p>
  <p class="supID">SUP-16306</p>
  <h5>Import of platform  data to the developer portal fails</h5>
  <p>Import of a ZIP package of data previously exported from a  developer portal instance was returning an HTTP 401 Unauthorized message and  the action was failing. This has been fixed.<br>
  </p>
  <p class="source-hide">ATMO-21473 for 8.4.6 / customer Marriott {{Status 8/16/17:  Closed}}/ATMO-21483 for 8.4.6 / ATMO-21271 for 8.5 {{Status 8/18/17:  Resolved}} </p>
  <h5>For a new  user invited to a developer portal group, email invitation is not sent</h5>
  <p>In a scenario where an Admin of a platform group, such as a Business  Admin, invited another user to the team who was not already a platform user,  the invited user did not receive an invitation email.<br>
  </p>
  <p class="supID">SUP-14072 / SUP-16398 / SUP-16189</p>
  <h5>Not sending  entire certificate chain in SNI-enabled connection handshake</h5>
  <p>When setting up the SSL connection, the entire certificate chain  was not being sent.<br>
    The platform has now been modified to upload, store, and deliver  the full certificate chain when establishing an SSL connection using SNI  (Server Name Indication).<br>
  </p>
  <p class="supID">SUP-16107</p>
  <h5>Policies  created in the context of a business organization are not available for  attachment to APIs</h5>
  <p>When policies were created in the context of a specific business  organization, those policies were not available for selection when assigning  policies to an API within the organization.<br>
    A new query parameter has been added to the operation that  returns policies for the API, to include policies for the business  organization, so that all available policies are listed for selection.<br>
  </p>
  <p class="supID">SUP-16180</p>
  <h5>Corrected  wording on 8.4 release notes article re multiple parameters in Test Client  calls</h5>
  <p>An issue with multiple parameters of the same name in Test Client  was summarized incorrectly in the 8.4 release notes, and carried forward to  release notes for subsequent point releases, up to and including 8.4.5.<br>
    The actual issue was that if multiple parameters with the same  name and different values were included in a Test Client call, only the last  value was accepted. The fix was that all instances are now passed through to  the API for processing.<br>
    The article (in the <strong>Minor  Enhancements: 8.4</strong> section of the release notes) stated:<br>
    &ldquo;Validation has been added to Test Client so that it doesn&rsquo;t  allow the user to add more than one query parameter with the same name and a  different value.&rdquo;<br>
    In fact, Test Client does allow multiple query parameters with  the same name and a different value, which is per design and per guidelines for  REST APIs.The title of the article was accurate; validation was improved  for multiple query parameters.<br>
    This article has now been clarified (see <a href="#testclient-improved-validation">Test Client: Improved validation for multiple query parameters</a>).<br>
  </p>
  <p class="supID">SUP-16428</p>
  <h5>Migration  failure for some APIs when upgrading from 7.2 to 8.2/8.4</h5>
  <p>Certain APIs did not migrate correctly during the upgrade from  version 7.2 to 8.2/8.4. APIs that had been created in Policy Manager and then  virtualized, and were then added to the developer portal using the <strong>Publish an existing service as an API</strong> option,  were not migrated correctly.<br>
  </p>
  <p class="supID">SUP-15759 / SUP-16459</p>
  <h5>UI dates are  now based on browser locale setting</h5>
  <p>All dates in the developer portal user interface are now  formatted according to the browser&rsquo;s Locale setting, so that the display of the  date format will be appropriate for different time zones.<br>
    <strong>Note</strong>: This works in  Chrome and Firefox browsers. However, there might be some dialects that are not  supported. In this case, the default <strong>en-US</strong> is used.<br>
  </p>
  <p class="source-hide">ATMO-21444 for 8.4.6 {{Status 8/16/17: Closed}} / ATMO-21586  for 8.5.0 {{Barclays}}</p>
  <h5>Organization  Business/API Administrator unauthorized to view Admins for API</h5>
  <p>In a scenario where an organization was created and APIs were  then migrated to the organization, and the Business Administrator or API  Administrator role was assigned to a user via the <strong>Organization</strong> &gt; <strong>Security</strong> roles page, when the user went to the <strong>Organizations</strong> menu and chose an API, the user could see the <strong>Admins</strong> left menu item, but on trying to access it, the user got a  401 Unauthorized error.<br>
    There are two ways a user can be made an API Admin in the  context of a business organization:</p>
  <ol>
    <li>By role assignment in the context of an  organization via <strong>Organization</strong> &gt; <strong>Security</strong>. These users have full access  rights to APIs within the organization, but do not have permission to view and  manage API Admins.</li>
    <li>By being invited to be an API Admin for a  specific API. These users have full rights to the API and can also view,  invite, or remove API Admins.</li>
  </ol>
  <p>The problem was that users in category #1 above were able to see  the Admins left menu item but were not authorized to view it. Now, these users  do not see the Admins left menu item.<br>
    Users who are invited to an API have full permission to manage  the API and also API Admins for the API. These users see the left menu item and  can access it for viewing and making changes to the API Admin team.<br>
  </p>
  <p><span class="supID-from-word">SUP-16181</span><br>
  </p>
  <h5>Hermosa  Theme: notifications are deleted, but counter does not decrement</h5>
  <p>In Hermosa Theme, if the user clicked through to the  Notifications page to see all notifications and then deleted a notification,  the notifications count in the top menu bar was not being decremented. This has  been fixed.<br>
    <strong>Note</strong>: The counter  only decrements on deletion. Viewing a notification does not affect the  counter, which is an indication of how many active notifications the user has.<br>
  </p>
  <p class="supID">SUP-16259</p>
  <h4>Known issue: 8.4.6</h4>
  <h5>Specific  error in log files</h5>
  <p>In version 8.4.6, you might see the error below in the log  files. This does not affect security or platform functionality and will be  fixed in an upcoming version.<br>
    <strong>com.soa.security.AuthorizationException:  Authorization error: {0}</strong> <br>
    <strong>Note</strong>: This issue was  fixed in version 8.4.7.</p>
  <h3 id="845">Version 8.4.5</h3>
  <h4>Minor Enhancements: 8.4.5</h4>
  <h5>Limit the  scripting language allowed</h5>
  <p>As a security measure, a new option was added to allow the Site  Admin to limit the scripting language supported by the API platform. For  example, the Site Admin could choose not to support Jython. Limiting the supported  scripting languages helps close the door on possible malignant efforts to hack  the system using those scripting languages.<br>
    The new setting is in the Akana Administration Console: <strong>Configuration</strong> &gt; <strong>com.soa.script.framework</strong>, as shown below.</p>
  <p><img src="img/8.4.5-scripting-categories.png" width="697" height="102" alt=""/><br>
    By default, all scripting languages supported by the platform are  shown, as comma-separated values. To update, remove one or more values and  click <strong>Apply Changes</strong>.<br>
  </p>
  <p class="source-hide">ATMO-21330 for 8.4.5 {{status 7/27/17: Done}} / ATMO-21093 for  8.5</p>
  <h5>Update to  Container Management API to support update of HSM listener</h5>
  <p>The Container Management API was enhanced to support updating of  Policy Manager, Community Manager, and Network Director listeners with an HSM  alias, that could be passed in since there is no physical certificate. </p>
  <p class="source-hide">ATMO-21357 for 8.4.5</p>
  <h4>Bug fixes: 8.4.5</h4>
  <h5>Container  Management API should return an empty set rather than 204 when there are no  results</h5>
  <p>In a scenario where there were no results for a valid API call  for the Container Management API, it was returning HTTP status 204 (&ldquo;No  Content&rdquo;) rather than returning HTTP status 200 with an empty data set to  indicate there were no matching results.</p>
  <p class="source-hide">ATMO-21373 for 8.4.5 / ATMO-21404 for 8.5 {{status 7/27/17:  Closed}}. ATMO-21358 {{here Ian removed an issue}}</p>
  <h5>After the port number is changed, Akana Administration Console  does not run</h5>
  <p>In a specific scenario where  the platform was running with additional hardware (HSM), and the port for the  Akana Administration Console was changed, the Akana Administration Console did  not run on the new port.<br>
  </p>
  <p class="supID">SUP-16263</p>
  <h5>Notification enhancement included in release notes but not  part of release</h5>
  <p>A line item about two  notification enhancements (re deletion of multiple Dashboard notifications and  the notification counter behavior) was erroneously included in the 8.4 release  notes and carried forward to release notes for subsequent point releases, up to  8.4.4. It has now been removed and an update published for each of these  versions, with a changes log.<br>
  </p>
  <p class="supID">SUP-16259</p>
  <h5>Forum  Module is visible to Site Admin</h5>
  <p>There was an &ldquo;Unauthorized&rdquo; error page when navigating to Admin  pages as a user with only the Site Admin role. <br>
  </p>
  <p class="supID">SUP-16305</p>
  <h3 id="844">Version 8.4.4</h3>
  <h4>Minor Enhancements: 8.4.4</h4>
  <h5>User  settings for password reset: new 2-hour option</h5>
  <p>The developer portal user settings (<strong>Administration</strong> &gt; <strong>Settings</strong> &gt; <strong>User</strong>) include an option, <strong>Validity Period for Password Reset Code (in  hours)</strong>. Previously, the smallest increment was 4 hours. An additional  option has been added so that the validity period can now be set to 2 hours.<br>
  </p>
  <p class="supID">SUP-13999</p>
  <h5>API/App  &gt; Monitoring &gt; Logs: Date format is now taken from browser settings</h5>
  <p>In the monitoring logs, the date format was always shown in US  date format; for example, 01/31/2017 08:36 AM.<br>
    This has now been modified so that the dates in the logs are  formatted using ISO format, with the local time zone taken from the browser  settings; for example, 2017-06-21T09:09:51,BST for a time zone of Europe/London  or 2017-06-21T01:09:51,PDT for a time zone of America/Los_Angeles.<br>
  </p>
  <p class="supID">SUP-15319</p>
  <p>&nbsp;</p>
  <h4>Bug fixes: 8.4.4</h4>
  <h5>MongoDB,  Export usage data: option to include recorded data is cleared, but it is still  included in the export data</h5>
  <p>When exporting usage data for a virtual service with MongoDB  in use, with the Detailed Auditing policy attached and the default export  option selected, recorded data should not be included in the export data, but  was still being included.<br>
  </p>
  <p class="supID">SUP-15480</p>
  <p class="source-hide">ATMO-21224 for 8.2.19 / ATMO-20707 for 8.4.4 / ATMO-21222 for  8.5 </p>
  <h5>Export/Import:  Importing a policy object fails</h5>
  <p>In a scenario where an export of platform information included  one or more policy objects, import of the policy object failed, with the  message:</p>
  <pre class="code">Error occurred while importing objects of type [Policy]. </pre>
  <span class="supID">SUP-16001</span>
  <h5>Operation  with HTTP verb HEAD does not return a Content-Type header</h5>
  <p>In a scenario where an operation was using an HTTP verb of  HEAD, the operation was not returning a Content-Type header. This has now been  fixed so that on a HEAD operation all of the downstream headers are returned to  the client.<br>
  </p>
  <p class="supID">SUP-15040</p>
  <h5>Network  Director appends additional elements to SOAP request</h5>
  <p>In a specific scenario, when sending a SOAP request, the Network  Director was appending an additional element, <strong>ReceiveNLETSMsgSync</strong>, in the body of the request.</p>
  <p class="supID">SUP-15836</p>
  <h5>JSON2XML  converter method package path not documented correctly</h5>
  <p>In the generated documentation for the JSON2XML converter, the  full path was not included with the filename, resulting in the file not being  found.<br>
    This file has now been updated so that the generated  documentation included with the build includes the full path.<br>
  </p>
  <p class="supID">SUP-15548</p>
  <h5>Developer  Portal and Akana Administration Console: field validation</h5>
  <p>In some cases, the developer portal and/or Akana Administration  Console accepted user input that was formatted as JSON data; in other cases, if  certain special characters were provided as field input, such as %2F, %00, or  %7c, the platform returned an HTTP 500 message.<br>
    Field validation has been improved to resolve this issue.<br>
  </p>
  <p class="source-hide">ATMO-21139 for 8.2.19 / ATMO-21235 for 8.4.4 / ATMO-20800 for  8.5</p>
  <h5>Cannot  create users from Policy Manager console in the local domain</h5>
  <p>In the Policy Manager console, after upgrade, there was a  problem adding users in the local domain. The information was not saved, and no  errors were generated. This has been fixed.<br>
  </p>
  <p class="supID">SUP-16090</p>
  <h5>Multiple  service errors in log file: &ldquo;No key found in WSDL for service&rdquo;</h5>
  <p>In a scenario where an implementation of the Akana API Platform  included multiple Network Directors, with services distributed across Network  Directors rather than all services hosted on all Network Directors, specific  errors were populating the log file. For services hosted on one Network  Director but not on a second, errors were generated to the log file for the  second Network Director instance, with the message:</p>
  <pre class="code">No key found in WSDL for service {service_name} </pre>
  <p>The services could be retrieved, but did not have an address or  service key element when the WDSL was retrieved by the Network Director, since  the service was not hosted on that specific container.<br>
    The platform has been changed so that these messages are recorded  as warnings rather than as errors.<br>
  </p>
  <p class="supID">SUP-16145</p>
  <p class="source-hide">ATMO-21281 for 8.4.4 / ATMO-21275 for 8.2.20</p>
  <h5>Pipeline  Policy security component: User ID is picked from different domain</h5>
  <p>In a scenario where an implementation included a DataPower Pipeline  policy security component with two LDAP domains, the domain from which the  ID/username was taken was not consistent. In some cases, the ID/username was  taken from the correct domain; in other cases, it was taken from the wrong  domain.<br>
  </p>
  <p class="supID">SUP-14659</p>
  <h5>Simple Dev  theme: Apps Log, request details not logged</h5>
  <p>In the Apps Log, API request details were visible when viewed  in the developer portal in Default Theme, but when viewed in Simple Dev theme,  the API request body was not included in the log details. This has been fixed  so that all applicable data is visible consistently across themes.<br>
  </p>
  <p class="supID">SUP-15596</p>
  <h5>JMS:  Potential timing problem</h5>
  <p>There was a timing problem with the JMS transport when Topics were  used with temporary, non-durable response destinations. The issue was that the  response consumer was created after the request was sent. This could result in  the response being posted to the response Topic before the consumer was  registered, at which point it would not receive the message.<br>
  </p>
  <p class="source-hide">ATMO-21309 for 8.4.4</p>
  <h5>Test  Client: Double encoding on query parameters causes API to fail</h5>
  <p>A regression introduced in version 8.4.3 caused query parameters  in Test Console to be encoded twice. Because of this, some API calls failed.<br>
  </p>
  <p class="supID">SUP-16172</p>
  <h5>Runtime  error from proxy created using swagger file</h5>
  <p>In a specific scenario, after upgrade to 8.4.3, there was an  issue with a proxy API created from a valid Swagger file uploaded to create the  API; the API endpoint was incorrect, and so it failed at runtime. If the API  was created first and then the Swagger file was uploaded afterwards, the API  worked fine.<br>
  </p>
  <p class="supID">SUP-16199</p>
  <h5>NPE  indexing Discussion Board item when assignment SubjectID is missing</h5>
  <p>After upgrade to version 8.4.3, the log files were rolling over  to the next file within a few seconds. This was because of an issue with  indexing certain Discussion Board items, and has been fixed.<br>
  </p>
  <p class="supID">SUP-16202</p>
  <h3 id="843">Version 8.4.3</h3>
  <h4>Minor Enhancements: 8.4.3</h4>
  <h5>Support of individual  query parameters in JAX-RS clients</h5>
  <p>The platform now supports the ability to set individual query  parameters that are not called out in the service interface.<br>
  </p>
  <p class="source-hide">ATMO-20940 for 8.4.3</p>
  <h5>API  Designer: Sample request/response now supported for Swagger display</h5>
  <p>In the past, sample requests/responses in imported Swagger  documents were not displayed in API Designer.<br>
    Now, all themes have been enhanced to support sample  request/response content in Swagger documents.<br>
  </p>
  <p class="source-hide">ATMO-21038 for 8.4.3 / ATMO-20993 for 8.5</p>
  <h4>Bug fixes: 8.4.3</h4>
  <h5>Test Client:  Encoding of path variable added</h5>
  <p>In the past, if a space or other character that required encoding  was included in a path variable in Test Console, the platform returned an  illegal character message.<br>
    Test Console has now been enhanced to support automatic encoding  in the path variable, for characters that need to be URL encoded.<br>
  </p>
  <p class="supID">SUP-4866</p>
  <h5>Possible  denial of service vulnerability due to user avatar size parameter</h5>
  <p>The platform supports uploading of an image for several resources  including users, apps, APIs, and groups.<br>
    There was no file size restriction in the upload API; in  addition, the processing time compounded when larger size values were provided.<br>
    By using this API with a large size parameter, potentially in  multiple instances, it could be possible for an attacker to overload the  back-end processing and cause service outages.<br>
    These operations have now been changed so that the maximum file  upload size is a 1000-pixel square.<br>
  </p>
  <p class="source-hide">ATMO-20775 for 8.4.3 for Barclays / ATMO-20965 for 8.5 / ATMO-20967  for 8.2.18</p>
  <h5>Visibility  of certain web file descriptors</h5>
  <p>Certain specific web file descriptors, the deployment descriptors  for the Java-based servlets designed to run on the target application, were  publicly exposed in the platform. It is better not to share this information.  This has been fixed.<br>
  </p>
  <p class="source-hide">ATMO-20776 for 8.4.3 for Barclays / ATMO-21057 for 8.2.18 / ATMO-21059  for 8.5</p>
  <h5>Roles  assigned to users within an organization, but users cannot see the organization</h5>
  <p>After creating an organization, when a registered user was  assigned a specific role within the organization, the registered user was not  able to view the organization and manage the applicable assets (APIs for an API  developer, apps for an app developer).<br>
  </p>
  <p class="supID">SUP-15584</p>
  <h5>Policy  Manager: 500 error when trying to view a custom component</h5>
  <p>In a specific scenario when running DB2 database, after upgrading  from version 7.2 to version 8.0, trying to view a custom component returned a  500 error. The response message included the below:</p>
  <pre class="code">Error in executing query for Prepared statement. </pre>
  <p class="supID">SUP-14550</p>
  <h5>Promotion  User's Guide</h5>
  <p>There is now a user&rsquo;s guide for the Promotion feature, available  on the Akana docs site: <a href="http://docs.akana.com/cm/promotion/promotion_users_guide.htm">http://docs.akana.com/cm/promotion/promotion_users_guide.htm</a>.<br>
  </p>
  <p class="source-hide">ATMO-20976 for 8.4.3</p>
  <h5>API metrics:  calculation error in Average Response Time</h5>
  <p>In the API metrics, there was an error in logic in calculating  the average response time for an individual operation, when a specific setting  configuration was specified, resulting in the value for average response time  being lower than the value for minimum response time.<br>
  </p>
  <p class="supID">SUP 15675</p>
  <h5>Policy  Manager: Some HTTP 400 error responses not recorded as a fault</h5>
  <p>In some cases, when a response message had an HTTP status code of  400, the response was not logged as an error response in Policy Manager,  although it showed correctly in the analytics logs in the developer portal as  an error response.<br>
  </p>
  <p class="supID">SUP-15650</p>
  <h5>Alert  message copy is hardcoded and should be a locales message</h5>
  <p>A specific Alert message relating to the file upload scenario had  hardcoded message text. This meant that the text could not easily be modified  locally.<br>
    This has now been updated so that the text is pulled from the  locales file. It can therefore be translated or modified locally if needed.<br>
  </p>
  <p class="source-hide">ATMO-21101 for 8.4.3 / ATMO-21103 for 8.2.18 / ATMO-21104 for  8.5</p>
  <h3 id="842">Version 8.4.2</h3>
  <h4>Minor Enhancements: 8.4.2</h4>
  <h5>New ability  for the Site Admin to clone the Hermosa site theme</h5>
  <p>In previous versions of the API platform, of the three standard  out-of-the box themes, Default Theme, Simple Dev, and Hermosa, only the first  two could be cloned. Hermosa theme could not be cloned.<br>
    Now, the API platform has been enhanced to support cloning of  Hermosa theme.<br>
  </p>
  <p class="source-hide">ATMO-17909 for 8.4.2 same for 8.5.0</p>
  <h4>Bug fixes: 8.4.2</h4>
  <h5>Issues with  rendering charts for Apps and APIs</h5>
  <p>There were several issues with the rendering of charts for app  and API metrics:</p>
  <ul>
    <li>Rendering of charts was very slow; in some  cases, it took 60 seconds for a chart to load, at which point the request would  time out.</li>
    <li>At certain points an empty error message box was  displaying at the top of the page.</li>
    <li>Custom logs were not generated. </li>
  </ul>
  <p class="supID">SUP-15011</p>
  <h5>Jetty server  default error page shows version information</h5>
  <p>The Jetty server that the developer portal is hosted on did not  have the setting enabled to display custom error pages, and was showing default  error pages that included information it was not necessary to share, such as  version information and the server-side technology in use.<br>
    This has now been fixed so that the platform constructs a  response document indicating the type of error that occurred, without extra  details. </p>
  <p class="source-hide">ATMO-20774 for 8.4.2 / ATMO-20907 for 8.2.17 </p>
  <h5>500 server  exception results in Java stack trace</h5>
  <p>The Jetty server that the developer portal is hosted on was  configured to display detailed error messages if an HTTP 500 server exception  error was generated. The detailed debugging information in the stack trace  associated with an error could potentially be used to gain information about  the internal structure of the application, which it is not necessary to give  away.<br>
    This has now been fixed so that the platform returns a response  document indicating the type of error that occurred, without extra details.<br>
  </p>
  <p class="source-hide">ATMO-20777</p>
  <h5>NPE while  adding an API</h5>
  <p>In a scenario where an API was added without including the API  version information in the request payload, a null pointer exception was  returned.<br>
  </p>
  <p class="supID">SUP-15568</p>
  <h5>Incorrect  value for home feed request results in bad link in new user notification</h5>
  <p>The developer portal was including an incorrect value in a  request, resulting in an incorrect link in the &ldquo;welcome to the platform&rdquo;  notification issued to a new user.<br>
  </p>
  <p class="supID">SUP-15557</p>
  <h3 id="841">Version 8.4.1</h3>
  <h4>Bug fixes: 8.4.1</h4>
  <h5>API is  exported with licensing disabled, but after import the licensing setting is  enabled</h5>
  <p>In a scenario where an API was exported and the API setting <strong>Enable Licensing for API</strong> was set to <strong>Disabled</strong>, when the API was imported,  this setting was enabled.</p>
  <p class="supID">SUP-14593</p>
  <h5>Public API  Setting is disabled, but APIs are still created as Public</h5>
  <p>Even though the setting where the Site Admin can control whether  users can create public APIs (<strong>Administration</strong> &gt; <strong>Settings</strong> &gt; <strong>APIs</strong>) was disabled, so that users  should not be able to create public APIs, new APIs were being created by  default as public APIs.<br>
    <span class="supID-from-word">SUP-14842</span></p>
  <h5>When creating or updating API with a specific swagger.json  file, null pointer exception returned</h5>
  <p>In certain scenarios, when creating or updating an API from an  imported <strong>swagger.json</strong> file, the  platform returned a null pointer exception error, and the action failed. </p>
  <p class="supID">SUP-13752, SUP-14937, SUP-15133</p>
  <h5>Missing  question mark in the search results</h5>
  <p>Search results include a URL to the results pages; however, the  search results were returning a URL that was a direct link to the page, rather  than the question mark format generally used for pages in the developer portal.  A result of this was that after clicking a link in the search results and going  to that page, if the page included relative links to other pages, the relative  links would not work.<br>
    The search results have been modified to use the standard  question mark format.<br>
    <span class="supID-from-word">SUP-15258</span></p>
  <h5>Public API  documentation not visible unless user is logged in as a Business Admin</h5>
  <p>In a scenario where the API documentation for a tenant was  public, and should be accessible without logging in, those documents were not  returned in search results unless the user performing the search was logged in  as a Business Admin.<br>
    <span class="supID-from-word">SUP-15256</span></p>
  <h5>With  cache-control header of public and no max-age header, null pointer exception  returned</h5>
  <p>In a scenario where the default caching policy was attached to  a service, and the downstream service response had a <strong>cache-control</strong> header with a value of <strong>public</strong>, a null pointer exception was generated, with a 500 internal  server error in Network Director. If the <strong>max-age</strong> header was added, this problem did not occur; however, there was no error  logging to indicate that this header was the issue.<br>
  </p>
  <p class="supID">SUP-14984</p>
  <h5>Automation  scripts: ForceTrust=true setting does not work</h5>
  <p>In the automation scripts, the <strong>forceTrust=true</strong> setting makes the product force the trust of a  certificate. In version 8.4, this was not working.<br>
  </p>
  <p class="supID">SUP-15062</p>
  <h5>Oracle  database: In some cases, running scheduled job refreshDeletedEntries returns ORA-01795</h5>
  <p>An issue occurred relating to the running of the scheduled job <strong>refreshDeletedEntries</strong> with an Oracle  database. In some cases, the number of deleted entries in the list was so great  that the scheduled job did not run successfully, returning an error, <strong>ORA-01795</strong>. In this scenario, it was  necessary to run manual database queries to resolve the issue.<br>
  </p>
  <p class="supID">SUP-14021</p>
  <h5>Policy  Manager REST API to delete trusted certificate does not delete the cert</h5>
  <p>In version 8.4, the Policy Manager REST API for deleting a  trusted certificate was returning a 202 response, but the certificate was not  deleted. Deletion worked with the SOAP binding but not with the REST API. </p>
  <p class="supID">SUP-14858</p>
  <h5>Public API  documentation not visible to anonymous users even when no metadata.xml file is uploaded</h5>
  <p>In a scenario where there were no restrictions on the public  visibility of API documentation—the API was public and there was no tagging on  the API documentation and no <strong>metadata.xml</strong> file uploaded—the API documentation was not visible to anonymous users as it  should be.<br>
  </p>
  <p class="supID">SUP-15256</p>
  <h5 id="SUP-15133">Add API from Swagger document: objects of type Entity do  not expand correctly</h5>
  <p>In some cases, when an API was created from a Swagger document,  Swagger objects of type <strong>Entity</strong> were  not being expanded correctly.<br>
    <strong>Note</strong>: This fix has  been affected by a later fix for version 8.4.12: see <a href="#Edit Design does not load">Edit Design does not load</a>.<br>
    <span class="supID-from-word">SUP-15133, SUP-13752</span> </p>
  <h3 id="84">Version 8.4</h3>
  <h4 id="84-keyfeatures"><a></a>Key Features: 8.4</h4>
  <h5>Ability to  author and manage policies from within the developer portal</h5>
  <p>The developer portal now allows the Business Admin to manage  policies directly, via the user interface, without using the underlying  infrastructure (Policy Manager). Policies are set up in the context of a  specific business organization. All policy types are supported.<br>
    Support for policies allows the Business Admin to:</p>
  <ul>
    <li>Add a policy, including basic policy definition  and policy configuration details.</li>
    <li>Edit an existing policy.</li>
    <li>Create a new version of an existing policy  that&rsquo;s in Active state.</li>
    <li>Delete a policy.</li>
    <li>View all policies set up for a specific business  organization.</li>
    <li>Move a policy that&rsquo;s in Draft state from one  organization to another (once a policy is in Active state it cannot be moved).</li>
  </ul>
  <p class="source-hide">ATMO-16460 / ATMO-19180 / ATMO-19193 / ATMO-19282 / ATMO-19288  / ATMO-19289 / ATMO-19294 / ATMO-19295 / ATMO-19296 / ATMO-19393 / ATMO-19397 /  ATMO-19444 / ATMO-19452 / ATMO-19476</p>
  <h5>Ability to  manage API Gateways from within the developer portal</h5>
  <p>In previous versions of the developer portal, API Gateways, the  underlying OSGi containers with the features installed that support the  developer portal functionality, had to be set up, configured, and managed in  the underlying infrastructure such as Policy Manager.<br>
    Now, although the API Gateways must be separately created and  configured, the Business Admin can register, modify, and manage API Gateways  and clusters from within the developer portal.<br>
    The new functionality, accessed at the root level via <strong>Administration</strong> &gt; <strong>API Gateways</strong>, gives the Business Admin  broad capabilities to manage API Gateways and clusters for the tenant. The  Business Admin can:</p>
  <ul>
    <li>Register an API Gateway</li>
    <li>Add an API Gateway cluster</li>
    <li>When registering an API Gateway, define a new  API Gateway cluster on the fly, which will contain the new API Gateway</li>
    <li>Add or remove API Gateways from a cluster</li>
    <li>Move an API Gateway from one cluster to another</li>
    <li>View a list of standalone API Gateways and  clusters</li>
    <li>View details of an individual API Gateway,  cluster, or cluster member</li>
    <li>Edit metadata details for an API Gateway</li>
    <li>Edit an API Gateway inbound listener</li>
    <li>Configure or edit outbound keys/certificates for  an API Gateway or cluster</li>
  </ul>
  <p class="source-hide">ATMO-19324 / ATMO-19327 / ATMO-19328 / ATMO-19329 / ATMO-19330  / ATMO-19331 / ATMO-19332 / ATMO-19413 for API changes / ATMO-19453 /  ATMO-19600 / ATMO-19634 / ATMO-19637 / ATMO-19750 / ATMO-19751</p>
  <h5>New  Lifecycle Coordinator feature allows management of API lifecycle stages</h5>
  <p>The platform includes a new feature, Lifecycle Coordinator, which  allows the Administrator to define a one-way topology that includes a chain of  environments reflecting the development lifecycle. For example, the topology  chain could be from <strong>Development</strong> to <strong>Testing</strong> to <strong>Staging</strong> to <strong>Production</strong>.  Each environment is a separate installation of the developer portal.<br>
    Lifecycle Coordinator is a standalone user interface that&rsquo;s  installed separately. The new feature also includes modifications to the  developer portal user interface to allow the API Admin to promote an API to the  next environment.<br>
  </p>
  <p><strong>Lifecycle Coordinator</strong><br>
    Within the Lifecycle Coordinator, the authorized user can:</p>
  <ul>
    <li>Define and manage the environment topology (two  or more environments in a unidirectional chain).</li>
    <li>Set up processing rules that are executed when  an API is promoted from one specific environment to the next. For example:</li>
    <li>A rule might change the target URL host for the  physical services when an API is promoted from Staging to Production.</li>
    <li>A rule might deploy an API to different  deployment zones in the Production environment depending on the PCI  compatibility of the API.</li>
    <li>A rule might define an approval required for the  resource to be promoted to the next environment. If approval is required, the  resource will be in a <strong>Promotion Pending</strong> state  until the promotion is approved.</li>
  </ul>
  <p>The new feature includes a new user permission for the user who  manages the Lifecycle Coordinator.<br>
    <strong>Developer Portal</strong><br>
    Within the developer portal user interface, the new feature  allows the API Admin or Business Admin to promote an API from the current  environment to the next step in the environment topology.<br>
    When the user in the developer portal promotes the API, the API  is passed to the Lifecycle Coordinator. The next steps are governed by the  process set up in the Lifecycle Coordinator. For example, if a manual approval  is required, approval is requested. If processing rules are in place, the rules  are applied to the data before it is promoted to the next environment. The  status of the promotion request is reflected in the developer portal user  interface; for example, <strong>Promoted</strong> or <strong>Promotion Pending</strong>.<br>
    <strong>Iterations</strong><br>
    A resource can be promoted to the next lifecycle stage multiple  times, each time being an iteration of the resource, to accommodate a  development scenario where multiple changes are made before the API is fully  mature and ready to move to the next stage.<br>
    For example, an API might be promoted from Development to  Testing, and some errors found in Testing. It can then be updated in the  Development environment and promoted to Testing again, possibly multiple times  until it fully passes Testing and is ready to be promoted to the next lifecycle  stage in the next environment.<br>
    In the Lifecycle Coordinator, each of these iterations is stored,  for historical tracking and non-repudiation.<br>
    <strong>Deployment</strong><br>
    In terms of deployment, the Lifecycle Coordinator can be co-located  with any one of the tenants, or it can stand alone and communicate remotely  with any of them.<br>
    <strong>API changes</strong><br>
    Corresponding API enhancements were developed to support these  features:</p>
  <ul>
    <li>Import/export of API for the Promotion feature</li>
    <li>New API for returning the default environment</li>
  </ul>
  <p class="source-hide">ATMO-18725 / ATMO-18959 / ATMO-19456 / ATMO-19457 / ATMO-19512  / ATMO-19629 / ATMO-19721 / ATMO-19788 / ATMO-19850 / ATMO-19923 / ATMO-19501 /  ATMO-19635 / ATMO-19714</p>
  <h5>Ability to  move business resources from one organization to another</h5>
  <p>Within the developer portal, an authorized user can move  certain business resources from one organization to another. Resources that can  be moved include:</p>
  <ul>
    <li>API</li>
    <li>App</li>
    <li>Policy</li>
    <li>Organization (moving a child business  organization to a new parent)</li>
  </ul>
  <p class="supID">SUP-13885</p>
  <p class="source-hide">ATMO-19274 for API / ATMO-19619 for API / ATMO-19620 for app /  ATMO-19621 for business / ATMO-19860 API part 2 / </p>
  <h5>External  OAuth Provider Domain: Support of JWKS for OAuth access tokens</h5>
  <p>The platform now supports validation of JWS Bearer access tokens  with public keys in the JWK Set URI.<br>
    In addition, the External OAuth Provider Domain now supports  specifying signing source for asymmetric keys inline.<br>
    The External OAuth Provider Domain has been expanded to allow the  Administrator to set up the signing source when asymmetric keys for JWT Bearer  access token support are specified inline.<br>
    This field is used when the JWT Bearer access token is signed  with an asymmetric signature algorithm such as RSA.<br>
    In the developer portal, the new fields are in the External  OAuth Provider Domain setup, Tab 4, Access Token Validation, and appear when  the user checks the <strong>JWT Bearer Access  Token</strong> box and then, in the <strong>Signing  Keys</strong> section, chooses <strong>Asymmetric  Keys Inline</strong> as the source for signing keys. The choices are:</p>
  <ul>
    <li>X.509 Certificate</li>
    <li>X.509 Certificate URL</li>
    <li>JWK Set URL</li>
  </ul>
  <p>If the user chooses JWK Set URL, the JWKS endpoint must be  provided as part of the External OAuth Provider Domain configuration in the  Provider tab (Tab 3).<br>
    Per the OAuth specification, the external OAuth Provider might  choose to use the public key that&rsquo;s published via the JWKS endpoint.<br>
    Using the JWKS option requires use of the <strong>kid</strong> (Key ID parameter). If the JWKS endpoint response contains only  one <strong>kid</strong> parameter, the value might  not be preset. In this scenario, the public key corresponding to the <strong>kid</strong> parameter in the JWKS endpoint  response is used for signature verification. </p>
  <p class="source-hide">ATMO-19734 / ATMO-19754 {{OK MM 2/24}}</p>
  <h5>OpenID  Connect Relying Party domain: new option supports single-page applications</h5>
  <p>In some cases, during the OAuth process, the scopes might not yet  be available when the user is being redirected to the authentication provider.  For example, if you have a single-page application (SPA) and want to secure  your API with user roles, you might not be able to determine which roles to  allow until you&rsquo;ve authenticated the user.<br>
    The OpenID Connect Relying Party domain now includes additional  fields that allow users to specify extension properties to support this  scenario.<br>
    In the developer portal: <strong>Administration</strong> &gt; <strong>Domains</strong> &gt; <strong>Add Domain</strong> &gt; <strong>OpenID Connect Relying Party</strong>. The new fields are on Tab 4,  Authentication. Here, the user can choose to use an extension property to send  the claims in the ID token, instead of in the access token which is the usual  behavior. The user can then specify the claim name. <br>
  </p>
  <p class="source-hide">ATMO-19593 / ATMO-19705</p>
  <h5>Increased  JMS Support</h5>
  <p>There are two enhancements to the platform&rsquo;s support of JMS  transactions:</p>
  <ul>
    <li><strong>Retry for  JMS transactions:</strong></li>
  </ul>
  <p>As part of support of JMS transactions, the platform now  supports retrying delivery of messages with JMS failures. <br>
    If the platform is unable to place a message on an outbound JMS  queue, it returns an error but allows retrying. The JBI router can then attempt  failover to another endpoint.</p>
  <ul>
    <li><strong>Failover  for JMS transactions:</strong></li>
  </ul>
  <p>The platform now supports failover to/from JMS endpoints.  Failover for JMS endpoints works in the same way as the existing support for  HTTP endpoints. <span class="source-hide">ATMO-18804 / ATMO-18805 / ATMO-19639</span><br>
  </p>
  <p class="supID">SUP-13218</p>
  <h5>New scripted  install support</h5>
  <p>Platform installation options now include a new facility for  scripting installation and configuration of Akana containers. RESTful APIs and  a file-driven approach are both supported.<br>
    <span class="source-hide">ATMO-18980 / ATMO-18981 / ATMO-19161 / ATMO-19162 / ATMO-19163  / ATMO-19666 / ATMO-19971</span></p>
  <h5>User can  enable/disable notification for API auto-connect</h5>
  <p>A new configuration option was added to the user profile settings  so that users can control whether they receive email notifications when an app  auto-connects to the API. Previously, emails were automatically generated on  auto-connect and users could not configure this option.<br>
    The new option is a checkbox in the <strong>Profile</strong> &gt; <strong>Details</strong> &gt; <strong>Settings</strong> page.<br>
  </p>
  <p class="supID">SUP-13434</p>
  <p class="source-hide">ATMO-18982 / ATMO-19</p>
  <h5>Elasticsearch  feature enhancement</h5>
  <p>The new release supports the ability to secure Elasticsearch  clusters with Transport Client security.</p>
  <p class="supID">SUP-14460</p>
  <p class="source-hide">ATMO-19206 {{in progress}}/  ATMO-19445 / ATMO-19648 / ATMO-19792</p>
  <h5>Lifecycle  Integration: expanded support including additional resource and artifact types</h5>
  <p>The platform now includes the following additional support for  Lifecycle Manager integration:</p>
  <ul>
    <li>Support of custom metadata for users:  Administrators can now specify custom metadata for users in addition to other  types of custom metadata already supported (apps and APIs).</li>
    <li>Support of an additional artifact type, <strong>by-ref</strong>, for all resource types.</li>
  </ul>
  <p>Support of custom metadata requires integration with the  Lifecycle Manager product.<br>
  </p>
  <p class="source-hide">ATMO-19515 / ATMO-19213</p>
  <h5>API Admin  can specify a valid listener when adding/editing an implementation endpoint</h5>
  <p>When adding or editing an endpoint for an implementation in the  developer portal, the API Admin can now specify the listener, choosing from a  list of valid listeners available.<br>
    A new listener pull-down was added on the Protocol tabs for the  implementation. The user can specify a listener as part of adding a subsequent  implementation (the first is generated automatically as part of the API  creation process), or as part of editing any implementation. <br>
    If only one listener for a specific protocol is available for the  deployment zone, the listener pull-down does not appear.<br>
    Changes were made to the Deployment Zone REST API service for the  developer portal to support the new functionality.<br>
  </p>
  <p class="source-hide">ATMO-19321 for add listener / ATMO-19322 for add listener /  ATMO-19320 for API change</p>
  <h5>API Admin  can now edit the design of a SOAP API</h5>
  <p>In previous versions of the product, users could update the  design for REST-based APIs, but for SOAP APIs created by uploading a WSDL file,  edit was not available.<br>
    Now, SOAP APIs can be edited by updating a new WSDL file for the  API or by providing the URL for the WSDL.<br>
  </p>
  <p class="source-hide">ATMO-19391</p>
  <h5>New support  for credentials for a metadata URL in API</h5>
  <p>The platform now supports securing a container&rsquo;s metadata with  Basic Auth security.<br>
  </p>
  <p class="source-hide">ATMO-19413 {{copy from TG}}</p>
  <h5>Enhancement  of the Container Management API service, to provide additional options for  adding and changing containers</h5>
  <p>Additional operations were added to the Container Management  service to provide additional options in support of activities relating to  managing containers, such as adding and modifying containers.<br>
  </p>
  <p class="source-hide">ATMO-19443 / ATMO-19497 / ATMO-19498 / ATMO-19499 / ATMO-19500  / ATMO-19549 / ATMO-19749</p>
  <h5>Support of  business organizations that can administer their own apps and APIs</h5>
  <p>The platform now allows authorized users to create business  organizations within the developer portal. Each business organization can have  its own apps and APIs. In addition, organizations can be nested. For example,  you could create a specific business organization and then create several child  organizations for the departments within the business organization.<br>
    Support of business organizations includes the ability to:</p>
  <ul>
    <li>Add, view, edit, and delete an organization.</li>
    <li>View a list of organizations.</li>
    <li>Add, view, edit, and delete apps associated with  an organization.</li>
    <li>Add, view, edit, and delete APIs associated with  an organization.</li>
    <li>Perform all activities relating to apps and  APIs, such as creating contracts.</li>
    <li>Create a child organization that has its own  apps and APIs (supports a multi-level organization hierarchy).</li>
    <li>View a list of child organizations.</li>
    <li>View app and API metrics for a specific  organization.</li>
  </ul>
  <p>In the user interface, Business Admins see the Organizations  link in the top menu area, as shown below:<br>
    <img src="img/bus-apps-organizations.png" width="257" height="124" alt=""/><br>
    Users adding an organization specify Name, Description,  optional avatar, and Type:<br>
    <img src="img/bus-apps-add-org.png" width="756" height="206" alt=""/><br>
    Once the organization is defined, the Business Admin can  create and manage assets using the left menu, as shown below, including:</p>
  <table border="0" cellspacing="0" cellpadding="0">
    <tr>
      <td width="348" valign="top"><ul>
        <li>Organization details</li>
        <li>APIs</li>
        <li>Apps</li>
        <li>Child organizations</li>
        <li>Policies for the organization</li>
        <li>Processes for the organization</li>
        <li>Scripts for the organization</li>
        <li>Security roles within the organization</li>
        <li>Export/import of organization data.</li>
      </ul></td>
      <td width="291" valign="top"><p><img src="img/bus-apps-org-details.png" width="151" height="320" alt=""/></p></td>
    </tr>
  </table>
  <p>Apps and APIs created within the context of a specific  organization are not visible/accessible to organizations outside the  organization tree.<br>
    Security permissions can be set for the organization, in  detail, as shown below:<br>
    <img src="img/bus-apps-role-memberships.png" width="791" height="233" alt=""/><br>
    Security settings for a specific organization are entirely  independent of other organizations or the root organization.<br>
    This gives a lot of flexibility in managing multiple  organizations, including an organization hierarchy, on the platform.<br>
  </p>
  <p class="source-hide">ATMO-17894, ATMO-17896, ATMO-17898, ATMO-17899, ATMO-17900,  ATMO-17901, ATMO-17902, ATMO-17903, ATMO-18166, ATMO-18572 / ATMO-18671 </p>
  <p class="supID">SUP-10670</p>
  <h5>When adding  a new API version, user can switch implementation pattern between Orchestration  and Proxy</h5>
  <p>In the past, a specific API was created with a specific  implementation pattern, Proxy or Orchestration. Once the API was created, new  versions of the same API would have the same implementation pattern; it could  not be changed.<br>
    Now, the platform supports creating a new API version and  changing the implementation pattern. </p>
  <p class="source-hide">ATMO-18065</p>
  <h5>Support of  user-defined custom properties for Apps, APIs, and Users</h5>
  <p>The platform now supports user-defined custom properties for  certain resources.<br>
    Specifically, in the 8.3 release, the platform supports  integration of extensible properties for apps and APIs. The 8.4 release added  support of extensible properties for users.<br>
    Support includes the following new features and changes:</p>
  <ul>
    <li>A new Site Admin setting to enable or disable  custom properties.</li>
    <li>Support of extension properties for apps, as  defined in a template. Properties are:</li>
    <li>Collected in the <strong>Add App,</strong> <strong>Add App Version</strong> pages</li>
    <li>Displayed in the app&rsquo;s <strong>Details</strong> page</li>
    <li>Modified from the app&rsquo;s <strong>Details</strong> page via the <strong>Edit</strong> button in the new <strong>Properties</strong> section.</li>
    <li>Support of extension properties for APIs, as  defined in a template. Properties are:</li>
    <li>Collected in the <strong>Add API</strong> and <strong>Add API Version</strong> pages</li>
    <li>Displayed in the API&rsquo;s <strong>Details</strong> page</li>
    <li>Modified from the API&rsquo;s <strong>Details</strong> page via the <strong>Edit</strong> button in the new <strong>Properties</strong> section.</li>
    <li>Support of extension properties for users, as  defined in a template. Properties are:</li>
    <li>Collected in the <strong>Add User</strong> page and user profile page</li>
    <li>Displayed in the user&rsquo;s <strong>Details</strong> page</li>
    <li>Modified from the user profile.</li>
  </ul>
  <p>Supported types of fields for extension properties in version 8.3  include Boolean, date, string, taxonomy, and others. Version 8.4 adds support  of additional artifact type, <strong>by-ref</strong>,  for all resource types.<br>
    Support for this feature requires that these steps be in  place:</p>
  <ul>
    <li>The implementation must include the add-on  product, configured to use the same database as the developer portal.</li>
    <li>The applicable site setting (<strong>Administration</strong> &gt; <strong>Settings</strong> &gt; <strong>Site</strong>) must be enabled. When this setting is enabled, properties  defined for supported assets in the developer portal can be extended by customizing  templates in the default Lifecycle Manager integration library.</li>
  </ul>
  <p class="source-hide">8.3: ATMO-18154 / ATMO-18155 / ATMO-18156 / ATMO-18158 /  ATMO-18159 / ATMO-18160 / ATMO-18161 / ATMO-18162 / ATMO-18163 / ATMO-18164 /  ATMO-18165 / ATMO-18683 ---///---8.4: ATMO-19515 / ATMO-19213</p>
  <h5>Process  Editor changes</h5>
  <p>Changes were made to the Process Editor for enhanced usability:</p>
  <ul>
    <li><strong>Palette  now scrollable</strong>: The Process Editor palette, viewed within the developer  portal in some instances, is now scrollable so that even if there are custom  activities added to the palette, all activities are easily accessible.</li>
    <li><strong>Extendable  palette</strong>: The vertical height of the palette was extended to support  additional, optional icons. This allows support of the FreeMarker, Add/Modify  Headers, and Normalize activities.</li>
    <li><strong>Warning  message added</strong>: In Process Editor, users must save changes by using the <strong>Save</strong> icon on the palette. Previously,  if the user clicked <strong>Finish</strong> before  saving, the changes were lost. A warning message has been added so that if a  user clicks <strong>Finish</strong> with unsaved  changes, the user is prompted to save before exiting.</li>
  </ul>
  <p class="source-hide">ATMO-18585 / ATMO-17602/ [ATMO-18024 for 8.3 : ATMO-17833 for  8.2.1]</p>
  <h5>Compliance-related  changes for SEO</h5>
  <p>The system includes a number of changes for better SEO:</p>
  <ul>
    <li>Serve up <strong>robots.txt</strong> and <strong>sitemap.xml</strong> files based on the  site structure.</li>
    <li>Provide configurable site title and description.</li>
    <li>New fallback pages for public site content.</li>
  </ul>
  <p class="source-hide">ATMO-16234 / ATMO-16235</p>
  <h5>Expanded  support of roles, with increased granularity and flexibility</h5>
  <p>The roles functionality of the developer portal has been expanded  and enhanced to include the ability to create and modify roles in the  underlying infrastructure, and assign those roles in the developer portal.<br>
    This provides much greater flexibility to manage roles at a more  granular level for the API platform.<br>
    Roles are made up of a set of permissions for the different  entities in an organization, such as APIs, apps, groups, and sub-organizations.  When a user is assigned a role within an organization, the user is granted the  associated permissions within that organization and all sub-organizations. The  System Administrator can define the roles and their associated permissions in  the Policy Manager console, including modifying out-of-the-box roles and adding  new roles. Those roles are then available in the Community Manager Organization  pages, where the Business Admin can assign specific roles to specific users.<br>
    The new functionality includes:</p>
  <ul>
    <li>New capability to manage permissions for core  resources on the API platform, from Policy Manager. This includes apps, APIs,  and groups, as well as business organizations.</li>
    <li>New capability in the developer portal to view  all roles defined at the organization level, and to assign roles to users.</li>
  </ul>
  <p>Previously, the main roles and permissions within the developer  portal were Developer, API Admin, Business Admin, and Site Admin, and these  could not be fine-tuned. Now, permissions for those roles can be modified in  Policy Manager, and new roles can be defined in Policy Manager, at the root or  organization level, and assigned in the developer portal. Roles defined at the  root level are available for all organizations; roles defined for a specific  organization are available only for that organization and its sub-organizations  if there are any.</p>
  <h5>Refactoring  UI to support custom roles</h5>
  <p>In support of the new custom roles feature, the following  additional changes were made:</p>
  <ul>
    <li>Existing pages and widgets were modified to  check the new permissions rather than the previous platform permissions  structure (Site Admin, Business Admin, etc.).</li>
    <li>UI framework files were updated to check  resource type and permission type before displaying a requested page to a  specific user.</li>
  </ul>
  <p class="source-hide">ATMO-18829, ATMO-18830, ATMO-18971 {{widgets  incomplete 11/1/16}}</p>
  <h5>Changing of  Business Admin and Site Admin roles to present a more distinct separation of  duties</h5>
  <p>Permissions for the functions on the Administration menu have  been modified to present a more distinct separation of duties. As a result, a  user who is only a Business Admin, or only a Site Admin, will see slightly  different options on this menu. Key changes:</p>
  <ul>
    <li><strong>Business  Admins</strong>: Site Admins can no longer add Business Admins; only a Business  Admin can make changes to the Business Admin group.</li>
    <li><strong>Scopes  and Licenses</strong>: Site Admins previously had view-only access to Scopes and  Licenses. These items no longer appear on the Site Admin menu. Business Admins  manage all functionality associated with these resources.</li>
    <li><strong>Workflows</strong>:  Site Admins previously had only view-only access to <strong>Administration</strong> &gt; <strong>Workflows</strong>,  where custom workflows are uploaded, and Business Admins had full capability to  upload custom workflows. Now, the Workflows menu item no longer appears on the  Business Admin menu. Site Admins have full capability to upload custom  workflows, as well as to assign custom workflows to resources via the Settings  menu.</li>
    <li><strong>Domains  and Deployment Zones</strong>: Site Admins no longer manage Domains or Deployment  Zones; these functions are now managed by the Business Admin.</li>
    <li><strong>Forum</strong>:  Site Admins no longer have access to <strong>Administration</strong> &gt; <strong>Forum</strong>; only a Business Admin  can moderate a forum from the Administration menu. API Admins can manage the  forums for their own APIs; in addition, each user now has his/her own Forum,  accessible via the top menu bar.</li>
    <li><strong>Actions</strong>:  The Actions function was previously on the Administration menu for the Site  Admin. This has been moved so that it is available to the Business Admin on the  Organization menu for each organization.</li>
  </ul>
  <p class="source-hide">ATMO-none. Doc: ATMO-19063</p>
  <h5>New  Organization &gt; Security page for managing roles in the API platform</h5>
  <p>To support the new features relating to expanded support of roles  and of organizations on the platform, the Business Admin for the business  organization can now manage roles and role membership.<br>
    For each business organization, the Security page lists valid  roles. The Business Admin can assign any user to any valid roles.</p>
  <p class="source-hide">ATMO-16632 / ATMO-18073 / ATMO-18693 / ATMO-16633</p>
  <h5>Site Admin can now modify the legal agreement for the  site</h5>
  <p>The Site Admin can now modify the legal agreement for the  site, via the API.<br>
    <span class="source-hide">ATMO-18077</span></p>
  <h5>Site Admin can now add and manage themes and portal  vanity URLs</h5>
  <p>The Site Admin can now add and manage additional themes, and add  and manage vanity URLs for the developer portal, via <strong>Administration</strong> &gt; <strong>Settings</strong> &gt; <strong>Site</strong>.<br>
    <span class="source-hide">ATMO-15782</span></p>
  <h5>Workflow:  API Admin can manage API content from API workflow</h5>
  <p>The API Admin can now manage content from the API workflow,  including:</p>
  <ul>
    <li>Adding Board items</li>
    <li>Sending notifications</li>
    <li>Deleting all Board items</li>
  </ul>
  <p class="source-hide">ATMO-18167</p>
  <h5>Hermosa  theme: Changes to apps and APIs menus</h5>
  <p>In Hermosa theme, the Apps and APIs menus were changed to use new  card-style layouts.<br>
    <span class="source-hide">ATMO-18437 / ATMO-18438</span></p>
  <h5>Developer  portal list pages changed to card format and driven by Search API</h5>
  <p>Several list pages in the developer portal were modified to a  more user-friendly card layout. These pages now use the Search API rather than  other API operations used previously. The list pages that use this layout  include:</p>
  <ul>
    <li>List of organizations</li>
    <li>List of organizations within an organization</li>
    <li>List of APIs within an organization</li>
    <li>List of apps within an organization</li>
    <li>User-specific APIs list</li>
    <li>User-specific apps list</li>
  </ul>
  <p class="source-hide">ATMO-18516 / ATMO-18517 / ATMO-18518 {{I added the last two  only because I observed it in the UI}}</p>
  <h5>When a new  tenant is created, tenant library is also created</h5>
  <p>When a tenant is created in the developer portal, a tenant  library is also created. This supports the customizable properties feature.<br>
    In addition, for existing tenants who are upgrading, an upgrade  task creates the tenant library.<br>
    <span class="source-hide">ATMO-18608 / ATMO-18609</span></p>
  <h5>New Summary  field for apps</h5>
  <p>A new, optional plain-text field was added for apps. Text entered  in this field is displayed in the list view.<br>
    This field is used in the following pages: <strong>Add App</strong>, <strong>Edit App</strong>,  search results, <strong>My Apps</strong>, <strong>API Overview</strong>, API <strong>Details</strong> page, App <strong>Details</strong> page.<br>
    <span class="source-hide">ATMO-18686</span></p>
  <h5>Policy  Manager: Security added for Admin Health Service</h5>
  <p>In Policy Manager, security was added to the API service for  monitoring the health of a container.<br>
    <span class="source-hide">ATMO-18757</span></p>
  <h5>Security  added to Tenant API</h5>
  <p>Additional parameters were added to the Jython script for  username and password when setting up the tenant, for additional security. The  new parameters are:</p>
  <ul>
    <li>--username</li>
    <li>--userpassword</li>
  </ul>
  <p class="source-hide">ATMO-18774</p>
  <h5>New  permission capabilities added for additional platform objects</h5>
  <p>The platform now supports managing permissions, including view,  add, modify, and delete capabilities, for the following additional platform objects:</p>
  <ul>
    <li>Deployment zones</li>
    <li>Domains</li>
    <li>Legal Agreements</li>
    <li>Licenses</li>
    <li>Scopes</li>
    <li>Tenants</li>
  </ul>
  <p class="source-hide">ATMO-18933, ATMO-18934, ATMO-18935, ATMO-18936, ATMO-18937,  ATMO-18939</p>
  <h5>New &ldquo;Forum&rdquo;  User page</h5>
  <p>The top navigation bar now includes an additional link for each  user to access a personal Forum page.<br>
    The user forum includes all Forum entries (for example, tickets,  reviews, discussions) for all apps and APIs for which the user is an  administrator or team member. The Forum page includes filters for  published/unpublished content and for searching by forum entry type. It also  includes a general search bar.<br>
    <span class="source-hide">ATMO-18942</span></p>
  <h5>New ability  to manage scripts in the developer portal</h5>
  <p>The developer portal now supports the ability for the Business  Admin to manage scripts, which can be used in processes associated with APIs in  the organization. <br>
    Support for scripts allows the Business Admin to:</p>
  <ul>
    <li>Add scripts, which can be used by any  API/process in the organization.</li>
    <li>Edit existing scripts defined at the  organization level.</li>
    <li>Delete a script defined at the organization  level.</li>
    <li>View details of a script defined for the  organization.</li>
    <li>Move a script from one organization to another.</li>
  </ul>
  <p class="source-hide">ATMO-18734 for 8.4 / ATMO-20154 for 8.4 / ATMO-20165 for 8.4</p>
  <h5>New ability  to manage processes in the developer portal</h5>
  <p>The developer portal now supports the ability for the Business  Admin to manage processes, which can be used in APIs in the organization.<br>
    Support for processes allows the Business Admin to:</p>
  <ul>
    <li>Add processes, which can be used by any API in  the organization.</li>
    <li>Edit existing process metadata such as name and  description.</li>
    <li>Edit the technical details of existing processes  defined for the organization, using the Process Editor.</li>
    <li>Delete a process.</li>
    <li>View a list of processes in the organization.</li>
    <li>Move a process from one organization to another.</li>
  </ul>
  <p class="source-hide">ATMO-18739 for 8.4 / ATMO-20116 for 8.4 / ATMO-20117 for 8.4</p>
  <h5>New site  setting to limit forward proxy allowed hosts</h5>
  <p>The developer portal includes a new setting that the Site Admin  can use to restrict the forward proxy feature so that only specified hostnames  are allowed.<br>
    The new setting, <strong>Limit  forward proxy feature to allow only these hosts</strong>, is on the Site Settings  page: <strong>Administration</strong> &gt; <strong>Site</strong>.<br>
    <span class="source-hide">ATMO-20027 for 8.4 </span></p>
  <h5>New API  Admin ability to enable/disable debug mode for API Implementation</h5>
  <p>Debug mode is a setting that controls the level of logging of API  traffic. Debug mode, the second-highest level of logging, records additional  information to the API&rsquo;s logs, above and beyond the normal settings.<br>
    The API Admin can now turn on debug mode for a specific  implementation. Debug mode requires that there is at least one auditing policy,  of any type, attached to the API.<br>
    <span class="source-hide">ATMO-20087 for 8.4 </span></p>
  <h4 id="84-enhancements">Minor Enhancements: 8.4</h4>
  <h5>New  view-only app user role</h5>
  <p>A new app user role was introduced so that users could be given  view-only access to the app. A view-only user has full visibility of the app,  including all versions, associated APIs, monitoring, and any other app-related  information.<br>
    A user with the new role cannot add a new app version or edit or  delete any version of the app or the app itself.</p>
  <p class="supID">SUP-12286</p>
  <h5>External  OAuth Provider Domain: Issuer field length increased</h5>
  <p>In the External OAuth Provider Domain, on Tab 3, <strong>Provider</strong>, the length of the <strong>Issuer</strong> field was increased to  accommodate very long issuer names.<br>
  </p>
  <p class="supID">SUP-13034</p>
  <h5>SLA  policies attached to service now generate developer portal notifications</h5>
  <p>The platform now generates alerts/notifications for SLA policy  violations when an SLA policy is associated with an API implementation/service.<br>
  </p>
  <p class="supID">SUP-13377, SUP-13485 </p>
  <h5>Invalid  user credentials in Authorization header now correctly return HTTP 401 response  rather than 500</h5>
  <p>In a scenario where the Authorization header included invalid  user credentials, the platform was returning an HTTP 500 response. It now  returns a 401, which is the correct response code for this scenario.<br>
  </p>
  <p class="supID">SUP-13711, SUP-10009</p>
  <h5>For Site  Admin viewing user profile, &ldquo;Back&rdquo; link added</h5>
  <p>The Site Admin can click through from the List of Users to view  the profile for a specific user. From this page, there was previously no &ldquo;Back&rdquo;  link, so the Site Admin had to use the top menu to navigate. A <strong>Back to List of Users</strong> link has now been  added for ease of navigation.<br>
  </p>
  <p class="supID">SUP-13190</p>
  <h5>With Akana  cluster support, console master/slave synchronization supports SSL</h5>
  <p>With the Akana Cluster Support plug-in installed, master/slave  synchronization now supports SSL. <br>
    Properties changed in the <strong>com.soa.admin.console</strong> configuration category on the master container are now propagated to slave  containers when SSL is in use.<br>
  </p>
  <p class="supID">SUP-13190</p>
  <h5>Optimization  of commonly used Application API operations</h5>
  <p>The following API operations in the ApplicationAPI service  were optimized to improve performance:</p>
  <ul>
    <li>getContracts</li>
    <li>getApp</li>
    <li>getVersion</li>
    <li>getSharedSecret</li>
  </ul>
  <p class="source-hide">ATMO-19342 {{OK TG 3/20}}</p>
  <h5>Ability to  specify that the session cookie expires if the browser is closed</h5>
  <p>In the database and in the API, a new setting was added to the  login policy settings to indicate whether the session cookie persists when the  browser is closed. <br>
    By default, the session cookie persists if the browser is closed  but the cookie has not expired. For added security, in some installations, the  Site Admin might want to change this setting to <strong>true</strong> so that the cookie expires if the browser is closed<br>
  </p>
  <p class="supID">SUP-13937</p>
  <h5 id="testclient-improved-validation">Test Client: Improved validation for multiple query  parameters</h5>
  <p>In a scenario where there were multiple instances of the same  parameter, with different values, Test Client was accepting the last instance  of the parameter and ignoring previous instances/values. Now, in a scenario  where multiple instances of the same parameter are provided, Test Client passes  all instances to the API.<br>
    <strong><em>Note</em></strong><em>: The wording of this  article has been corrected in release 8.4.6. The previous wording, in release 8.4,  stated that validation has been added to Test Client so that it doesn&rsquo;t allow the  user to add more than one query parameter with the same name and a different  value. In fact, Test Client does allow multiple query parameters with the same  name and a different value, which is per design and per guidelines for REST  APIs.</em><br>
  </p>
  <p class="source-hide">ATMO-15067</p>
  <h5>Process  Editor: unsaved changes confirmation message added</h5>
  <p>The Process Editor includes a <strong>Save</strong> icon on the left menu bar. However, if the user doesn&rsquo;t click  Save, and then edits, there was previously no prompt to save changes.<br>
    A prompt has now been added to notify the user if there are  unsaved changes, before exiting from the Process Editor.<br>
  </p>
  <p class="supID">SUP-12241</p>
  <h5>Improved  support of WSDL with long service/description</h5>
  <p>In some cases, import of a WSDL with long service/description  names caused an error, because the database did not support such long values.<br>
    Adjustments to the database have been made to improve support of  long service/description names in the WSDL, including increasing the side of  the applicable field.<br>
  </p>
  <p class="supID">SUP-14646</p>
  <h5>More  specific error message on App URL field</h5>
  <p>Error messaging on URL fields was improved for scenarios where  the user didn&rsquo;t provide a fully-qualified URL.<br>
  </p>
  <p class="supID">SUP-4841</p>
  <h5>All themes:  Minification of CSS files to help optimize page load time</h5>
  <p>CSS files used by the developer portal user interface were  minified (streamlined) to help improve page load time.<br>
    <span class="source-hide">ATMO-14727</span></p>
  <h5>API Message  Board: Board posts trigger notifications to all followers of the API</h5>
  <p>Notification distribution has been expanded so that followers of  an API get notifications when someone posts to the API&rsquo;s Board.<br>
  </p>
  <p class="supID">SUP-8376</p>
  <h5>Search  returns APIs and also all API versions</h5>
  <p>Previously, as well as APIs being returned in Search, each API version  was returned, resulting in at least two entries, possibly more, for the same  API. Search has been improved so that only one entry is returned for each API.<br>
  </p>
  <p class="supID">SUP-9557, SUP-11914</p>
  <h5>Notifications:  when a group invitee is not a platform member, and then the invitation is  cancelled, user notification is sent</h5>
  <p>In a scenario where a group administrator invited another  individual to join the group, the user was not a platform member, and then the  group administrator cancelled the invitation, a notification was sent out  stating that a Site Admin had removed the user from the group. This has been  fixed so that no notification is sent in this scenario.<br>
  </p>
  <p class="supID">SUP-10773</p>
  <h5>Changes to  Lifecycle Manager to support integrated CM/LM</h5>
  <p>Lifecycle Manager was enhanced to support integration with the  developer portal, including:</p>
  <ul>
    <li>Add asset create, update, and delete operations.</li>
    <li>Design and implementation of an initial default Lifecycle  Manager configuration for platform deployment.</li>
  </ul>
  <p class="source-hide">ATMO-17523 / ATMO-17524</p>
  <h5>Deployment  Zones map improvements</h5>
  <p>The visual map of deployment zones is displayed in several  different pages in the developer portal. Two improvements were made:</p>
  <ul>
    <li>The code for displaying this map was unified and  optimized for efficiency.</li>
    <li>When navigating back and forth between View and  Edit, there were issues with the JavaScript execution timing, which have been  resolved.</li>
  </ul>
  <p class="source-hide">ATMO-18226 / ATMO-18523</p>
  <h5>Workflow:  support of separate API Admin Group Membership workflow</h5>
  <p>The platform now supports defining a separate custom workflow for  API Admin group membership. Previously, a custom workflow could be specified  for Groups but not for API Admin Groups specifically.<br>
    The new setting is with the other configurable API settings: <strong>Administration</strong> &gt; <strong>Settings</strong> &gt; <strong>APIs</strong>.<br>
    <span class="source-hide">ATMO-17336</span></p>
  <h5>New ability  to specify the container key for the default Deployment Zone for a new tenant</h5>
  <p>By default, creating a new tenant creates a deployment zone for  every Network Director container. When adding a new tenant via the platform  API, the user can now pass in an array of container keys. Only those deployment  zones are created.<br>
  </p>
  <p class="source-hide">ATMO-18613 for 8.2 4 / ATMO-18254 for 8.3</p>
  <h5>Optimization  to speed initial load of invoke activity</h5>
  <p>A change was made to the way the invoke activity loads, which  previously ran the search so that the list of all APIs in the system shows in  the drop-down list. Instead, it now shows the selected APIs, or doesn&rsquo;t  populate the drop-down list until the user runs a search, which is more  efficient.<br>
  </p>
  <p class="source-hide">ATMO-18369</p>
  <h5>Support of  OAuth scopes now includes OR as well as AND</h5>
  <p>The platform previously supported multiple OAuth domains, but all  scopes had to be included in the grant.<br>
    Now, support has been added for allowing multiple scopes,  using any of the scopes that are defined in the grant (OR) as well as AND which  was already supported.<br>
  </p>
  <p class="supID">SUP-13062</p>
  <h5>Enhancements  to Swagger support</h5>
  <p>The following are enhancements to the platform&rsquo;s support of  Swagger API description documents:</p>
  <ul>
    <li>The platform now supports resolving links to  external files in Swagger definitions. Previously, external references in the  Swagger definition were not supported; only local references worked. Local and  external references are now supported.</li>
    <li>The platform now supports the ability to resolve  reusable parameter definitions in Swagger documents.<br>
    </li>
  </ul>
  <p class="supID">SUP-13049, SUP-13920</p>
  <h5>All themes:  Display of user&rsquo;s last login timestamp</h5>
  <p>The developer portal UI now displays the date/time of the user&rsquo;s  last login. The information is displayed in the top menu bar with the user&rsquo;s  name.<br>
  </p>
  <p class="source-hide">ATMO-18721</p>
  <h5>Markdown  for Apps and APIs</h5>
  <p>In version 8.2, an API&rsquo;s single description field supported  Markdown and up to 4000 characters. An app&rsquo;s single description field did not  support Markdown, and could hold only 255 characters.<br>
    In 8.3, two different fields are defined to describe an API or  app: a summary field (255 characters, plain text) and a description field (4000  characters, Markdown). The summary field is used to describe APIs and apps in  list pages and search results. The description field is only displayed when  viewing the Details page for the app or API.<br>
    Because of the previous inconsistency in the use of the  description field, when upgrading from 8.2 you&rsquo;ll notice that the content in  the app&rsquo;s previous description field is now displayed in the summary field, and  the description field is empty. The API&rsquo;s description field will still appear  the same, but list pages will not show any descriptive text since the summary  will be empty. You&rsquo;ll notice the same changes if you&rsquo;re using the Community  Manager API. If you&rsquo;re using the Description field of an app through the API,  this field will be blank after upgrade. You can retrieve the old description by  using the Summary field rather than the Description field.<br>
  </p>
  <p class="source-hide">ATMO-18567</p>
  <h5>Expanded/enhanced  AMQP support</h5>
  <p>Several changes were made to expand and improve, AMQP support,  including these enhancements:</p>
  <ul>
    <li>The platform now supports AMQPS for physical  services. </li>
    <li>Platform support of AMQP was expanded to include  support of virtual hosts without a leading forward slash (/) in the virtual  host name.</li>
  </ul>
  <p>In addition, these issues with AMQP support were resolved:</p>
  <ul>
    <li>Default AMQP exchange should be blank and left  to the broker.</li>
    <li>When creating AMQP messages with non-string  message parts, the wrong content was sent. </li>
    <li>With a proxy API implementation, if the physical  service had an AMQP endpoint, the implementations were not loading.</li>
    <li>In the user interface, when adding an API, an  AMQP endpoint was not accepted; an error was generated.</li>
  </ul>
  <p class="source-hide">ATMO-18871 for 8.2.6 / ATMO-18861 for 8.3 / 2 ALSO ATMO-18882  for 8.2.6 / ATMO-18880 for 8.3</p>
  <h5>Support for  PingFederate 8.1.x</h5>
  <p>The platform now supports PingFederate 8.1.x. <br>
  </p>
  <p class="source-hide">ATMO-19008</p>
  <h5>Elasticsearch  now supports secure connections</h5>
  <p>In previous versions, all Elasticsearch communication were via  non-secure communication. Elasticsearch can now be configured to support secure  communications.<br>
    Elasticsearch now supports the following additional properties to  support secure connections:</p>
  <table border="1" cellpadding="0" cellspacing="0" class="table-akana">
    <tbody>
      <tr>
        <td width="319" valign="top"><p><strong>Property</strong></p></td>
        <td width="319" valign="top"><p><strong>Value</strong></p></td>
      </tr>
      <tr>
        <td width="319" valign="top"><p>shield.ssl.keystore.path</p></td>
        <td width="319" valign="top"><p>/home/es/config/shield/node01.jks</p></td>
      </tr>
      <tr>
        <td width="319" valign="top"><p>shield.ssl.keystore.password</p></td>
        <td width="319" valign="top"><p>myPass</p></td>
      </tr>
      <tr>
        <td width="319" valign="top"><p>shield.ssl.keystore.key_password</p></td>
        <td width="319" valign="top"><p>myKeyPass</p></td>
      </tr>
      <tr>
        <td width="319" valign="top"><p>shield.transport.ssl</p></td>
        <td width="319" valign="top"><p>true</p></td>
      </tr>
      <tr>
        <td width="319" valign="top"><p>shield.http.ssl</p></td>
        <td width="319" valign="top"><p>true</p></td>
      </tr>
    </tbody>
  </table>
  <p class="supID"> SUP-14460</p>
  <p class="supID">&nbsp;</p>
  <h4><a name="84-api-interface-changes">API Interface Changes: 8.4</a></h4>
  <h5>New API for  configuration of Elasticsearch</h5>
  <p>Elasticsearch configuration is required as part of the process of  setting up the Community Manager container. To facilitate automation, a new API  service was introduced for configuration of Elasticsearch, so that this process  can be completed outside the user interface.<br>
    The new operation is: </p>
  <pre class="code">PUT /api/index/{ContainerKey}/nodeconfig

Content-Type: application/json

Accept application/json </pre>
  <p><strong>Sample URL:</strong></p>
  <pre class="code">/api/index/c1aeff4f-71de-40b1-ad23-629c1f46/nodeconfig </pre>
  <p><strong>Sample request payload:</strong><br>
    <strong>Note</strong>: Provide only the  information that needs an update. Do not send unchanged fields. </p>
  <pre class="code">{

   &quot;Name&quot;: &quot;default_1473984894141_node_107&quot;,

   &quot;IndexLocation&quot;: &quot;/usr/tmp/elastic&quot;,

   &quot;BindToAll&quot;:true,

   &quot;NetworkBindAddress&quot;:  &quot;0.0.0.0&quot;, - not needed if BindToAll is true

   &quot;NetworkPublishAddress&quot;: &quot;192.168.1.118&quot;,

   &quot;TransportPort&quot;: 9300,

   &quot;HttpPort&quot;: 9200,

   &quot;HttpEnabled&quot;: true,

   &quot;MasterEligible&quot;: true,

   &quot;DataNode&quot;: true

 }</pre>
  <p><strong>Sample Response:</strong>
  <pre class="code">{

    &quot;ContainerKey&quot;: &quot;c1aeff4f-71de-40b1-ad23-629c1f46&quot;,

    &quot;Name&quot;: &quot;default_1473984894141_node_107&quot;,

    &quot;IndexLocation&quot;: &quot;/usr/tmp/elastic&quot;,

    &quot;NetworkBindAddress&quot;: &quot;0.0.0.0&quot;,

    &quot;NetworkPublishAddress&quot;: &quot;192.168.1.118&quot;,

    &quot;TransportPort&quot;: 9300,

    &quot;HttpPort&quot;: 9200,

    &quot;HttpEnabled&quot;: true,

    &quot;MasterEligible&quot;: true,

    &quot;DataNode&quot;: true

 }

  </pre>
  <p class="supID">SUP-11937</p>
  <h5>Ability to  manage apps or APIs for a business organization from an API client </h5>
  <p>As an extension of the new support of business organizations,  the platform API was enhanced to support managing apps or APIs for a specific  business organization. Support includes the following operations that can be  performed from an API client:</p>
  <ul>
    <li>Ability to add, edit, or delete an API for an  organization or list APIs for an organization.</li>
    <li>Ability to add, edit, or delete an app for an  organization or list apps for an organization.</li>
  </ul>
  <p class="source-hide">ATMO-18071 / ATMO-18072</p>
  <h5>Ability to  manage business organizations from an API client </h5>
  <p>As an extension of the new support of business organizations,  the platform API was enhanced to support managing business organizations.  Support includes the following operations that can be performed from an API  client:</p>
  <ul>
    <li>Add an organization as the child of an existing  organization</li>
    <li>Update an organization</li>
    <li>Delete an organization</li>
    <li>View information about an organization</li>
    <li>List child organizations for a specified  organization</li>
  </ul>
  <h4 id="84-bugfixes">Bug Fixes: 8.4</h4>
  <h5>Deployment  Zones: Issues with multiple listeners of the same protocol</h5>
  <p>The following issues were resolved to manage scenarios where  multiple listeners might be available for the same protocol:</p>
  <ul>
    <li><strong>Multiple  listeners of same protocol not distinguishable on deployment zones</strong>
      <p>If multiple listeners were added using the same protocol—for  example, two HTTPS listeners—there was no way to differentiate between them  when selecting a listener on the Deployment Zones page.<br>
        The user interface has now been modified so that multiple  listeners of the same protocol can be uniquely identified.</p>
    </li>
  </ul>
  <ul>
    <li><strong>With multiple listeners of same protocol, only one listener gets selected</strong>
      <p>In a scenario where there was more than one listener of the same  protocol, for example two HTTPS listeners, only one listener was available for  selection from within the API implementation definition.<br>
        If the deployment zone has two listeners, the API implementation  is created with one listener. The user interface allows adding another  listener, but when the user chose all protocols, the second listener was still  not available. This has been fixed.</p>
    </li>
  </ul>
  <p class="supID">SUP-12975 / SUP-12976</p>
  <h5>System  health tool bundle not installing correctly</h5>
  <p>There was a problem with the system health tool if it was  installed with Community Manager. After installation, the health tool tab was  not created, and the container did not work correctly.<br>
    <span class="supID-from-word">SUP-13338</span></p>
  <h5>SOAP API: after  updating schema for existing operation, &ldquo;process not found&rdquo;</h5>
  <p>After updating the schema for an existing operation in a SOAP  service, when there were processes associated with the service, the platform  was logging an error:</p>
  <pre class="code">No process found for {operation_name} operation of service  {service_name} </pre>
  <p class="supID">SUP-13660 / SUP-13433</p>
  <h5>Message  variables not passed from parent process to sub-process</h5>
  <p>There was a problem with message variables not being available to  sub-processes. In addition, when the message variable was not initialized in  the main flow, no audit logs were recorded.<br>
    <span class="supID-from-word">SUP-13798</span></p>
  <h5>New child organization visible in Policy Manager but  developer portal shows no child organizations</h5>
  <p>When a child organization was created in the developer portal,  the new organization was visible in Policy Manager but not visible in the  developer portal.<br>
    <span class="supID-from-word">SUP-13813</span></p>
  <h5>Adding an  Auditing Message Policy, with masking, to an API with Auditing Service Policy suppresses  the Detailed Auditing output in Monitoring &gt; Logs</h5>
  <p>In a scenario where a proxy API was created and an auditing  service policy, such as the Detailed Auditing policy, was assigned to the API,  and then an Auditing Message policy was added with a mask to protect specific content,  the Detailed Auditing policy output was suppressed in the develop portal, in <strong>Analytics</strong> &gt; <strong>Logs</strong>.<br>
    This has now been fixed so that in this scenario an API with both  these policies, and with specific information masked, shows the entire  transaction response, with the masked portions obscured or removed.<br>
    <span class="supID-from-word">SUP-13398</span></p>
  <h5>Default  Theme: &ldquo;Unauthorized&rdquo; alert when adding a group</h5>
  <p>If a Business Admin was trying to add a group, and tried to  browse the members or admins sections, the following alert was displayed:</p>
  <pre class="code">You are not authorized to view this page. </pre>
  <p class="supID">SUP-13819, SUP-13942</p>
  <h5>When  importing API information, original access point is lost</h5>
  <p>After creating the physical service and virtualizing it on a  container with a single inbound listener, and then adding a second access point  to the virtual service, when the service was exported and then imported into a  new environment, only the second access point was created in the new  environment. The first access point was lost.<br>
    <span class="supID-from-word">SUP-13944</span></p>
  <h5>Swagger: Response  schemas for status codes other than 200 are omitted</h5>
  <p>No content was shown for responses for status codes other than  200 when schemas were specified, when using Swagger documents for creating an  API.<br>
    <span class="supID-from-word">SUP-13919</span></p>
  <h5>Policy  Manager: When exporting organization rollups, column name is misspelled in  export data</h5>
  <p>In Policy Manager, when deleting old rollup data, errors were  generated because a column name in the rollup data file was cut off (MINMSGSIZ,  should be MINMSGSIZE).<br>
    <span class="supID-from-word">SUP-14059</span></p>
  <h5>Policy  Manager: Errors generated when changing service organization</h5>
  <p>In Policy Manager, running the <strong>Change Organization</strong> wizard to move physical services to a different  service organization resulted in an error.<br>
    <span class="supID-from-word">SUP-13746</span></p>
  <h5>With Ping  feature, Network Director might fail to deploy virtual services</h5>
  <p>In a scenario where the Ping feature was installed, in some cases  the Network Director failed to deploy virtual services due to a race condition  bug.<br>
    <span class="supID-from-word">SUP-14033</span></p>
  <h5>SOAP-based  API: design update error</h5>
  <p>When a specific API, created from a WSDL file, was published  from Lifecycle Manager to the developer portal, and then the API design was modified  in the developer portal by uploading the same WSDL file again, exception errors  were generated to the Policy Manager log.<br>
    <span class="supID-from-word">SUP-14098</span></p>
  <h5>Hermosa  theme: inactive session expiration not working correctly</h5>
  <p>The setting that controls inactive login session timeout (<strong>Administration</strong> &gt; <strong>Settings</strong> &gt; <strong>Login</strong>) was not working for Hermosa theme. This setting now works  for all themes.<br>
    <span class="supID-from-word">SUP-13937</span></p>
  <h5>API created  from Swagger document: response schema not recognized on import</h5>
  <p>When an API was created by importing a Swagger API description  document, certain response schemas were not recognized. For example, when  trying to update a specific operation to specify the response schema, the  schema name was not displayed for selection even after it had been added. <br>
    <span class="supID-from-word">SUP-13844, SUP-13901</span></p>
  <h5>SLA  policies attached to an API do not generate developer portal notifications</h5>
  <p>When a service level alert (SLA) policy was attached to an API  and an alert was triggered as a result of a policy violation, Dashboard alerts  were not being generated in the developer portal. If the policy was attached at  the contract level and a violation occurred, a Dashboard alert was generated.<br>
    This has been fixed so that Alerts/Notifications for SLA  policies associated with API implementations/services are generated in the same  way that they are generated for contracts.<br>
    <span class="supID-from-word">SUP-13377, SUP-13485</span></p>
  <h5>When  creating API from Swagger description, special characters in parameter name are  converted to underscore</h5>
  <p>When an API was created by importing a Swagger API description  document, the parameter name was not correctly rendered if the name included  special characters.<br>
    For example, [VAL] in a query parameter name in the imported API  description document was represented as _VAL_ in the resulting API. This was  also the case in the service WSDL for the virtual service in Policy Manager.<br>
    <span class="supID-from-word">SUP-14062</span></p>
  <h5>Exporting  logs only exports a single row</h5>
  <p>Clicking <strong>Analytics</strong> &gt; <strong>Logs</strong> &gt; <strong>Export</strong> was resulting in export of the first row of the results, not  the entire log.<br>
    <span class="supID-from-word">SUP-13488, SUP-14083, SUP-14121</span></p>
  <h5>After 8.3  upgrade, cannot delete a business if it has an associated API that was deleted  prior to the upgrade</h5>
  <p>After upgrade to 8.3, there was a problem deleting a business  if there were any associated APIs that had been deleted prior to the upgrade.  If an organization included an API that was then deleted, a database reference  was left intact. This prevented the organization itself from being deleted.<br>
    <span class="supID-from-word">SUP-13990</span></p>
  <h5>SQL  injection attack possible from API operation to export transaction logs</h5>
  <p>A security vulnerability was identified with the operation to  export transaction logs: GET&nbsp;/api/apps/versions/{version  id}/txlogs/export.  A  specific parameter was found to be vulnerable, and was fixed. <br>
    <span class="supID-from-word">SUP-14224</span></p>
  <h5>Search not  updating visibility correctly</h5>
  <p>In a scenario where an API was imported with a specific  visibility, the visibility was changed, and the API was then deleted and  re-imported, the Search feature was using the revised visibility setting for  the initial import, rather than the setting for the re-imported API.<br>
    This was caused by a delay in queuing the API for reindexing. The <strong>Edit API Details</strong> feature has now  been modified to immediately queue modified objects for indexing.<br>
    <strong>Note</strong>: There might  still be a short delay before a queued object is picked up for search indexing.<br>
    <span class="supID-from-word">SUP-14002</span></p>
  <h5>Regression  in HTTP Security Policy</h5>
  <p>A regression in the HTTP Security Policy meant that it was not  possible to authenticate a subject using another policy and then use the HTTP  Security Policy to insert the associated SSO session cookie into the response  returned to the client. In previous versions, this had been supported. This regression  has been fixed so that this functionality is again available.<br>
    <span class="supID-from-word">SUP-13799 </span></p>
  <h5>API  platform does not accept and validate &ldquo;--&rdquo; as part of the URL for an API  endpoint</h5>
  <p>In a scenario where a user was creating an API from scratch, the  platform would not accept a URL that included two consecutive dashes. Instead,  an error was returned.<br>
    <span class="supID-from-word">SUP-13686</span></p>
  <h5>SOAP API: Creating  a SOAP-based API via imported WSDL in the developer portal adds policies on  Design service rather than Target service</h5>
  <p>When a SOAP API was created in the developer portal by importing  a WSDL file, the policies were created as design artifacts of the API rather  than as part of the target physical service (the physical service that the  implementation uses).<br>
    <span class="supID-from-word">SUP-14233</span></p>
  <h5>SOAP API: Creating  a SOAP-based API via imported WSDL changes the workflow state of policies  attached to the API</h5>
  <p>After creating an API by importing a WSDL, either in Policy  Manager or in the developer portal, although the policies attached to the API  were in Active state, after import the associated policies were in Draft state.<br>
    <span class="supID-from-word">SUP-14234</span></p>
  <h5>Test  Client: 404 error when accessing external OAuth token endpoint</h5>
  <p>Test Client was returning a 404 error when an API call was  requesting a token from an external OAuth provider, although the token URL  worked when using a standalone client.<br>
    <span class="supID-from-word">SUP-13927</span></p>
  <h5>API  Platform Documentation: clarification re &ldquo;mail to&rdquo; address</h5>
  <p>The documentation was clarified with regard to the places in the  user interface where the &ldquo;mail to&rdquo; address can be set up, and the interrelation  between the different places.<br>
    <span class="supID-from-word">SUP-14221</span></p>
  <h5>Internet  Explorer 11: Inline Test Client in authored documentation not working correctly</h5>
  <p>Including inline Test Client in authored documentation worked  well when viewed on Chrome or Firefox, but did not work correctly with Internet  Explorer 11. Instead, there was a progress indicator for a long time and Test  Client never appeared.<br>
    <span class="supID-from-word">SUP-14193</span></p>
  <h5>Outbound  emails getting stuck in the message queue</h5>
  <p>Outbound emails were getting stuck in the message queue (MSG_QUEUE),  with the following error generated to the log files: &ldquo;Error in decoding the  message.&rdquo;<br>
    <span class="supID-from-word">SUP-13911</span></p>
  <h5>Wrong value  used in developer portal logs if next hop time is 0</h5>
  <p>In a scenario where an API request was rejected, so that next hop  time was actually 0 since the request was not relayed, the logs in the  developer portal (<strong>API</strong> &gt; <strong>Analytics</strong> &gt; <strong>Logs</strong>) showed the transaction time for the back-end portion of the  message relay with the same value as the transaction time for the completed  request.<br>
    <span class="supID-from-word">SUP-14209</span></p>
  <h5>In  Operational Script policy, not able to save certain foreign-language characters</h5>
  <p>Certain foreign-language characters were not being saved  correctly, when added as a literal string in the Operational Script policy.<br>
    <span class="supID-from-word">SUP-14184</span></p>
  <h5>Email  alerts not showing the correct value for Alert Origination Date</h5>
  <p>After upgrade, email alerts that include the Alert Origination Date  were generated with an incorrect value for this field.<br>
    <span class="supID-from-word">SUP-14031 </span></p>
  <h5>Error in  conversion from string to FDN</h5>
  <p>There was a bug in the conversion of a string to an FDN (fully  distinguished name; for example, {uniqueid}.{FedMemberID}. In scenarios where  there were multiple dots in the string, the first dot was identified as the  separator, resulting in an invalid FedMemberID if there were multiple dots in  the string. For example, a string of abc.def.fedmember was converted so that  the FedMemberID would be def.fedmember.<br>
    This has been modified so that the string after the last dot is  used as the FedMemberID.<br>
    <span class="supID-from-word">SUP-14553</span></p>
  <h5>After  cloning an API that included a process, no process found in the cloned API</h5>
  <p>When an API included a process and the API was cloned, after  cloning, the API was generating the following error, even though in the user  interface the process appeared to be there:</p>
  <pre class="code">No process found for [postorder] operation of service </pre>
  <p class="supID">SUP-14390</p>
  <h5>When  registered users have permission to add an API, registered user who is not an  API Admin can approve his or her own API access request</h5>
  <p>In a scenario where the platform defaults had been modified to  allow registered users to add an API, a registered user who requested access to  an API was able to authorize the API access request even though the user was  not an API Admin for the API. This has now been fixed. Only a Business Admin or  an API Admin for the applicable API can approve an API access request.<br>
    <strong>Note</strong>: By default,  registered users do not have permission to add an API. This issue occurred only  when the default user permissions were modified.<br>
    <span class="supID-from-word">SUP-14315</span></p>
  <h5>std.out  file growing unmanageably large when API traffic is heavy</h5>
  <p>In some cases, when API traffic was heavy, the <strong>std.out</strong> log files in the Network Director  instance/log directory were growing very large, eventually exhausting disk  storage. This occurred after upgrade from 8.0 to 8.2.<br>
    <span class="supID-from-word">SUP-14387</span></p>
  <h5>Upgrade  task &ldquo;Upgrade CM Models&rdquo; fails when migrating old APIs if WSDL operation names include  special characters</h5>
  <p>Some APIs created in earlier versions of the platform had special  characters in them. The upgrade task Upgrade CM Models was failing with these  APIs.<br>
    <span class="supID-from-word">SUP-13749</span></p>
  <h5>When export  of organization information includes App data, export fails</h5>
  <p>When users tried to export business information from the  developer portal, if app data was included in the selections, the export  failed, and the following error message was generated:</p>
  <pre class="code">Error occurs while exporting objects of type [Business].</pre>
  <p class="supID">SUP-14650, SUP-13892 </p>
  <h5>Search API returning  incorrect character in search results</h5>
  <p>Search was returning search results that included an incorrect  character in the URL, a question mark (?) rather than a slash (/), so the URLs  did not work correctly unless modified.</p>
  <p class="supID">SUP-14292</p>
  <h5>API  Platform upgrade to 8.2.10: Update of a REST service fails</h5>
  <p>Update of REST service was failing due to unnecessary WSDL  validation steps.<br>
  </p>
  <p class="supID">SUP-14701</p>
  <h5>Policy  Manager upgrade 7.2.1 to 8.2: ALTER TABLE actions failed for three fields</h5>
  <p>When upgrading from Policy Manager 7.2.1 to 8.2, the following  errors were generated in the logs:</p>
  <pre class="code">2017-01-13 16:52:23,321 ERROR [Thread-25]  AbstractDatabaseAdmin - Failed to execute: ALTER TABLE 

PM_USERS MODIFY  FIRSTNAME varchar2(128) NULL

2017-01-13 16:52:23,357 ERROR [Thread-25]  AbstractDatabaseAdmin - Failed to execute: ALTER TABLE 

PM_USERS MODIFY LASTNAME  varchar2(128) NULL

2017-01-13 16:52:23,390 ERROR [Thread-25]  AbstractDatabaseAdmin - Failed to execute: ALTER TABLE 

PM_USERS MODIFY FULLNAME  varchar2(256) NULL  </pre>
  <p class="supID">SUP-14477</p>
  <h5>API Swagger  generation includes elements that fail validation</h5>
  <p>The Swagger document created by the API Designer included certain  elements that caused it to fail validation when validated at the Swagger online  validation tool, <a href="http://editor.swagger.io">http://editor.swagger.io</a>.<br>
    For example, it was changing <strong>type:integer</strong> to <strong>int</strong>.<br>
  </p>
  <p class="supID">SUP-14755</p>
  <h5>Policy  Manager: When trying to update physical service, p&ldquo;CSRF Attack Detected&rdquo; message</h5>
  <p>In a scenario where a SOAP API needed to be updated, in Policy  Manager, choosing the Update Service action and uploading a ZIP archive with  updated WSDL and associated XSD files caused the following error:</p>
  <pre class="code">CSRF Attack Detected. </pre>
  <p class="supID">SUP-13976</p>
  <h5>User is  added in Policy Manager as an API Owner, but Add API is not available in the  developer portal</h5>
  <p>When a user was added to the list of API owners in Policy  Manager, the user was not able to add a new API in the developer portal. The  Add API option was not available.<br>
  </p>
  <p class="supID">SUP-14494</p>
  <h5>Default  Theme: Fixed alignment issue in Add OAuth Provider Wizard</h5>
  <p>The Add OAuth Provider Wizard, Tab 2, Grant Types, includes a  field, <strong>Client Restriction Settings</strong>,  with two buttons. There was an alignment error in the buttons; this has been  fixed so that alignment is consistent across all fields.</p>
  <p class="supID">SUP-14457</p>
  <h5>Security  question that the user has already answered is still on the selection list</h5>
  <p>In a scenario where users were providing the answers to security  questions, if a user chose a question and answered it, then went on to the next  question, the first question still appeared on the list. Now, any question that  the user has already answered is removed from the selection list for subsequent  questions.<br>
    <span class="supID-from-word">SUP-5176</span></p>
  <h5>Search for  an API with a leading hyphen returns all APIs</h5>
  <p>In the platform&rsquo;s search tool, a search for an API with a  leading hyphen in the API name returned all APIs, because the hyphen is a  reserved character in the search engine. The reserved characters are:<br>
    <strong>+ - = &amp;&amp; || &gt;  &lt; ! ( ) { } [ ] ^ &quot; ~ * ? : \ /</strong><br>
    Users searching for text that includes special characters must  escape the characters. For example, to search for (123)app, you&rsquo;d have to  search for the following: <strong>\(123\)app</strong>.<br>
    When naming platform resources such as apps and APIs, it&rsquo;s best  to steer clear of special characters. When searching for resources, escaping  the special characters ensures the expected results.<br>
    <span class="supID-from-word">SUP-1185 </span></p>
  <h5>Search by  email ID is case sensitive</h5>
  <p>In version 8.0, the search on the Users List was case-sensitive.  This meant that if the search did not have the exact case that had been set up  for the email, a match was not found. This has been fixed so that email search  is performed regardless of case.<br>
    <span class="supID-from-word">SUP-11006 / SUP-9865, SUP-6061, SUP-2668 </span></p>
  <h5>Deleting or  Modifying OAuth domain with a slash (/) in the name causes errors</h5>
  <p>If an OAuth domain name included a forward slash, there was a  problem modifying or deleting the domain. This has been fixed.<br>
    <span class="supID-from-word">SUP-9885</span></p>
  <h5>Test  Client: Certificate based authentication fails</h5>
  <p>Certificate-based authentication was failing in version 8.0 of  the developer portal, when using Test Client. If an API was secured, invoking  the API over the HTTPS endpoint in Test Client was returning an Authorization  error.<br>
    <span class="supID-from-word">SUP-9880</span></p>
  <h5>Customization:  Documentation widget was requiring minimum height of 550px</h5>
  <p>When customizing a platform page, there was a constraint that the  content could not be less than 550 pixels in height. This has been fixed so  that the height of frames is the height as specified by the user plus an extra  padding of 50px for each frame.<br>
    <span class="supID-from-word">SUP-11013</span></p>
  <h5>PingFederate  Domain: incorrect lookup for Client Registration URL returns exception when not  found</h5>
  <p>In a scenario where the domain type was the legacy PingFederate  domain and the Client Registration endpoint was not enabled, the platform was  looking for the Client Registration URL, which it should not in this scenario,  and was returning an exception because it was not found. It should only look up  the Client Registration URL if the domain type is External OAuth Provider and  the Provider type is PingFederate. This has been fixed so that if the Client  Registration URL is not defined in the well-known configuration file, the  platform treats it as though client registration is disabled.<br>
    <span class="supID-from-word">SUP-11036</span></p>
  <h5>&ldquo;Plus menu&rdquo;  is now hidden when there are no entries</h5>
  <p>Items on the Plus Menu, in the top menu bar in all themes, are  controlled by platform settings. This includes options such as adding a new  API, app, or group. If all items were turned off, the Plus icon was still  visible with no available choices. Now, the Plus icon is hidden if there are no  available items due to platform settings.<br>
    <span class="supID-from-word">SUP-10589</span></p>
  <h5 id="SUP-11075">Add API: Adding the context path with an extra space or  special character fails</h5>
  <p>When an API was added with a context path that included an extra  space or special character, the API was failing, with a General System Error.<br>
    The platform has been modified so that the API context path is  appropriately validated. Invalid values in the context path are not allowed,  and if the user attempts to use invalid values, an appropriate message is  returned. Validation rules for the context path:</p>
  <ul>
    <li>It cannot include spaces.</li>
    <li>Forward slash (/) and hyphen (-) are allowed.</li>
  </ul>
  <div class="note"><strong>Note</strong>: this article has  been corrected in version 8.4.7.  The following two items, which are erroneous, have been removed from the list  of validation rules:
    </p>
    <ul>
      <li>It cannot include special characters.</li>
      <li>Question mark (?) is not allowed.</li>
    </ul>
  </div>
  <p class="supID">SUP-11075</p>
  <h5>Issues with  links in content files (both absolute and relative paths)</h5>
  <p>In scenarios where platform content files had links in the  content, for both relative and absolute paths, links were not being correctly  interpreted by the developer portal, resulting in errors. For example:</p>
  <ol>
    <li>&lt;a href=&quot;..relative-path&quot;&gt;  became #/home/landing?/current-content-path..relative-path</li>
    <li>&lt;a href=&quot;absolute-path&quot;&gt; became  #/home/landing?absolute-path</li>
  </ol>
  <p>#1 above resulted in long and inaccurate URLs; #2 resulted in a  204 response as the requested page did not exist.<br>
    Now, both relative and absolute  links display correctly in the address bar and the content is correctly  accessed.<br>
    <span class="supID-from-word">SUP-10636</span></p>
  <h5>Google  Analytics support not recording page view for page accessed from server</h5>
  <p>When Google Analytics was set up for the developer portal, the  page view was being recorded on a change of window location, but not for the  initial page accessed from the server. Only a change of developer portal page  was recorded.<br>
    <span class="supID-from-word">SUP-5481</span></p>
  <h5>Disabled  user account still receives email notifications</h5>
  <p>When the account of a developer portal user was disabled, email  notifications were still being sent to the user for certain events such as an  invitation to be a Site Admin, Business Admin, or API Admin.<br>
    The platform has now been modified so that these types of  notifications are not sent to a user if the user&rsquo;s account is disabled.<br>
    <span class="supID-from-word">SUP-12190</span></p>
  <h5>OAuth:  Unexpected errors in the OAuth Provider log file</h5>
  <p>In a specific scenario, errors such as the below were being  generated in the log file from a scheduled job:</p>
  <pre class="code">Attempting to invoke method refresh on  com.soa.oauth.client.provider.CachedOAuthClientProvider</pre>
  <p>This was due to a problem with the OAuth application cache having  a null value for the provider domain. <br>
    <span class="supID-from-word">SUP-12255</span></p>
  <h5>If WSDL  includes one operation with two bindings, only one operation is displayed</h5>
  <p>In a scenario where an API had multiple operations and bindings,  if the same operation existed for two bindings (for example, SOAP 1.1 and SOAP  1.2), only one operation was displayed for both bindings. Both operations are  now correctly displayed, along with the applicable SOAP version.<br>
    <span class="supID-from-word">SUP-12263, SUP-12320</span></p>
  <h5>API  Designer: Query parameter shouldn't be allowed in the operation path</h5>
  <p>In version 8.2, the API Designer allowed query parameters to be  added to the path. If a query parameter was added, the system incorrectly  created it as a path parameter.<br>
    This has now been modified so that query parameters cannot be  added onto the path. The user interface doesn&rsquo;t allow the addition of the  question mark (?) on the path of an operation.<br>
    <span class="supID-from-word">SUP-12207</span></p>
  <h5>Test Client:  improved treatment of response content for display in Pretty tab</h5>
  <p>There were issues with Test Client&rsquo;s treatment of certain  content-types, and large responses, with regard to display in the Pretty tab.<br>
    Displaying certain types of content, such as images, requires a  second API call. The additional factor of security further complicated the  processing needed to correctly render these types of responses.<br>
    The following fixes have been made to improve performance and  behavior:</p>
  <ol>
    <li>Test Client does not populate content for the  Pretty tab unless the user clicks the tab. This results in a performance  improvement, particularly if the response content is large.</li>
    <li>If the response is a format other than <strong>text</strong>, <strong>xml</strong>, <strong>json</strong>, or <strong>form-url-encoded</strong>, and when security  policies are attached to the API, two things occur when the user clicks the  Pretty tab:</li>
    <ul>
      <li>If  the request <strong>can</strong> be completed by  sending the required authorization info as query parameters, the user interface  makes a second API call to display the content in the Pretty tab.</li>
      <li>If  the request <strong>cannot</strong> be completed by  sending the required authorization info as query parameters, the user interface  displays a message that the content cannot be displayed, and does not make the  second API call.</li>
    </ul>
  </ol>
  <p class="supID">SUP-12319</p>
  <h5>In imported  Swagger doc, sequence of request parameters not rendered correctly</h5>
  <p>When a Swagger document was imported to the developer portal, the  request parameters were not displayed in the same sequence as they were listed  in the Swagger document, but the sequence was not alphabetical.<br>
    Inconsistencies have been fixed. Now, the parameters always  default to display in an alphabetical sequence, regardless of the sequence in  the Swagger file.<br>
  <p class="note"><strong>Note</strong>: When new  parameters are added, they are displayed at the bottom of the list until they are saved. When the page is refreshed, everything is sorted alphabetically.</span></p>
  <p class="supID">SUP-12771 / SUP-13049</p>
  </p>
  <h5>Federation:  Issue with tenant causes CM process to run out of memory when indexing multiple  federated tenants</h5>
  <p>When multiple tenants were federated in the same instance, one of  the indexing jobs had the possibility of running infinitely, causing an out of  memory error.<br>
    <span class="supID-from-word">SUP-12823</span></p>
  <h5>Hybrid  environment: errors and inconsistent behavior for Edit Deployment Zones</h5>
  <p>In a hybrid environment (on-prem Network Director, Cloud-based  EAP developer portal), Edit Deployment Zone was returning errors, with  inconsistent behavior.<br>
    <span class="supID-from-word">SUP-12773 / SUP-12966 / SUP-12938</span></p>
  <h5>Federation:  Authorization issues</h5>
  <p>In a specific scenario, there was a problem with authorization  with federation. The developer portal was returning HTTP 500.<br>
    <span class="supID-from-word">SUP-12908</span></p>
  <h5>Hermosa  Theme: for user profile, items on side menu do not expand correctly</h5>
  <p>Using an API Platform tenant, when a logged-in user views the  user&rsquo;s own profile, the left menu that contains additional user choices was not  displaying correctly for some items. Instead, the left menu and the resulting  page overlapped.<br>
    <span class="supID-from-word">SUP-12898</span></p>
  <h5>For JMS  listeners in an ND Cluster, null value listeners are created in Community  Manager</h5>
  <p>If a Network Director cluster had JMS listeners, a new listener  tab with a null value was displayed in Community Manager. If the cluster had  HTTP/HTTPS listener types, everything was displayed as expected.<br>
    <span class="supID-from-word">SUP-12773 / SUP-12938</span></p>
  <h5>Deployment  Zone for API Implementation: hostname value display is incorrect</h5>
  <p>When a new deployment zone was added, with the <strong>Allow APIs to specify vanity URLs (CNAMEs)</strong> cleared in the Deployment Zone configuration page, there was a display error.  In the Deployment Zones display page, the hostname was displayed in the <strong>Provide Vanity Hostname</strong> field, and the <strong>Hostname</strong> field did not show a value.<br>
    <span class="supID-from-word">SUP-12970</span></p>
  <h5>Fix the  profile name for users in a tenant</h5>
  <p>In the past, the profile name for a user who signed up on the  platform was a concatenation of the user&rsquo;s first name and last name; for  example, if John Smith signed up, the username would be JohnSmith. Now, the profile name can be specified separately. Users can  modify this value on the <strong>Profile</strong> &gt; <strong>Details</strong> page.<br>
    <span class="supID-from-word">SUP-12981</span></p>
  <p class="source-hide">ATMO-18414</p>
  <h5>OAuth: Error  while validating token null</h5>
  <p>In a specific scenario, there was a problem with calling APIs  using OAuth. Even though the request included a valid OAuth token, the response  generated the following error:</p>
  <pre class="code">Error occurred while validating token null </pre>
  <p>In some cases, the same token worked when used again.<br>
    <span class="supID-from-word">SUP-10245</span></p>
  <h5>Simple Dev  Theme: When referencing documentation, Markdown doesn't work</h5>
  <p>In Simple Developer theme, in a specific scenario, when Markdown  was used in the API description, the Markdown didn&rsquo;t take effect for the  display. Instead, the Markdown characters were displayed; for example, *Note*  would display as-is, with asterisks, rather than <strong>Note</strong> as it would if the Markdown took effect.<br>
    <span class="supID-from-word">SUP-12744</span></p>
  <h5>AutoConnect  to an API not working if non-admin user created the app</h5>
  <p>In version 8.2, if a user who was not a Business Admin or a  Site Admin created an app, auto-connect contracts were not automatically  created when that app connected to APIs with auto-connect enabled.<br>
    <span class="supID-from-word">SUP-12813</span></p>
  <h5>Test  Client: integrated Test Client not working for generated API doc if OAuth  scopes are at the operation level rather than API-wide scopes</h5>
  <p>For an API that used OAuth scopes assigned at the operation  level, the integrated Test Client in authored API documentation was failing to  get the authorization token. For API-wide scopes, this issue did not occur.<br>
    <span class="supID-from-word">SUP-10836 </span></p>
  <h5>Test Client  hangs when response data type is &ldquo;double&rdquo;</h5>
  <p>In a scenario where the response to an API was a specific data  type, <strong>double</strong>, Test Client was  hanging and not completing the action to display the response. Page refresh was  required before invoking again.<br>
    <span class="supID-from-word">SUP-13512</span></p>
  <h5>Test  Client: Custom header added in Parameters section of API Designer does not  display correctly</h5>
  <p>If a custom header was entered in the Parameters section of the  API Designer, as a header parameter, it was not treated as a header in Test  Client. Instead, it was shown in the parameters section and could not be seen  in the request headers.<br>
    <span class="supID-from-word">SUP-13556, SUP-13509</span></p>
  <h5>API legal  agreement in PDF format appears very small in API Access wizard</h5>
  <p>When a PDF legal agreement was uploaded and published for an API  (<strong>API Details</strong> &gt; <strong>Agreements</strong> &gt; <strong>Manage Files</strong>), the display of the PDF, when viewed by a user in the  API Access wizard, was too small to be easily readable.<br>
    <span class="supID-from-word">SUP-13125</span></p>
  <h5>In a  cluster scenario, JMS endpoints not deployed</h5>
  <p>In version 8.2, when a JMS listener was created in a cluster  scenario and a JMS web service was hosted on the cluster, the cluster nodes were  not given any endpoints and therefore messages were not picked up.<br>
    <span class="supID-from-word">SUP-12779</span></p>
  <h5>Errors when  editing a live implementation</h5>
  <p>In version 8.2, under specific circumstances, there were  errors in editing a live implementation of a newly-created API.<br>
    <span class="supID-from-word">SUP-12760</span></p>
  <h5>Upgrade CM models  task returning errors with some APIs</h5>
  <p>When upgrading from 8.0 to 8.2.1, the upgrade task to add the  design service to APIs created in CM 8.0 was failing. This occurred if an  operation name had a slash in the definition (for example, GET /orders). The <strong>Upgrade CM Models</strong> task returned a  message &ldquo;Some of the model objects are not updated&rdquo; and the upgrade failed for  that API.<br>
    <span class="supID-from-word">SUP-13008</span></p>
  <h5>issue with  Upgrade CM Models post-install task </h5>
  <p>The post-install task Upgrade CM Models was returning a Null  Pointer Exception error for certain APIs. The pattern finder was expecting the  next hop, but for an API created with existing service, the service is a  virtual service rather than acting as a proxy so there is no next hop.<br>
    <span class="supID-from-word">SUP-13008</span></p>
  <h5>NPE in  Upgrade CM Models while updating VS configuration for service implementations</h5>
  <p>In some cases, the post-install  task, Upgrade CM Models, was returning a Null Pointer Exception when updating  the virtual service configuration for service implementations in version 8.2.  It was failing to load the virtual service configuration for the service key. <br>
    <span class="supID-from-word">SUP-13008 </span></p>
  <h5>After  cloning an API that included a process, no process found in the cloned API</h5>
  <p>When an API included a process and the API was cloned, after  cloning, the API was generating the following error, even though in the user  interface the process appeared to be there:</p>
  <pre class="code">No process found for [postorder] operation of service </pre>
  <p class="supID">SUP-14390</p>
  <h5>CORS  response headers being removed for pre-flight messages</h5>
  <p>In version 8.2, CORS response  headers were not being returned when the client made an OPTIONS call.<br>
    <span class="supID-from-word">SUP-13094</span></p>
  <h5>Null  Pointer Exception with using SAML assertion with resource owner grant</h5>
  <p>When a client uses the resource owner grant type to retrieve an  access token from the OAuth server, but includes a SAML assertion instead of a  username and password, the server reports a null pointer exception. This is an  illegal combination, so returning an error is appropriate, but the error  handling has been improved.<br>
    <span class="supID-from-word">SUP-13030</span></p>
  <h5>In version  8.2.4, Invite New Users link returns error and fails</h5>
  <p>In 8.2.4, the link on the top navigation bar to invite new users  was failing and returning an error.<br>
    <span class="supID-from-word">SUP-13360, SUP-13413, SUP-13294</span></p>
  <h5>In imported  RAML file, cannot edit parameters for POST operations</h5>
  <p>If an API was created by importing a RAML API description  document, parameters for POST operations could not be edited. <br>
    Parameters for other types of operations could be edited, and new  parameters could be added, but imported parameters for POST operations could  not be edited. Instead, an error was generated.<br>
    <span class="supID-from-word">SUP-13423</span></p>
  <h5>Returning  app transaction logs request times out with large data volumes</h5>
  <p>With large volumes of data, a request for the app transaction  logs was timing out.<br>
    <span class="supID-from-word">SUP-13081</span></p>
  <h5>OAuth  Provider Domain setup: special characters not allowed in OAuth scopes</h5>
  <p>When setting up the OAuth Provider Domain, in the Scopes tab,  special characters were not allowed in the scope names. Only numbers and  letters were allowed.<br>
    This has been modified to allow the special characters supported  by the OAuth specification.<br>
    <span class="supID-from-word">SUP-13435</span></p>
  <h5>CSRF  causing issues when more than one browser tab is open</h5>
  <p>In certain scenarios, an error was generated when more than one  browser tab was open. If the user attempted to perform certain actions such as  modifying an API, the following error was generated:</p>
  <pre class="code">Caused by: javax.security.auth.login.LoginException: Failed to  authenticate the 

user at  com.soa.restapi.auz.aop.CsrfAuthenticationAdviceImpl.validateToken(CsrfAuthenticationAdviceImpl.java:478)</pre>
  <p class="supID">SUP-12260</p>
</div>
<p class="supID">&nbsp;</p>
</div>

</div>

<!--  End Akana Release Notes for version 8.4.37 -->
<!--  Finished on: 2019-05-01 18:07, Pacific Standard Time -->     
		
		
		
		
		
		
		
		
		
		
		
		
<!--  Akana Release Notes for version 2018.0.12 -->
<!--  Created on: 2019-07-11 18:12, Pacific Standard Time -->
<!--  Number of JIRA issues processed: 1 -->
<div id="rel_notes_v2018.0.12" class="rel_note_main">
  <div class="Version 8.4.1"></div>
	<p>&nbsp;</p>
    </div>
  </div>
</div>
<!--Right empty column for space -->
<div class="col-md-2 col-lg-2">
  <div class="row">
    <div class="col-md-12 col-sm-12">
    </div>
  </div>
</div>
</body>
</html>
