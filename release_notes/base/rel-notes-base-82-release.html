<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Akana Release Notes</title>
<link href="akana-styles.css" rel="stylesheet" type="text/css">	
</head>

<body>
<header><h1><img src="img/akana-logo.png" width="271" height="83" alt=""/></h1>
<h1>Akana API Platform Release Notes</h1>
<h2><span class="vervar">Version [[VERSION]]</span></h2>
</header>
<div id="wrapper">	
<div class="TOC">
  <h5>Contents</h5>
  <p class=toc2><a href="#changeslog" class="toc2">Changes Log</a></p>
  <p class=toc2><a href="#requirements" class="toc2">Requirements</a></p>	
  <p class=toc2><a href="#upgrade-instructions">Upgrade Instructions</a></p>
 <!-- insert new version link -->
<p class=toc3><a href="#8.2.35">Version 8.2.35</a></p>
<p class=toc3><a href="#8.2.34">Version 8.2.34</a></p>
<p class=toc3><a href="#8.2.33">Version 8.2.33</a></p>
<p class=toc3><a href="#8232">Version 8.2.32</a></p>
<p class=toc3><a href="#8231">Version 8.2.31</a></p>	
<p class=toc3><a href="#8230">Version 8.2.30</a></p>
<p class=toc3><a href="#8229">Version 8.2.29</a></p>
<p class=toc3><a href="#8228">Version 8.2.28</a></p>
<p class=toc3><a href="#8227">Version 8.2.27</a></p>
<p class=toc3><a href="#8226">Version 8.2.26</a></p>
<p class=toc3><a href="#8225">Version 8.2.25</a></p>
<p class=toc3><a href="#8224">Version 8.2.24</a></p>
<p class=toc3><a href="#8223">Version 8.2.23</a></p>
<p class=toc3><a href="#8222">Version 8.2.22</a></p>
<p class=toc3><a href="#8221">Version 8.2.21</a></p>
<p class=toc3><a href="#8220">Version 8.2.20</a></p>
<p class=toc3><a href="#8219">Version 8.2.19</a></p>
<p class=toc3><a href="#8218">Version 8.2.18</a></p>
<p class=toc3><a href="#8217">Version 8.2.17</a></p>
<p class=toc3><a href="#8216">Version 8.2.16</a></p>
<p class=toc3><a href="#8215">Version 8.2.15</a></p>
<p class=toc3><a href="#8214">Version 8.2.14</a></p>
<p class=toc3><a href="#8213">Version 8.2.13</a></p>
<p class=toc3><a href="#8212">Version 8.2.12</a></p>
<p class=toc3><a href="#8211">Version 8.2.11</a></p>
<p class=toc3><a href="#8210">Version 8.2.10</a></p>
<p class=toc3><a href="#829">Version 8.2.9</a></p>
<p class=toc3><a href="#828">Version 8.2.8</a></p>
<p class=toc3><a href="#827">Version 8.2.7</a></p>
<p class=toc3><a href="#826">Version 8.2.6</a></p>
<p class=toc3><a href="#825">Version 8.2.5</a></p>
<p class=toc3><a href="#824">Version 8.2.4</a></p>	
<p class=toc3><a href="#823">Version 8.2.3</a></p>
<p class=toc3><a href="#822">Version 8.2.2</a></p>
<p class=toc3><a href="#821">Version 8.2.1</a></p>
<p class=toc3><a href="#82">Version 8.2</a></p>
<p class=toc4><a href="#82-keyfeatures">Key Features: 8.2</a></p>
<p class=toc4><a href="#82-enhancements">Minor Enhancements: 8.2</a></p>
<p class=toc4><a href="#82-interface">API Interface Changes: 8.2</a></p>
<p class=toc4><a href="#82-bugfixes">Bug Fixes: 8.2</a></p>
<p class=toc4><a href="#82-knownissues">Known Issues: Integration with
Lifecycle Manager</a></p>
<p class=toc3><a href="#upgrade-detail">Upgrade Instructions: Detail</a></p>

	
</div>
<div class="content">
  <h5 class="datevar">[[DATE]]</h5>
  <p class="note"><strong>Note</strong>: With the 8.2.33 update, the format of the release notes has changed. They are now provided in both HTML and PDF to make them more easily accessible online and from any platform.  </p>
  <h5>Legal</h5>
  <p>Copyright © [[YEAR]] Rogue Wave Software, Inc. All rights  reserved. See also <a href="#trademarks">TradeMarks</a> and <a href="#disclaimer">Disclaimer</a></p>
  <h5 id="changeslog">Changes Log</h5>
  <p>The table below shows changes made to this document since the  initial release.</p>
  <table width="597" height="186" border="1" cellspacing="1" class="table-akana">
    <tbody>
      <tr>
        <th width="139" scope="col">Date/Release Version</th>
        <th width="445" scope="col">Changes</th>
      </tr>
      <tr>
        <td>17 Oct 2017</td>
        <td>Updated to remove an item, SUP-16146, listed as a bug fix    for version 8.2.22. This was not a bug and should not have been included.</td>
      </tr>
      <tr>
        <td>9 Nov 2017</td>
        <td>Modified the wording for an 8.2.24 bug fix, New setting for<a href="uniquecombovirtualhost"> unique combination of virtual host and context path</a>,    to clarify the change.</td>
      </tr>
      <tr>
        <td>7 Feb 2018</td>
        <td>Corrected to include an 8.2.28 bug fix, <a href="#workflowexception">Workflow    exception error when re-registering services using WSDLs with wsp:policy    declarations, </a> which was omitted from the 8.2.29 release notes</td>
      </tr>
      <tr>
        <td>3-May-2018</td>
        <td>Moved the entry &ldquo;Algorithm is not being verified on  the inbound request&rdquo;, SUP-17828, from the 8.2.30 release section to the 8.2.31  release section.</td>
      </tr>
    </tbody>
  </table>
  <h4 id="requirements">Requirements</h4>
  <p class="note"><strong><em>Note</em></strong><em>: This release requires  <strong>Akana Platform version 8.2.10</strong>.</em><br>
  </p>
  <h5>Supported Browsers</h5>
  <ul>
    <li>Default Theme and Hermosa Theme: </li>
    <ul>
      <li>Firefox version 25 and later</li>
      <li>Chrome version 31 and later</li>
      <li>Internet Explorer version 9 and later</li>
    </ul>
    <li>Simple Developer Theme:</li>
    <ul>
      <li>Firefox version 32 and later</li>
      <li>Chrome version 38 and later</li>
      <li>Internet Explorer version 9 and later</li>
    </ul>
  </ul>
  <h5>Supported Databases</h5>
  <ul>
    <li>MySQL 5.6 </li>
    <li>Oracle 11g, 12c </li>
    <li>Microsoft SQL Server 2012 and 2014</li>
  </ul>
  <p>The following database versions will be  certified at a later date:</p>
  <ul>
    <li>DB2 9.7 and 10.5</li>
  </ul>
  <p>The following MongoDB versions are supported:</p>
  <ul>
    <li>3.2 to 3.2.18</li>
  </ul>
  <h4 id="upgrade-instructions">Upgrading</h4>
  <p>To upgrade from version 8.0.5 or earlier, first uninstall a specific bundle, <strong>com.soa.oauth.interfaces</strong>,  before starting the upgrade procedure. For instructions, see <a href="#preupgrade">Pre-Upgrade Task for upgrades from 8.0.5 or earlier</a>. You can also refer to the <a href="http://docs.akana.com/ag/assets/AAP_80_82_Upgrade_Guide.pdf">Akana API  Platform Upgrade Guide (8.0 to 8.2x) on the </a>Akana docs site).</p>
	
<!-- Don't edit the following comment which will be used by the scripts to add the new version once we are incrementing versions for 2018 -->
	  
<!-- insert new version content below this comment -->
	  
	  
<!-- Previous releases go here -->
	
<div class="Version 8.2.35">
<h3 id="8.2.35">Version 8.2.35</h3>	
<h4>Bug fixes: 8.2.35</h4>
<div class="ATMO-25799">
<h5><a name="Forexpiredtokens%2Cstatuscode500returnedinsteadof401"></a>For expired tokens, status code 500 returned instead of 401</h5>

<p>When signing and encrypting a JWT Token that had expired, a generic HTTP 500 (Internal Server Error) status code was returned to the user for an External OAuth Provider domain. If the OAuth Provider domain was used, an HTTP 401 (Unauthorized) status code was returned. This has been fixed so that HTTP 401 is returned for expired tokens for External OAuth Provider domains.</p><p class="supID"><b>Support ticket: </b>SUPPORT-3880</p>
</div>

<div class="ATMO-25661">
<h5><a name="NetworkDirector%3APipelinepolicyerror"></a>Network Director: Pipeline policy error</h5>

<p>Because of a potential race condition under load, the Pipeline policy insert credentials component could fail with an error indicating that the SAML signature node could not be found in the SAML assertion. Under certain circumstances, this condition could result in permanent corruption of the SAML token until the next restart.</p><p class="supID"><b>Support ticket: </b>SUP-17490, SUPPORT-2120</p>
</div>

</div>
	
	
<h3 id="8.2.34">Version 8.2.34</h3>	

<div class="Version 8.2.34">
<h4>Bug fixes: 8.2.34</h4>
<div class="ATMO-25318">
<h5><a name="PolicyManager%3AIncorrecttimezoneanddaterangewhencustomAPIparametersareused"></a>Policy Manager: Incorrect timezone and date range when custom API parameters are used</h5>

<p>When specifying a custom date range, the date range was incorrect and based on the wrong timezone, so requests would return data from the incorrect time period. Now, the timezone is not submitted as part of the request, and the entered date range is converted to UTC time, fixing this issue.</p><p class="supID"><b>Support ticket: </b>SUP-16261</p>
</div>

<div class="ATMO-25141">
<h5><a name="ProcessEditor%3ATransformationActivitycreatingnormalizedmessages"></a>Process Editor: Transformation Activity creating normalized messages</h5>

<p>In the Process Editor, the Transformation Activity was incorrectly creating a normalized message. Because the message was normalized, the SOAP envelope was re-added to the message, with the result that the downstream service could not read the request and the request failed. This was a regression from a fix in 8.2.27; any 8.2 versions prior to 8.2.27 should work as expected.</p>

<p> </p>

<p> </p><p class="supID"><b>Support ticket: </b>SUP-18459</p>
</div>

</div>
	
<div class="Version 8.2.33">
<h3 id="8.2.33">Version 8.2.33</h3>
<h4>Enhancements: 8.2.33</h4>
<div class="ATMO-25041">
<h5><a name="NewheaderconnectionpropertysupportsservicelevelmultivaluedheadersinaWSDL"></a>New header connection property supports service-level multi-valued headers in a WSDL</h5>

<p>HTTP headers can now be configured as multi-valued in the API descriptor WSDL. This forces a parse of the header value before it is passed to the downstream service in order to send each part as an individual value, normalizing the values and removing unnecessary spaces in certain cases.</p>

<p>Because this behavior is not always required or desirable, a new connection property <tt>http.multi.valued.headers</tt> allows multi-valued headers to be configured on a service basis rather than globally for the container, thus avoiding the parse operation when it is not required.</p>

<p>To use this new property, add it to the WSDL within the port element. For example:</p>
<p/>
<div id="syntaxplugin" class="syntaxplugin" style="border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;">
<table cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;">
		<tbody >
				<tr id="syntaxplugin_code_and_gutter">
						<td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;">
					<pre style="font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">&lt;wsdl:service name=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"SimpleGETService"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">&gt;</span></pre>
			</td>
		</tr>
				<tr id="syntaxplugin_code_and_gutter">
						<td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;">
					<pre style="font-size: 1em; margin: 0 10px;   width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"> &lt;wsdl:port name=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"SamplePort"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"> binding=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"tns:SimpleGETHTTPBinding"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">&gt;</span></pre>
			</td>
		</tr>
				<tr id="syntaxplugin_code_and_gutter">
						<td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;">
					<pre style="font-size: 1em; margin: 0 10px;   width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">   &lt;shttp:address location=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"http://SampleWSDL:9920"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">/&gt;</span></pre>
			</td>
		</tr>
				<tr id="syntaxplugin_code_and_gutter">
						<td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;">
					<pre style="font-size: 1em; margin: 0 10px;   width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">   &lt;soa:connectionProperty name=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"http.multi.valued.headers"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"> value=</span><span style="color: blue; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">"x-test-header1, X-Test-Header2"</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">/&gt;</span></pre>
			</td>
		</tr>
				<tr id="syntaxplugin_code_and_gutter">
						<td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;">
					<pre style="font-size: 1em; margin: 0 10px;   width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"> &lt;/wsdl:port&gt;</span></pre>
			</td>
		</tr>
				<tr id="syntaxplugin_code_and_gutter">
						<td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;">
					<pre style="font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">&lt;/wsdl:service&gt;</span></pre>
			</td>
		</tr>
			</tbody>
</table>
</div>
<p/><p class="supID"><b>Support ticket: </b>SUP-18446</p>
</div>

<div class="ATMO-25016">
<h5><a name="SupportformobiletypesofURIschemasinAppOAuthProfilepage"></a>Support for mobile types of URI schemas in App OAuth Profile page</h5>

<p>The App Oauth Profile page on the developer portal now supports mobile-type URI schemas for its Redirect URI authentication setting. For example:</p>
<p/>
<div id="syntaxplugin" class="syntaxplugin" style="border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;">
<table cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;">
		<tbody >
				<tr id="syntaxplugin_code_and_gutter">
						<td  style=" line-height: 1.4em !important; padding: 0em; vertical-align: top;">
					<pre style="font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;"><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">com.googleusercontent.apps.</span><span style="color: #009900; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">902730282010</span><span style="color: black; font-family: 'Consolas', 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;">-ks3kd03ksoasioda93jldas93jjj22kr:/oauth2redirect</span></pre>
			</td>
		</tr>
			</tbody>
</table>
</div>
<p/>
<p> </p><p class="supID"><b>Support ticket: </b>No related support tickets.</p>
</div>

</div>
	
  <h3 id="8232">Version 8.2.32</h3>
  <h4>Bug Fixes: 8.2.32 </h4>
  <h5>Additional  algorithm validation added to WS-Security policy handler</h5>
  <p>The WS-Security policy handler was not  validating algorithms in all scenarios.<br>
    </p>
  <p><span class="supID-from-word">SUP-17828</span><br>
    </p>
  <p class="source-hide">ATMO- 24086 for 8.2.32 {Status 5/15: Resolved  } [Rev, Gerry 5/17]</p>
  <h5>WS-Security  policy handler regression</h5>
  <p>An issue with message normalization could  result in client consumer identities being overwritten by the downstream  consumer identity.  <br>
    </p>
  <p><span class="supID-from-word">SUP- 17676</span><br>
    </p>
  <p class="source-hide">ATMO- 23268 for 8.2.32 {Status 5/15: Reopened  } [Rev Gerry 5/19]  </p>
  <h3 id="8231">Version 8.2.31</h3>
  <h4>Bug Fixes: 8.2.31  </h4>
  <h5>Algorithm  is not being verified on the inbound request </h5>
  <p>For security policies configured with a  specific algorithm suite, the default behavior of the policy enforcement  handlers is to allow sending requests that use a different algorithm suite  without returning an error. In order to support validation of algorithms while  retaining backwards compatibility, a new configuration property, <strong>com.soa.wssecurity -&gt;  validate.algorithms</strong>, has been introduced. By default, this is set to <strong>false</strong>. When <strong>true</strong>, the WS-Security policy handler will validate that the  algorithms used for signatures and encryption match the configured algorithm  suite.<br>
    </p>
  <p><span class="supID-from-word">SUP-17828</span><br>
    </p>
  <p class="source-hide">ATMO- 23573 for 8.2.30 {Status 4/18: Closed  } Rev Gerry 4/18. [Moved from 8.2.30]</p>
  <h5>Network Director: Stack overflow error when updating a  service</h5>
  <p>Parsing of scripting  policies was occasionally causing a Stack Overflow Exception, because the  mechanism used to embed scripts in XML sometimes resulted in an invalid XML  document.  <br>
    </p>
  <p><span class="supID-from-word">SUP-15640, SUP-16980,  SUP-17935</span><br>
    </p>
  <p class="source-hide">ATMO- 23745  for 8.2.31   {Status 4/23: Resolved  }[Rev, Gerry for 8.4.17</p>
  <h5>Improve  WS-Security Policy logging</h5>
  <p>Additional  logging is now generated to assist in debugging issues with the WS-Security  policy handler.<br>
    </p>
  <p class="source-hide">ATMO- 23968 for 8.2.31    {Status 4/23: Resolved }[copy by Gerry,  5/
<!--- new generated content from Jira --></p>
  <div class="New">
</div>
  <h3 id="8230">Version 8.2.30</h3>
  <h4>Bug Fixes: 8.2.30</h4>
  <h5>Network  Director: memory leak in script processing</h5>
  <p>Compiled scripts are pooled  to improve performance. Unused scripts were not being removed from the pool  correctly, resulting in a memory leak that could ultimately lead to an Out Of  Memory error.<br>
    <span class="supID-from-word">SUP- 15356</span><br>
    <span class="source-hide">ATMO-23824 for 8.2.30.  Rev Gerry for 8.4.17</span></p>
  <h5>Policy  Manager: pool exhausted when connecting to LDAP server</h5>
  <p>Multiple queries to an  LDAP server were each opening a separate connection, exhausting the connection  pool. The connection pool is now configured to block if no connections are  available and the fairness flag is used to avoid thread starvation, addressing  any potential leaks.<br>
    <span class="supID-from-word">SUP-14058</span><br>
    <span class="source-hide">ATMO- 23735 for 8.2.30  {Status 4/11: Resolved} {Also 8.4.17 ATMO 22435. Rev. Andrew, 4/11</span></p>
  <h5> </h5>
  <h5>JMS Proxy Issue—Lost messages</h5>
  <p>The default and legacy behavior of thesupID-from-word" JMS transport is to use  Auto Acknowledge for incoming messages. Because of this, messages could be  acknowledged, and removed from the incoming destination, but still fail to be  forwarded to the target service, resulting in message loss.supID-from-word"<br>
    The ability to configure the acknowledgement mode has now been  added (<strong>com.soa.jms</strong> &gt; <strong>session.factory.defaultAckMode</strong>). When  the Ack mode is set to <strong>client  acknowledge</strong>, incoming messages are only acknowledged when they have been  successfully forwarded to the downstream service.<br>
    <span class="supID-from-word">SUP-15960</span><br>
    <span class="source-hide">ATMO-23108 for 8.2.30 (Status 2/6: Resolved} {Copy: GW}</span></p>
  <h5>Error while retrieving the access  point for a SOAP binding in Policy Manager</h5>
  <p>In an upgrade from 6.x  to 8.2x, cloning hosted supID-from-word"services from Akana 6.x containers to Akana 8.x  containers failed with null pointer exception errors, when the SOAP binding was  missing the Transport URI extensibility element in the WSDL file. This has been  fixed.<br>
    <span class="supID-from-word">SUP-17453</span><br>
    <span class="source-hide">ATMO-23245 for 8.2.30  {status 3/27: Resolved} {Rev Mujeeb for 8.4.16}<br>
      ATMO-23245 for 8.2.30 /  ATMO-23244 for 8.4.16 + 8.5 {status 2/28: Resolved}</span></p>
  <h5>Intermittent startup exception in  Network Director</h5>
  <p>There was an  intermittent timing problem that could cause exceptions starting Network  Director bundles that use the Java service loader mechanism to initialize the  JAX-RS runtime delegate. The JAX-RS service factories were updated to do this  as part of their initialization.<br>
    <span class="supID-from-word">SUP-16597</span><br>
    <span class="source-hide">ATMO-23009  for 8.2.30 {Status 2/28: Closed} | ATMO-22966 for 8.4.15 {Status 2/22:  Closed} (Copy: GW 2/20)</span></p>
  <h5>API Designer: After adding model (schema),  on edit, schema shows as &ldquo;Any&rdquo;</h5>
  <p>In API Designer, when  defining the response for a resource for schemas defined as custom schemas, it  displayed only <strong>Any</strong> as the result.  Similarly, when editing the design, it showed up as <strong>Any</strong> rather than the custom schema. This has been fixed so that  custom schema is saved and displayed correctly.<br>
    <span class="supID-from-word">SUP-17536</span><br>
    <span class="source-hide">ATMO-23307 for 8.2.30 {status 3/27: Closed} {Rev ArBa  3/1}</span></p>
  <h5>Activity  name with size greater than 64 results in data truncation errors in Monitoring  logs</h5>
  <p>For an API operation with a Process activity containing an  Activity Name field that exceeded 64 characters, message data was not written  to the logs, and the following error was generated:</p>
  <p class="code"> UsageWriter failed to record usage log record in database. Data  has been lost. </p>
  <p>The new behavior limits new Activity Name entries to 64  characters, but allows existing names up to 128 characters.<br>
    <span class="supID-from-word">SUP-15937</span></p>
  <p class="source">ATMO-23377 for 8.2.30  {Status 3/27: Closed} / ATMO-21695 for 8.5, 8.4.16 {Status 3/19:  Closed. Rev Mujeeb, 3/16}</p>
  <h5>Some special characters not  allowed in context path</h5>
  <p>After upgrade to version  8.2.6, certain special characters that had been previously allowed in the API  context path—for example, the underscore—were no longer allowed. This has been  fixed.<br>
    The special characters  that are allowed in the context path are:<br>
    Forward slash (/), dot  (.), hyphen (-), underscore (_), tilde (~).<br>
    <span class="supID-from-word">SUP-17719,  SUP-17666</span><br>
    <span class="source-hide">ATMO-23231 for 8.2.30  (Status 3/27: Closed} {Rev AB 2/20) |  ATMO-23230 for 8.4.15 + 2018.00 {Status 2/14/18: Closed}</span></p>
  <h5>Error when uploading a Swagger  document while creating or updating an API</h5>
  <p>When designing or updating an API  using a Swagger document, the developer portal was returning a null pointer  exception at file upload with the message, &ldquo;General system error. Contact  system administrator.&rdquo; This was due to the way extensions were being copied,  which now checks for null values. </p>
  <p><span class="supID-from-word">SUP-17833</span><br>
    <span class="source-hide">ATMO-23333 for 8.2.30+2018.0  {Status 3/26: Resolved} | ATMO- 23561 Status: TRIAGE (Status 3/26: Closed}{Rev Andrew 3/26}</span></p>
  <h5>Network Director: outbound certificate configuration fails  in two-way authentication </h5>
  <p>When configuring an outbound  certificate in a Network Director cluster implemented with mutual (or two-way)  SSL authentication (MASSL), Network Director was replacing the user-configured  certificate with its own container certificate, resulting in a &ldquo;certificate  unknown&rdquo; error.<br>
    <span class="supID-from-word">SUP-17264</span><br>
    <span class="source-hide">ATMO- 23461 for 8.2.30 and ATMO-23461  {Status 3/26: Resolved}{Rev  Gerry 3/27}</span></p>
  <h5>Error when sending requests to Google News service </h5>
  <p>Some requests sent  to the Google News service were failing and therefore causing some HTTP connections  to remain open, because of improper handling  of Set-Cookie headers with a null value.<br>
    <span class="supID-from-word">SUP-18000</span></p>
  <p class="source">ATMO- 23521 for 8.2.30  {Status 3/26: Resolved} / ATMO- 23525 for 8.4.17 {Status  3/26: Resolved}{Rev: Gerry, 3/27} </p>
  <h5>Algorithm is not being verified on the inbound  request </h5>
  <p>For security policies configured with a specific algorithm suite, the default behavior of the policy enforcement  handlers is to allow sending requests that use a different algorithm suite  without returning an error. In order to support validation of algorithms while  retaining backwards compatibility, a new configuration property, <strong>com.soa.wssecurity -&gt;  validate.algorithms</strong>, has been introduced. By default, this is set to <strong>false</strong>. When <strong>true</strong>, the WS-Security policy handler will validate that the  algorithms used for signatures and encryption match the configured algorithm  suite.<br>
    <span class="supID-from-word">SUP-17828</span></p>
  <p class="source-hide">ATMO- 23573 for 8.2.30 {Status 4/18:  Closed } Rev Gerry 4/18 </p>
  <h3 id="8229">Version 8.2.29</h3>
  <h4>Bug Fixes: 8.2.29</h4>
  <h5>JMS Stalling</h5>
  <p>When multiple service endpoints were deployed to the same JMS  provider, changing one of the service access points would result in stalling on  the other services. This was due to overly-aggressive cleanup of connections  when a JMS endpoint was being reconfigured.<br>
    <span class="supID-from-word">SUP-16775</span><br>
    <span class="source-hide">ATMO-23099 for 8.2.29 (Status 2/6: Resolved} {Copy: GW}</span></p>
  <h5>Policy Manager: View References feature not working for some objects</h5>
  <p>In Policy Manager, in some cases, when the user selected <strong>View Process References</strong> for an existing  process, the following error message was displayed:</p>
  <p> <span class="code">Tree not available: null</span></p>
  <p>This was a regression and has been fixed. Now, a tree of  referenced objects is displayed.<br>
    <span class="supID-from-word">SUP-16331</span><br>
    <span class="source-hide">ATMO-22331 for 8.2.29 (Status 2/6: Resolved}{Copy BH 2/6}</span></p>
  <h3 id="8228">Version 8.2.28</h3>
  <h4>Enhancements: 8.2.28</h4>
  <h5>Anti-Virus policy: modified messaging for increased security</h5>
  <p>In a scenario where the Anti-Virus policy generated an error  response to the client because of an ICAP server error, the message included information that should not be exposed, such as the IP address of the ICAP  server. This has been fixed so that sensitive information is not included in  the error message.<br>
    <span class="source-hide">ATMO-22119 for 8.2.28 {status 1/25/18: Resolved} / ATMO-22871 for 8.4.14 {status 1/16/18: Resolved} {Copy GW 1/16}</span></p>
  <h5>Akana Administration Console: Security improvement re special character and  error treatment for login</h5>
  <p>When special characters were entered in the  platform login fields, the Akana Administration Console login page was  returning certain information that could potentially be used to extract  sensitive information.<br>
    Messaging has been improved and standardized to be consistent and  not share any information except that the username/password combination failed  to authenticate.<br>
    <span class="source-hide">ATMO-22914 for 8.2.28 {Closed  1/25/18} / ATMO-22916 for 8.5 + 8.4.15 {Closed 1/25/18} {Rev BH 1/25}</span></p>
  <h5>Akana Administration Console: Security improvement re potential username  enumeration</h5>
  <p>The Akana Administration Console login page was returning  different messages depending on whether the username was valid and the password  was invalid, or the username itself was invalid. Returning different results  could facilitate username discovery by a malicious source.<br>
    Messaging has been improved and standardized to be consistent  across both use cases.<br>
    <span class="source-hide">ATMO-22918 for 8.2.28 {Closed 1/25/18}  / ATMO-22913 for 8.5 + 8.4.15 {Closed 1/25/18} {Rev BH 1/25}</span></p>
  <h4>Bug Fixes: 8.2.28</h4>
  <h5>Anti-Virus policy strips attachments even when no virus is detected</h5>
  <p>When the Anti Virus policy was configured to scan and delete infected  policies, and was attached to a service, even if the policy didn&rsquo;t detect a  virus it was deleting the attachment and not sending it on to the API endpoint.<br>
    <span class="supID-from-word">SUP-14314</span><br>
    <span class="source-hide">ATMO-21110 for 8.2.28 {Status 1/25/18: Resolved} / ATMO-22544 for 8.4.14 {Status 1/17/18: Resolved} {Rev OK GW 1/16}<br>
      ATMO-21110 <br>
      [[[Reviewed by: GW 1/16.]]]</span></p>
  <h5>Policy Manager Contract Management API: Corrected example in generated doc</h5>
  <p>In the generated doc for the Policy  Manager Contract Management API (ContractAdminService), the documentation for  the GET&nbsp;/rest/contracts operation included a sample response in  application/json, but the API returns only application/xml. When an  application/json Accept header was used, the operation returned HTTP 404 (Not  Found).<br>
    The generated  documentation has been updated, since this operation does not in fact return  application/json, only application/xml.<br>
    Generated  documentation link for version 8.2.28:</p>
  <ul>
    <li> <a href="http://docs.akana.com/ag/assets/restApiDocs_ag82/swagger-Contract_Management_API.html">http://docs.akana.com/ag/assets/restApiDocs_ag82/swagger-Contract_Management_API.html</a></li>
    <li> <a href="http://docs.akana.com/ag/assets/restApiDocs_api-platform_84/api-http___soa.com_uri_products_ContractsManager_wsdl_1.0-ContractAdminService.html">http://docs.akana.com/ag/assets/restApiDocs_api-platform_84/api-http___soa.com_uri_products_ContractsManager_wsdl_1.0-ContractAdminService.html</a></li>
  </ul>
  <p><span class="supID-from-word">SUP-15764</span></p>
  <h5>Internet Explorer: PM/ND Console logout triggers refresh-cycle</h5>
  <p>With Internet Explorer, if a user logged out of the Akana  Administration Console for Policy Manager or Network Director, this action  triggered a refresh cycle where the browser would keep refreshing the login  page until the active window was closed. This has been fixed.<br>
    <span class="supID-from-word">SUP-13148</span><br>
  </p>
  <h5>JMS Stalling</h5>
  <p>In some cases, eviction  of JMS sessions from the internal session pool resulted in the underlying  connection being closed, causing intermittent traffic interruptions.<br>
    <span class="supID-from-word">SUP-16775</span><br>
    <span class="source-hide">ATMO-22912 for 8.2.28 {Resolved  1/30/18}/ ATMO-22915 for 8.4.15 {Open 1/25/18}  {Copy GB 1/25}</span></p>
  <h5 id="workflowexception">Workflow  exception error when re-registering services using WSDLs with wsp:policy  declarations</h5>
  <p>After upgrade, in  some cases where a service included a WSDL with wsp:policy declarations, the  following error was generated on re-registering the service:</p>
  <p class="code"> com.soa.workflow.WorkflowExecException:  Error while executing workflow [The work flow state [Active] doesn't allow to  modify work flow object for user [Local Domain\administrator]; when re-using  WSDL that has wsp:policy declarations </p>
  <p>
    <span class="supID-from-word">SUP-14836,  SUP-15797, SUP-16423, SUP-17534</span><br>
  </p>
  <h3 id="8227">Version 8.2.27</h3>
  <h4>Enhancements: 8.2.27</h4>
  <h5>New ability to access the JMS pseudo headers through scripting</h5>
  <p>In a scenario where the service flow involved scripted processing  of JMS responses, the JMS &ldquo;headers&rdquo; such as JMSCorrelationID, JMSDestination,  JMSTimestamp, etc., were not included in the message.<br>
    This is now configurable. When the <strong>com.soa.jms</strong> &gt; <strong>jms.transport.factory.extendedHeaders</strong> configuration property is set to <strong>true</strong>,  the additional JMS headers are inserted into responses from JMS providers.<br>
    <strong>Note</strong>: Incoming JMS  headers are not propagated to the next hop. However, if this feature is  enabled, downstream JMS headers will be returned to the original client.<br>
    <span class="supID-from-word">SUP-16959</span><br>
    <span class="source-hide">ATMO-22141 for 8.2.27 {Status 12/15:  Closed}/ ATMO-22569 for 8.4.13 {Copy GW 12/14}</span></p>
  <h4>Bug Fixes: 8.2.27</h4>
  <h5>API interface: issue with GET /api/users/{userID}/apis</h5>
  <p>This API operation returns the APIs for the specified user, and  can be run by that user or by a Site Admin. However, when a Site Admin called  the operation, APIs for the Site Admin were returned as well as APIs for the  specified user. This has been fixed so that only the APIs for the specified user,  per the UserID in the URL, are returned.<br>
    <span class="supID-from-word">SUP-16381</span><br>
    <span class="source-hide">ATMO-22473 for 8.2.27 {Rev MM} /  ATMO-22418 for 8.4.13</span></p>
  <h5>Test Client: some query parameters included twice</h5>
  <p>In a scenario where the DetailedAuditing and  AtmosphereApplicationSecurityPolicy policies were attached to an API, and Token  Location set to QueryString, the API returned an HTTP 404 error.<br>
    <span class="supID-from-word">SUP-17236, SUP-13167</span><br>
    <span class="source-hide">ATMO-22411 for 8.4.12 (BSci no SUP)  also dup ATMO-22427 for 8.4.12 / ATMO-22428 8.2.27 / ATMO-18697 for 8.5 {Rev:  AB 11/28} </span></p>
  <h5>Policy Manager: Service Level Policy, limitation re time period ending at  midnight</h5>
  <p>In Policy Manager, when defining an action on a Service Level  Policy, it was not possible to set a time period that ended with midnight  (00:00); the user interface didn&rsquo;t allow it. This has been fixed so that  midnight can be entered as 24:00.<br>
    <span class="supID-from-word">SUP-17083</span><br>
    <span class="source-hide">ATMO-22210 for 8.2.27 / ATMO-22390  for 8.4.13 and 8.5 {Rev OK BH}</span></p>
  <h5>Swagger API: for Delete operation, message processing not as expected</h5>
  <p>When an API was defined by importing a Swagger API Description  document, with a Delete operation defined with a success response of 204, the  platform was building the process without a Reply Node. This resulted in the  behavior being asynchronous, and the operation not working.<br>
    In another scenario, a 400 error response was defined for a  Delete operation, but the platform did not correctly relay the response body.<br>
    <span class="supID-from-word">SUP-16471, SUP-16553</span><br>
  </p>
  <h5>Swagger 2.0: External reference for an array is ignored</h5>
  <p>In a scenario where an API based on a Swagger 2.0 definition file  included a schema defined as an array, in the same file, the API was created  correctly, and if there was an external reference to an object, the API was  created correctly. However, if the schema was defined as an array and was an  external reference, the API definition was imported, but the schema was not.  This has been fixed.<br>
    <span class="source-hide">ATMO-21952 for 8.4.10 / ATMO-21698  for 8.5 {OK AB} / ATMO-22466 for 8.2.27</span></p>
  <h5>Response to DELETE doesn't accept schema</h5>
  <p>When an API was created by importing a Swagger document, and the  Swagger definition included a response for an HTTP DELETE operation, the  developer portal did not return the expected content. No content was returned; The  schema in the DELETE operation&rsquo;s response was ignored.<br>
    The in-line and remote references to the schema have now been  added for DELETE operations.<br>
    <span class="supID-from-word">SUP-16051, SUP-16376, SUP-15415</span><br>
    <span class="source-hide">ATMO-22444 for 8.2.27 {Rev OK AnBa  12/12}</span></p>
  <h5>In OAuth grant requests, query parameters decoded twice</h5>
  <p>In a specific scenario where OAuth Resource Owner (password)  grant requests were in use, and the resource owner username included a plus  sign (+), the plus sign was represented as a space in the Subject claim of the  JWT access token, due to double decoding. This has been fixed.<br>
    <span class="supID-from-word">SUP-16539</span><br>
  </p>
  <h5>SOAP to POX transformation not working after  upgrade to 8.2.12</h5>
  <p>In a specific scenario,  after upgrade from version 6.x to version 8.2.12, SOAP to POX transformation  was no longer working. The Network Director returned an HTTP 500 error with the  message:</p>
  <p class="code"> Changing the version of  a SOAP message in this manner is disallowed. </p>
  <p> <span class="supID-from-word">SUP-16698</span><br>
  </p>
  <h5>SOAP, with algorithms on the  request and response, not sending the configured algorithm</h5>
  <p>In a specific scenario  where the physical service had asymmetric binding and WS-Security was using any  SHA-256 Algorithm Suite, the platform was signing the request using SHA-1. <br>
    <span class="supID-from-word">SUP-16404</span><br>
  </p>
  <h5>Issue with JMS connections when  migrating to 8.2</h5>
  <p>After upgrading to version  8.2.x, the Network Director was maxing the number of outbound JMS connections  to the JMS provider, and would then need to be restarted.<br>
    <span class="supID-from-word">SUP-16775</span><br>
  </p>
  <h3 id="8226">Version 8.2.26</h3>
  <h4>Bug Fixes: 8.2.26</h4>
  <h5>LDAP identity system enabled for developer portal login returns 404 on  login</h5>
  <p>In version 8.2.25, if an LDAP identity system was enabled for  login to the developer portal, developer portal login failed with an HTTP 404  (not found). This has been fixed.<br>
    <span class="source-hide">ATMO-22401 for 8.2.26 / ATMO-22396  for 8.5, 8.4.12 {Rev OK MM 11/17. Noting here it was a regression introduced by  SUP-16957</span></p>
  <h3 id="8225">Version 8.2.25</h3>
  <h4>Bug Fixes: 8.2.25</h4>
  <h5>Special character in API endpoint URL causes developer portal to become  unresponsive</h5>
  <p>If a space or special character was included in the endpoint URL  for an API (API Implementation &gt; Deployment Zone), and saved, the developer  portal became unresponsive. This has been fixed so that invalid special  characters are not allowed. Validation rules for the context path are:</p>
  <ul>
    <li>It cannot have spaces.</li>
    <li>Question mark (?) is not allowed.</li>
    <li>The following special characters are allowed:  forward slash (/), comma (,), dash (-)</li>
    <li>No other special characters are allowed.</li>
  </ul>
  <p><span class="supID-from-word">SUP-16599 / SUP-16318</span><br>
  </p>
  <h5>Additional JMS properties added to container  properties documentation</h5>
  <p>The following  additional properties were added to the <strong>com.soa.jms</strong> properties documentation:</p>
  <ul>
    <li><strong>jms.session.manager.maxIdleTime</strong>:  Allows configuration of the maximum idle time for the session pools.</li>
    <li><strong>jms.session.manager.maxSessionPoolSize</strong>:  Allows configuration of the maximum size of the session pool.</li>
  </ul>
  <p>For details, refer to  the documentation in your installation folder (/docs/configAdmin subfolder), or  on the Akana docs site: <a href="http://docs.akana.com/ag/assets/configAdmin_pm84/properties-com.soa.jms.html">http://docs.akana.com/ag/assets/configAdmin_pm84/properties-com.soa.jms.html</a>. <br>
    <span class="supID-from-word">SUP-16775</span><br>
  </p>
  <h5>Edit Design does not load</h5>
  <p>When an API was created in the developer  portal from an imported Swagger document, the API details did not display  correctly in the API Designer window. Instead, the Designer did not load,  although the Swagger JSON was visible via the Swagger tab. This was because the Swagger had cyclic references within it,  that caused recursion. </p>
  <p class="Note"><strong>Note</strong>: The way that the  developer portal treats cyclic references was modified in an earlier fix for  version 8.2.17 (see <a href="#addapiswagger">Add API from Swagger document</a>: objects of type Entity do not expand  correctly).  Fixing the current issue causes the earlier issue to resurface, an unavoidable  regression.<br>
    <span class="supID-from-word">SUP-16410</span><br>
  </p>
  <h5>Developer portal Process Editor does not save modified  process when branch activity is used with Split and Join activities</h5>
  <p>In a specific  scenario where the Process Editor was used in the context of the developer  portal, with Split and Join activities, when a process was saved the routing on  the process was changed; the Split and Join routing was not correctly saved,  and an error was generated to the log.</p>
  <p class="code">Tenant Information Context is reset as there is no tenant id  associated with the context. This will allow UIApplicationAPI that is not  tenant specific to start with a blank tenant information context</p>
  <p><span class="supID-from-word">SUP-16703</span><br>
  </p>
  <h5>LDAP security provider scheduled job running  constantly</h5>
  <p>The LDAP security provider uses a scheduled job to evict  connections from the connection pool. When the job repeat interval was set, the  refresh interval was being treated as a seconds value, causing the job to run  much more frequently than expected. This was causing performance problems and  consuming unnecessary CPU.<br>
    This has been modified to use a single scheduled job for all LDAP  domains, and there is now a configuration setting to control the eviction  interval. The new properties are in the <strong>com.soa.security.provider.ldap</strong> PID.<br>
    <span class="supID-from-word">SUP-16957</span><br>
  </p>
  <h5>Enhancement to External OAuth Provider  Configuration</h5>
  <p>The External OAuth  Provider domain now sends the <strong>state</strong> and <strong>nonce</strong> parameters in the  Authorization URL when the Provider Type is <strong>Other</strong>.<br>
    <span class="supID-from-word">SUP-16446</span><br>
  </p>
  <h5>JOSE  Policy: App identity cert should be used on OUT if the Subject Category is  Consumer </h5>
  <p>The JOSE policy was using the public key associated with the  service endpoint to encrypt the message, even if the initiator Subject Category  was set to Consumer.<br>
    This has been fixed so that if the initiator Subject Category is  Consumer, the public key/identity certificate associated with the consumer app  is used for outbound encryption.<br>
    <span class="supID-from-word">SUP-16877</span><br>
    <span class="source-hide">ATMO-20654 for 8.4.1 / ATMO-20414  and ATMO-20641 for 8.2.17 / ATMO-20656, ATMO-20338, ATMO-22218</span></p>
  <h3 id="822">Version 8.2.24</h3>
  <h4>Enhancements: 8.2.24</h4>
  <h5>Swagger 2.0: Support of example values for parameters on endpoints</h5>
  <p>The platform now supports example values for parameters in  Swagger 2.0. If an example is provided in the imported JSON Swagger document,  it is displayed in the <strong>Schema</strong> column  on these pages/sections:</p>
  <ul>
    <li><strong>API</strong> &gt; <strong>Details</strong></li>
    <li><strong>API  Designer</strong> &gt; <strong>Models</strong></li>
    <li><strong>API</strong> &gt; <strong>Documents</strong></li>
  </ul>
  <p><span class="supID-from-word">SUP-16257</span><br>
    <span class="source-hide">ATMO-22070 for 8.2.24 {status  10/18: closed} {Rev OK AB} / ATMO-22069 for 8.4.11 / ATMO-21382 for 8.5</span></p>
  <h4>Bug Fixes: 8.2.24</h4>
  <h5 id="uniquecombovirtualhost">New setting for unique combination of virtual host  and context path</h5>
  <p>In version 8.0, it was possible to publish multiple APIs with the  same context path; for example, to have just a backslash (/) as the context  path.<br>
    However, in a later version, a validation check for unique  combination of virtual host and context path was added. In some cases, this  caused the API path to be automatically modified so that it was unique. Some  instances that had multiple APIs with a backslash as the context path were  affected by this.<br>
    Version 8.2.24 includes a new API setting, <strong>Validate that API context path is unique</strong>. By default, this setting  is enabled, so that unique combination of virtual host and context path is  validated. However, the Site Admin can modify the setting so that different  APIs can have the same combination of virtual host and context path. This gives  the tenant the flexibility to keep the validation check for unique path (the  default), or to disable it.<br>
    <span class="source-hide">ATMO-21714, ATMO-22076</span></p>
  <h5>Lifecycle Integration: Unable to push LM service to PM using fragmented  by-ref WSDL/Schemas</h5>
  <p>In a scenario where Lifecycle Manager 8.0 was in use with Policy  Manager 8.2.x (without Community Manager), and the communication from the  Policy Manager server to the Lifecycle Manager server required SSL, the initial  publish of a service from Lifecycle Manager to Policy Manager after a long  period of inactivity or after a restart of the Policy Manager server was  failing. This has been fixed.<br>
    <span class="supID-from-word">SUP-15287</span><br>
    <span class="source-hide">ATMO-22024, ATMO-22099, ATMO-22100</span></p>
  <h5>With Basic Auth enabled, container admin health can be accessed without  providing credentials</h5>
  <p>Even with Basic Auth enabled on the container admin health  service, it was possible to access container health information without  providing Admin Console credentials.<br>
    <span class="supID-from-word">SUP-16220</span><br>
    <span class="source-hide">ATMO-22010 for 8.2.24 {Copy: GW}</span></p>
  <h3 id="8223">Version 8.2.23</h3>
  <h4>Enhancements: 8.2.23</h4>
  <h5>Updated workflow allows email to be sent to API admins when a comment is  made on a pending API access request</h5>
  <p>Workflow functionality has been enhanced to support updating the  workflow that manages the API access request approval process, so that an email  can be sent to API Admins when a comment is made on a pending request.  Previously, this notification email was sent only to the app developer.<br>
    In the Comments workflow, the SendNotification function was  added.<br>
    <span class="supID-from-word">SUP-12974, SUP-12090</span><br>
    <span class="source-hide">ATMO-21949 for 8.2.23 {Status 10/5:  Closed} / ATMO-18458 for 8.5 </span></p>
  <h4>Bug Fixes: 8.2.23</h4>
  <h5>Business Admin cannot add domain</h5>
  <p>In version 8.2.17, a user who was a Business Admin but not a Site  Admin did not have access to the <strong>Domains</strong> option on the <strong>Administration</strong> menu.  This has been fixed.<br>
    <span class="supID-from-word">SUP-15668</span><br>
  </p>
  <h5>Policy Manager HTTP enforcement policy not being enforced properly</h5>
  <p>The Policy Manager HTTP enforcement policy was not being enforced  properly. This has been fixed.<br>
    <span class="source-hide">ATMO-21883, ATMO-21891</span></p>
  <h5>Script and WSDL persistent cache performance issue</h5>
  <p>Due to the locking  mechanism used to synchronize access to the persistent WSDL and script cache,  threads could block in some cases for an indeterminate period of time, which  could cause message processing delays. The locking mechanism was changed to  avoid this problem.<br>
    <span class="supID-from-word">SUP-16391</span><br>
  </p>
  <h5>New ability to disable the WSDL persistent cache facility</h5>
  <p>A new configuration property was added to support disabling the  persistent WSDL cache in scenarios where disabling the cache might be necessary,  for debugging purposes or for performance.<br>
    The new configuration property is: <strong>com.soa.wsdl</strong> &gt; <strong>wsdl.storage.manager.enabled</strong>.<br>
    <span class="small">SUP-16391</span><br>
    <span class="source-hide">ATMO-21313, ATMO-21477</span></p>
  <h5>MongoDB: Container state property not updating correctly</h5>
  <p>In a scenario where MongoDB was in use, the last modified  timestamp for the container state was being continually updated, which led to  repeated alerts that the container had become active, and then become  unresponsive again. <br>
    <span class="supID-from-word">SUP-16036</span><br>
  </p>
  <h5>Container state not updating properly when using MongoDB</h5>
  <p>When MongoDB was in use, in some cases, the container state  became unresponsive.<br>
    <span class="supID-from-word">SUP-16036</span><br>
  </p>
  <h5>When authorization is set up for an API, if an app is not authorized,  platform returns HTTP 500 rather than 401</h5>
  <p>In a scenario where an API was using authorization such as  two-way SSL or OAuth, if an app that wasn&rsquo;t authorized for API access called  the API, the platform returned HTTP status code 500 rather than 403 Forbidden  which is the correct authorization error response code.<br>
    <strong>Note</strong>: This issue was  included as a fix in version 8.2.22 but not fully resolved.<br>
    <span class="supID-from-word">SUP-11970, SUP-15646</span><br>
  </p>
  <h3 id="8222">Version 8.2.22</h3>
  <h4>Enhancements: 8.2.22</h4>
  <h5>API Test Client shows all  apps for selection but returns Unauthorized error for unauthorized apps</h5>
  <p>When testing an  API in Test Client, the Apps drop-down list was showing all apps, but then returned  an Unauthorized error if the user chose an app that he/she didn&rsquo;t have  permission to use.<br>
    Now, if the user chooses an app for which he/she doesn&rsquo;t have  authorization, Test Client displays the following message:</p>
  <p class="code"> To use this app in Test Client, you will need to provide the  app&rsquo;s shared secret. Please contact an app team member. </p>
  <p><span class="supID-from-word">SUP-14856</span><br>
  </p>
  <h4>Bug Fixes: 8.2.22</h4>
  <h5>With MongoDB, General System Error when loading the Apps &gt; Monitor page</h5>
  <p>In a scenario where MongoDB was in place, when loading the <strong>Apps</strong> &gt; <strong>Monitor</strong> page in the developer portal, a General System Error  appeared for a moment. The error did not affect functionality; everything on  the page loaded correctly. This error has been fixed. <br>
    <span class="supID-from-word">SUP-16099</span></p>
  <h5>With MongoDB, exporting CM logs only exports a single row</h5>
  <p>In a scenario where MongoDB was in use, exporting CM logs was  exporting only one row. This has been fixed.<br>
    <span class="supID-from-word">SUP-16094</span><br>
  </p>
  <h5>Cannot remove group  memberships if inviting user has been deleted</h5>
  <p>In a scenario  where User A invited User B to be a Site Admin or Business Admin, User B  accepted, and then later User A was removed from the system, it was not  possible to remove User B from the Site Admin or Business Admin group. The  developer portal returned an error, &ldquo;Could not remove member.&rdquo; This has been  fixed.<br>
    <span class="supID-from-word">SUP-15554</span><br>
  </p>
  <h5>When authorization is set up for an API, if an app is not authorized,  platform returns HTTP 500 rather than 401</h5>
  <p>In a scenario where an API was using authorization such as  two-way SSL or OAuth, if an app that wasn&rsquo;t authorized for API access called  the API, the platform returned HTTP status code 500 rather than 403 Forbidden  which is the correct authorization error response code.<br>
    <strong>Note</strong>: This issue was  included as a fix in version 8.2.22 but was  not fully resolved.<br>
    <span class="supID-from-word">SUP-11970, SUP-15646</span><br>
  </p>
  <h5>Platform JWT tokens do not follow RFC 7519 with regard to expiration</h5>
  <p>In some scenarios, JSON Web Tokens (JWT tokens) were expiring  after a short period of time whereas, per the settings, they should be valid  for some days. In addition, where messages were processed by multiple  deployment zones, in some cases there were differences in the validity period,  resulting in a token being rejected as expired and then, a little later on,  being accepted as valid by another deployment zone.<br>
    This was because the platform&rsquo;s implementation of JWT tokens was  not validating time correctly, taking into consideration future time and  clockSkew value. The platform was using a default time of 20 minutes as the  default for IAT (issuedAt) claim expiration, rather than calculating the  expected time based on the issuedAt and clockSkew properties.<br>
    <span class="supID-from-word">SUP-15264, SUP-16640 </span><br>
  </p>
  <h5>Test Client: HTTP PATCH method not working</h5>
  <p>Operations using the HTTP PATCH method were not working in Test  Client. Instead of working as expected, the platform was returning an HTTP 501  (Not Implemented) server error. This has been fixed. The behavior in Test  Client is now the same for HTTP PATCH as it is for HTTP POST.<br>
    <span class="supID-from-word">SUP-15294, SUP-15719</span><br>
  </p>
  <h3 id="8221">Version 8.2.21</h3>
  <h4>Bug Fixes: 8.2.21</h4>
  <h5>Hermosa Theme: Small text entry area in certain fields that support  Markdown when Markdown is turned off</h5>
  <p>Many fields in the developer portal, generally Description  fields for resources such as apps, APIs, and tickets, can support Markdown. However,  the Site Admin can disable Markdown support in the settings for certain  resources.<br>
    In a scenario where Markdown was turned off, in some cases  the entire text field area was not available for data entry. Instead, only a  small area of the field was available.<br>
    <span class="supID-from-word">SUP-15934</span><br>
  </p>
  <h5>With CORS policy attached, certain headers have duplicate values</h5>
  <p>In a specific scenario, when the CORS policy was in effect, the  platform was adding double values for certain request headers; for example, <strong>Access-Control-Allow-Origin</strong> had the  same hostname value twice.<br>
    <span class="supID-from-word">SUP-15609</span><br>
  </p>
  <h5>Database queries running too many times</h5>
  <p>Specific database queries were running too often. This has  been fixed.<br>
    <span class="supID-from-word">SUP-10381 / SUP-15516</span><br>
  </p>
  <h3 id="8220">Version 8.2.20</h3>
  <h4>Bug Fixes: 8.2.20</h4>
  <h5>Multiple service errors in log file: &ldquo;No key found in WSDL for service&rdquo;</h5>
  <p>In a scenario where an implementation of the Akana API Platform  included multiple Network Directors, with services distributed across Network  Directors rather than all hosted on all Network Directors, specific errors were  populating the log file. For services hosted on one Network Director but not on  a second, errors were generated to the log file for the second Network Director  instance, with the message:</p>
  <p class="code"> No key found in WSDL for service {service_name} </p>
  <p>The services can be retrieved, but do not have an address or  service key element when the WDSL is retrieved by the Network Director, since  the service is not hosted on that specific container.<br>
    The platform has been changed so that these messages are  recorded as warnings rather than as errors.<br>
    <span class="supID-from-word">SUP-16145</span></p>
  <h5>Pipeline Policy security component: User ID is picked from different domain</h5>
  <p>In a scenario where an implementation included a DataPower Pipeline  policy security component with two LDAP domains, the domain from which the  ID/username was taken was not consistent. In some cases, the ID/username was  taken from the correct domain; in other cases, it was taken from the wrong  domain.<br>
    <span class="supID-from-word">SUP-14659</span></p>
  <h5>Unable to create users from the Policy Manager Console in the local domain</h5>
  <p>In the Policy Manager console, after upgrade to version 8.2.19,  there was a problem adding users in the local domain. The information was not  saved, and no errors were generated. This has been fixed.<br>
    <span class="supID-from-word">SUP-16090</span></p>
  <h3 id="8219">Version 8.2.19</h3>
  <h4>Bug Fixes: 8.2.19</h4>
  <h5>Deletion fails for API implementations with missing design service</h5>
  <p>In a scenario where an API had been migrated from an earlier  version and didn&rsquo;t have the associated API design service, when trying to  delete an API implementation, the deletion failed, with the following error: &quot;Business service with key [null] not found.&quot;<br>
    <span class="supID-from-word"> SUP-15737</span><br>
    <span class="source-hide">ATMO-20970 for 8.2.19 {{RESOLVED 6/26 removed 6/26 from 8.2.19 per MM}}/  ATMO-20808 for 8.4.4</span></p>
  <h5>Network Director appends additional elements to SOAP request</h5>
  <p>In a specific scenario, when sending a SOAP request, the Network  Director appends an additional element, <strong>ReceiveNLETSMsgSync</strong>,  in the body of the request.<br>
    <span class="supID-from-word">SUP-15836</span></p>
  <h5>Create API from Swagger import: some operations missing</h5>
  <p>When creating an API by importing a Swagger file, in a specific  scenario, some of the resource paths were missing. This was because some  operation IDs were interpreted as duplicate and were therefore overwriting each  other.<br>
    The logic has been improved to create more readable operation IDs  that will be unique in all cases.<br>
    <strong>Note</strong>: When designing  an API, this problem can also be avoided by making sure operation IDs are  unique.<br>
    <span class="supID-from-word">SUP-15654 / SUP-15987 </span></p>
  <h5>Developer Portal and Akana Administration Console: field validation</h5>
  <p>In some cases, the developer portal and/or Akana Administration  Console accepted user input that was formatted as JSON data; in other cases, if  certain special characters were provided as field input, such as %2F, %00, or  %7c, the platform returned an HTTP 500 message.<br>
    Field validation has been improved to resolve this issue.<br>
    <span class="source-hide">ATMO-21139 for 8.2.19 / ATMO-21235  for 8.4.4 / ATMO-20800 for 8.5</span></p>
  <h5>Unexpected behavior with special characters in a specific environment</h5>
  <p>In a specific scenario where encoding was set to ISO-8859-1 and a  SOAP request included special characters, such as an umlaut (ü), the SOAP  request generated an error, although in a different environment with the same  setup, the same special characters did not cause a problem.<br>
    The error message that was generated:</p>
  <p class="code">Invalid byte 1 of 1-byte UTF-8 sequence. </p>
  <p> <span class="supID-from-word">SUP-15660</span></p>
  <h5>MongoDB: Export update data: option to include recorded data is cleared,  but it is still included in the export data</h5>
  <p>When exporting usage data for a virtual service with MongoDB  in use, with the Detailed Auditing policy attached and the default export  option selected, recorded data should not be included in the export data, but  was still being included.<br>
    <span class="supID-from-word">SUP-15480</span></p>
  <h3 id="8218">Version 8.2.18</h3>
  <h4>Bug Fixes: 8.2.18</h4>
  <h5>Policy Manager: 500 error when trying to view a custom component</h5>
  <p>In a specific scenario when running a DB2 database, after  upgrading from version 7.2 to version 8.0, trying to view a custom component  returned a 500 error. The response message included the below:</p>
  <p class="code">Error in executing query for Prepared statement.</p>
  <p><span class="supID-from-word">SUP-14550</span></p>
  <h5>Possible denial of service vulnerability due to user avatar size parameter</h5>
  <p>The platform supports uploading of an image for several resources  including users, apps, APIs, and groups. There was no file size restriction in the upload API; in  addition, the processing time compounded when larger size values were provided. By using this API with a large size parameter, potentially in  multiple instances, it could be possible for an attacker to overload the  back-end processing and cause service outages.<br>
    These operations have now been changed so that the maximum file  upload size is a 1000-pixel square.<br>
    <span class="source-hide">ATMO-20775 for 8.4.3 for Barclays /  ATMO-20965 for 8.5 / ATMO-20967 for 8.2.18</span></p>
  <h5>Group invited to Private API cannot view API details</h5>
  <p>When a Private API with no licenses attached had a group invited  to have visibility of the API, a member of the invited group did not have  permission to view the API Details page. Instead, an HTTP 401 (Unauthorized)  error was returned.<br>
    <span class="supID-from-word">SUP-14217 / SUP-14348</span></p>
  <h5>Visibility of certain web file descriptors</h5>
  <p>Certain specific web file descriptors, the deployment descriptors  for the Java-based servlets designed to run on the target application, were  publicly exposed in the platform. It is better not to share this information. <span class="source-hide">ATMO-20776 for 8.4.3 for Barclays /  ATMO-21057 for 8.2.18 / ATMO-21059 for 8.5</span></p>
  <h5>Migration failure for some APIs when upgrading from 7.2 to 8.2</h5>
  <p>Certain APIs did not migrate correctly during the upgrade from  version 7.2 to 8.2. APIs that had been created in Policy Manager and then  virtualized, and were then added to the developer portal using the <strong>Publish an existing service as an API</strong> option,  were not migrated correctly.<br>
    <span class="supID-from-word">SUP-15759</span></p>
  <h5>JSON2XML converter method package path not documented correctly</h5>
  <p>In the generated documentation for the JSON2XML converter, the  full path was not included with the filename, resulting in the file not being  found.<br>
    This file has now been updated so that the generated documentation  included with the build includes the full path.<br>
    <span class="supID-from-word">SUP-15548</span></p>
  <h5>Alert message copy is hardcoded and should be a locales message</h5>
  <p>A specific Alert message relating to the file upload scenario had  hardcoded message text. This meant that the text could not easily be modified  locally.<br>
    This has now been updated so that the text is pulled from the  locales file. It can therefore be translated or modified locally if needed.<br>
    <span class="source-hide">ATMO-21101, ATMO-21103, ATMO-21104</span></p>
  <h3 id="8217">Version 8.2.17</h3>
  <h4>Bug Fixes: 8.2.17</h4>
  <h5>Oracle database: In some cases, running scheduled job refreshDeletedEntries  returns ORA-01795</h5>
  <p>An issue occurred relating to the running of the scheduled job <strong>refreshDeletedEntries</strong> with an Oracle  database. In some cases, the number of deleted entries in the list was so great  that the scheduled job did not run successfully, returning an error, <strong>ORA-01795</strong>. In this scenario, it was  necessary to run manual database queries to resolve the issue.<br>
    <span class="supID-from-word">SUP-14021</span></p>
  <h5>Add API from Swagger document: objects of type  Entity do not expand correctly</h5>
  <p>In some cases, when an API was created from a Swagger document,  Swagger objects of type <strong>Entity</strong> were  not being expanded correctly.<br>
    <span class="supID-from-word">SUP-15133, SUP-13752</span></p>
  <h5>API Implementations page: 500 error on loading certificates using GET  rest/services/{key}/pki/info</h5>
  <p>When a user was logged in as Site Admin and was viewing the API  &gt; Implementations page for an API he/she was not an API Admin or Business  Admin for, the developer portal was attempting to load the certificate  information and failing, with an HTTP 500 error message and an empty Contracts  section on the page.<br>
    This has now been fixed. Site admins do not have Details and  Implementations tabs in the left menu.<br>
    <span class="supID-from-word">SUP-15203</span></p>
  <h5>NPE while adding an API</h5>
  <p>In a scenario where an API was added without including the Api  version information in the request payload, a null pointer exception was returned.<br>
    <span class="supID-from-word">SUP-15568</span></p>
  <h5>Incorrect value for Homefeed request resulting in bad link in new user  notification</h5>
  <p>The developer portal was including an incorrect value in a  request, resulting in an incorrect link in the &ldquo;welcome to the platform&rdquo;  notification issued to a new user.<br>
    <span class="supID-from-word">SUP-15557</span></p>
  <h3 id="8216">Version 8.2.16</h3>
  <h4>Bug Fixes: 8.2.16</h4>
  <h5>On some pages, top navigation bar displays user profile ID rather than  username</h5>
  <p>The developer portal displays the username (FirstnameLastname  unless customized, for example JaneMead) in the top navigation bar. On some  pages, the developer portal was displaying the UserID instead of the username.<br>
    <span class="supID-from-word">SUP-13382</span></p>
  <h5>Test Client ignores Operational Mapping for License/Scope</h5>
  <p>In a scenario where certain operations in an API were mapped  to certain licenses/scopes, the operation-level mapping was being ignored. As a  result, anonymous users (user not logged in) could access operations in Test  Client which should not be available to them.<br>
    <span class="supID-from-word">SUP-13943</span></p>
  <h5>Public API Setting is disabled, but APIs are still created as Public</h5>
  <p>Even though the setting where the Site Admin can control whether  users can create public APIs (<strong>Administration</strong> &gt; <strong>Settings</strong> &gt; <strong>APIs</strong>) was disabled, so that users  should not be able to create public APIs, new APIs were being created by  default as public APIs.<br>
    <span class="supID-from-word">SUP-14842</span></p>
  <h5>In Policy Manager Managed Services feature, one bundle is not installed</h5>
  <p>When creating a Policy Manager Runtime container with only the <strong>Policy Manager Managed Services</strong> and <strong>Policy Manager Security Services</strong> features installed, a required bundle, the <strong>SOA  Software Dynamic Security Module Deployer</strong> bundle, was not getting  installed. The result was that LDAP domains were not visible after logging in to  the Akana Administration Console.<br>
    <span class="supID-from-word">SUP-14591</span></p>
  <h5>OAuth: access token validation fails if JWT aud claim is present</h5>
  <p>In a scenario where the OAuth domain was using an external OpenID  Connect provider that included the JWT <strong>aud</strong> (audience) claim in the access token, the OAuth access token validation was  failing.<br>
    <span class="source-hide">ATMO-20201</span></p>
  <h5>During upgrade, Upgrade CM Models task generates an error</h5>
  <p>During upgrade to 8.2.9, the Upgrade CM Models upgrade step  was generating the following error:</p>
  <p class="code">Some of the model objects are not updated. Refer to log files for  the specific errors.</p>
  <p><span class="supID-from-word">SUP-14284</span></p>
  <h5>Response with cache-control header of public, without ma-age header,  results in NullPointer</h5>
  <p>In a specific scenario, where the default caching policy was  attached to a service and the downstream service response had a cache-control  header with a value of <strong>public</strong>, a  null pointer exception was generated, with a 500 internal server error.<br>
    <span class="supID-from-word">SUP-14984</span></p>
  <h3 id="8215">Version 8.2.15</h3>
  <h4>Bug Fixes: 8.2.15</h4>
  <h5>API Platform 8.2.x and IMS 8.0 errors when hosting a service on an IMS  container</h5>
  <p>There were issues in setting up the Intermediary for Microsoft  (IMS) product with the API Platform version 8.2. When hosting a service on an  IMS container, connection failed, and multiple alerts were generated in the  Policy Manager workbench with the message:</p>
  <p class="code">Invalid Service Key </p>
  <p> <span class="supID-from-word">SUP-14622, SUP-14486</span></p>
  <h5>API Platform upgrade to 8.2.10: Update of a REST service fails</h5>
  <p>Update of REST service was failing due to unnecessary WSDL  validation steps.<br>
    <span class="supID-from-word">SUP-14701</span></p>
  <h5>Upgrade CM Models task fails when migrating legacy APIs when WSDL operation  names include special characters</h5>
  <p>Some APIs created in earlier versions of the platform had special  characters in them. The upgrade task Upgrade CM Models was failing with these  APIs.<br>
    <span class="supID-from-word">SUP-13749</span></p>
  <h5>API Swagger generation includes elements that fail validation</h5>
  <p>The Swagger document created by the API Designer included certain  elements that caused it to fail validation when validated at <strong>editor.swagger.io</strong>.<br>
    For example, it was changing data type <strong>integer</strong> to <strong>int</strong>.<br>
    <span class="supID-from-word">SUP-14755</span></p>
  <h5>Add API not available in the developer portal after API owner added in  Policy Manager</h5>
  <p>When a user was added to the list of API owners in Policy  Manager, the user was not able to add a new API in the developer portal. The  Add API option (from the <strong>Plus</strong> menu) was  not available.<br>
    <span class="supID-from-word">SUP-14494</span></p>
  <h5>Intermittent restart issues due to duplicate package names</h5>
  <p>The platform was restarting intermittently because there were two  separate instances of the same package name.<br>
    <span class="source-hide">ATMO-20004 for 8.4 / ATMO-20005 for  8.2.15</span></p>
  <h5>XSS possible on some CM paths</h5>
  <p>Certain API operations were open to the possibility of appending  certain values that might cause a vulnerability to an XSS attack. <br>
    For example, in the below, <strong>';alert(1)//</strong> appended to the end of the URL could be a security  vulnerability:</p>
  <p class="code"> http://acmepaymentscorp.com/atmosphere/users/';alert(1)// </p>
  <p>The above results in modifying the JavaScript returned by the  server so that an alert is created and displayed in the browser window.<br>
    The applicable operations have been modified so that this is not  allowed.<br>
    <span class="source-hide">ATMO-20086</span></p>
  <h3 id="8214">Version 8.2.14</h3>
  <h4>Bug Fixes: 8.2.14</h4>
  <h5>Hermosa Theme: In API Designer, Edit icon not visible for editing model  objects</h5>
  <p>In Hermosa theme, after model objects had been added, either by  importing a Swagger file or by creating them in the API Designer, the Edit icon  was not displayed correctly, so users had difficulty editing or deleting the  model objects. This was not an issue in Default Theme.<br>
    <span class="supID-from-word">SUP-12390, SUP-14754, SUP-13276, SUP-14869</span></p>
  <h5>Elasticsearch now supports secure connections</h5>
  <p>In previous versions, all Elasticsearch communication were via non-secure  communication. Elasticsearch can now be configured to support secure communications using these additional properties:</p>
  <table border="1" cellspacing="0" cellpadding="0">
    <tr>
      <td width="319" valign="top"><p><strong>Property</strong> </p></td>
      <td width="319" valign="top"><p><strong>Value</strong></p></td>
    </tr>
    <tr>
      <td width="319" valign="top"><p class="large">shield.ssl.keystore.path</p></td>
      <td width="319" valign="top"><p>/home/es/config/shield/node01.jks</p></td>
    </tr>
    <tr>
      <td width="319" valign="top"><p>shield.ssl.keystore.password</p></td>
      <td width="319" valign="top"><p>myPass</p></td>
    </tr>
    <tr>
      <td width="319" valign="top"><p>shield.ssl.keystore.key_password</p></td>
      <td width="319" valign="top"><p>myKeyPass</p></td>
    </tr>
    <tr>
      <td width="319" valign="top"><p>shield.transport.ssl</p></td>
      <td width="319" valign="top"><p>true</p></td>
    </tr>
    <tr>
      <td width="319" valign="top"><p>shield.http.ssl</p></td>
      <td width="319" valign="top"><p>true</p></td>
    </tr>
  </table>
  <p> <span class="supID-from-word">SUP-14460</span></p>
  <h5>When export includes App data, error message &ldquo;Error occurs while exporting  objects of type [Business].&rdquo;</h5>
  <p>When users tried to export business information from the  developer portal, if app data was included in the selections, an error was  generated and the export failed.<br>
    <span class="supID-from-word">SUP-14650, SUP-13892 </span></p>
  <h3 id="8213">Version 8.2.13</h3>
  <h4>Bug Fixes: 8.2.13</h4>
  <h5>Lifecycle Manager integration: HTTP client connection pools are exhausted  when importing WSDLs from LM</h5>
  <p>In a scenario where the Lifecycle Manager integration with the  developer portal, after the developer portal was running for a while the  following timeout error was generated even though there were still available  connections in the http.client pool:</p>
  <p class="code"> Caused by: org.apache.http.conn.ConnectionPoolTimeoutException:  Timeout waiting for connection from pool </p>
  <p> <span class="supID-from-word">SUP-14554</span></p>
  <h3 id="8212">Version 8.2.12</h3>
  <h4>Bug Fixes: 8.2.12</h4>
  <h5>Creating a SOAP API via imported WSDL in the developer portal adds policies  on Design service rather than Target service</h5>
  <p>When a SOAP API was created in the developer portal by importing  a WSDL file, the policies were created as design artifacts of the API rather than  as part of the Target physical service (the physical service that the implementation  uses).<br>
    <span class="supID-from-word">SUP-14233</span></p>
  <h5>Outbound emails getting stuck in the message queue</h5>
  <p>Outbound emails were getting stuck in the message queue (MSG_QUEUE),  with the following error generated to the log files: &ldquo;Error in decoding the  message.&rdquo;<br>
    <span class="supID-from-word">SUP-13911</span></p>
  <h5>Cannot save Swedish characters in an operational script policy</h5>
  <p>Swedish characters used when creating an operational script  policy were not saved correctly. Instead, they were saved as question marks.<br>
    <span class="supID-from-word">SUP-14184</span></p>
  <h5>Email alerts not showing the correct value for Alert Origination Date</h5>
  <p>After upgrade, email alerts that include the Alert Original  Date were generated with an incorrect value for this field.<br>
    <span class="supID-from-word">SUP-14031 </span></p>
  <h5>Error in conversion from string to FDN</h5>
  <p>There was a bug in the conversion of a string to an FDN (fully  distinguished name; for example, {uniqueid}.{FedMemberID}. In scenarios where  there were multiple dots in the string, the first dot was identified as the  separator, resulting in an invalid FedMemberID if there were multiple dots in  the string. For example, a string of abc.def.fedmember was converted so that  the FedMemberID would be def.fedmember.<br>
    This has been modified so that the string after the last dot is  used as the FedMemberID.<br>
    <span class="supID-from-word">SUP-14553</span></p>
  <h5>When registered users have permission to add API, registered user who is  not an API Admin can approve his or her own API access request</h5>
  <p>In a scenario where the platform defaults had been modified to  allow registered users the ability to add an API, a registered user who  requested access to an API was able to authorize the API access request even  though the user was not an API Admin for the API. This has now been fixed. Only  a Business Admin or an API Admin for the applicable API can approve an API  access request.<br>
    <strong>Note</strong>: By default,  registered users do not have permission to add an API. This issue occurred only  when the default user permissions were modified.<br>
    <span class="supID-from-word">SUP-14315</span></p>
  <h5>Truncated policy/key names resulting in duplicate names</h5>
  <p>In a scenario where an imported WSDL included policy/key names  longer than the allowable 128 characters, the names were being truncated,  resulting in duplicate policy/key names.<br>
    The platform has now been modified to generate an error if  truncation results in duplicate policy/key names.<br>
    <span class="supID-from-word">SUP-14234</span></p>
  <h5>Creating a SOAP API via imported WSDL changes the workflow state of  policies attached to the API</h5>
  <p>After creating an API by importing a WSDL, either in Policy  Manager or in the develop portal, although the policies attached to the API  were in Active state, after import the associated policies were in Draft state.<br>
    <span class="supID-from-word">SUP-14234</span></p>
  <h3 id="8211">Version 8.2.11</h3>
  <h4>Bug Fixes: 8.2.11</h4>
  <h5>404 error when accessing external OAuth token endpoint in Test Client</h5>
  <p>Test Client was returning a 404 error when an API call was  requesting a token from an external OAuth provider, although the token URL  worked when using a standalone client.<br>
    <span class="supID-from-word">SUP-13927</span></p>
  <h5>Search not updating visibility correctly</h5>
  <p>In a scenario where an API was imported with a specific  visibility, the visibility was changed, and the API was then deleted and  re-imported, the Search feature was using the revised visibility setting for  the initial import, rather than the setting for the re-imported API.<br>
    This was caused by a delay in queuing the API for reindexing. The <strong>Edit API Details</strong> feature has now  been modified to immediately queue modified objects for indexing. Note there  might still be a short delay before a queued object is picked up for search  indexing.<br>
    <span class="supID-from-word">SUP-14002</span></p>
  <h5>In a container with only Community Manager installed, system health tool  bundle doesn&rsquo;t start</h5>
  <p>In a scenario where a container had only Community Manager  installed, not Network Director or Policy Manager, the system health tool  bundle was not starting. Instead, it stayed in a &ldquo;Starting&rdquo; state.<br>
    <span class="supID-from-word">SUP-13338</span></p>
  <h3 id="8210">Version 8.2.10</h3>
  <h4>Bug Fixes: 8.2.10</h4>
  <h5>Login Settings and Password policy settings both return 401 for Site Admin</h5>
  <p>The <strong>Administration</strong> &gt; <strong>Settings</strong> pages for Login Policy  and Password Policy should be available to a user who is a Site Admin, but  these pages were only available if the user was a Business Admin as well as a  Site Admin.<br>
    <strong>Note</strong>: This item was  included in the 8.2.9 release notes; however, the update was not included in  the non-cumulative update for 8.2.9. It is included for 8.2.10.<br>
    <span class="supID-from-word">SUP-13970</span></p>
  <h5>SQL  injection attack possible from API operation to export transaction logs</h5>
  <p>A security vulnerability was identified with the operation to  export transaction logs: GET&nbsp;/api/apps/versions/{version  id}/txlogs/export.  A  specific parameter was found to be vulnerable, and was fixed. <br>
    <span class="supID-from-word">SUP-14224</span></p>
  <h5>Default CorsAllowAll policy is configured incorrectly</h5>
  <p>There was an error in the configuration of the default CorsAllowAll  policy. The Allow Credentials property was set to <strong>true</strong>; the default value should be <strong>false</strong>.<br>
    <span class="source-hide">ATMO-19618 for 8.0.10 / ATMO-19617  for 8.2.10 / ATMO-19616 for 8.</span></p>
  <h5>Regression in HTTP Security Policy</h5>
  <p>A regression in the HTTP Security Policy meant that it was not  possible to authenticate a subject using another policy and then use the HTTP  Security Policy to insert the associated SSO session cookie into the response  returned to the client. In previous versions, this had been supported. This  regression has been fixed so that this functionality is available.<br>
    <span class="supID-from-word">SUP-13799</span></p>
  <h5>API platform does not accept and validate &ldquo;--&rdquo; as part of the URL for an  API endpoint</h5>
  <p>When creating an API from scratch, the platform would not accept  a URL that included two consecutive dashes. Instead, an error was returned.<br>
    <span class="supID-from-word">SUP-13686</span></p>
  <h5>Corrupted WSDL caused interruption in Network Director processing</h5>
  <p>In a scenario where an API service included a WSDL file that had  become corrupted, the Network Director could not process requests from the  virtual service. This resulted in repeated errors until the Network Director  instance was restarted. This has been fixed so that if the WSDL file becomes  corrupted, it is retrieved again.<br>
  </p>
  <p> <span class="supID-from-word">SUP-11128</span><br>
  </p>
  <h3 id="829">Version 8.2.9</h3>
  <h4>Enhancements: 8.2.9</h4>
  <h5>With Akana cluster support, console master/slave synchronization supports  SSL</h5>
  <p>With the Akana Cluster Support plug-in installed, master/slave  synchronization now supports SSL. <br>
    Properties changed on the master in the <strong>com.soa.admin.console</strong> configuration category are now propagated to  slave containers when SSL is in use.<br>
    <span class="supID-from-word">SUP-13190</span></p>
  <h4>Bug Fixes: 8.2.9</h4>
  <h5>Hermosa theme: session expiration not working correctly</h5>
  <p>The setting that controls inactive login session timeout (<strong>Administration</strong> &gt; <strong>Settings</strong> &gt; <strong>Login</strong>) was not working for Hermosa theme. This setting now works  for all themes.<br>
    <span class="supID-from-word">SUP-13937</span></p>
  <h5>Login Policy page, Inactive Login Session Timeout field: tooltip corrected</h5>
  <p>The tooltip on the Site Admin&rsquo;s Login Policy page, <strong>Inactive Login Session Timeout</strong> field,  was corrected so that it isn&rsquo;t theme-specific.<br>
    <span class="supID-from-word">SUP-13937</span></p>
  <h5>Hermosa theme: API &gt; Forum option not available for API Admins</h5>
  <p>In Default Theme, the Forum option appeared on the API Admin  menu; however, this option was missing from the menu in Hermosa theme.<br>
    <span class="supID-from-word">SUP-13881</span></p>
  <h5>DB2: Intermittent errors on startup</h5>
  <p>An intermittent error was occurring on startup when using DB2.  The database bundle has now been modified to include a dependency on a javax.transaction  to ensure that the dependency has been loaded and is available to the database  bundle.<br>
    <span class="source-hide">ATMO-19403 for 8.2.9 / ATMO-19402  for 8.0.12 {{GW OK}}</span></p>
  <h5>Policy Manager: errors generated when changing service organization</h5>
  <p>In Policy Manager, when running the <strong>Change Organization</strong> wizard to move physical services to a different  service organization, the action resulted in an error.<br>
    <span class="supID-from-word">SUP-13746 </span></p>
  <h5>Policy Manager: When exporting organization rollups, column name is  misspelled in export data</h5>
  <p>In Policy Manager, when deleting old rollup data, errors were  generated because a column name in the rollup data file was cut off (MINMSGSIZ,  should beMINMSGSIZE).<br>
    <span class="supID-from-word">SUP-14059 </span></p>
  <h5>With Ping feature, Network Director might fail to deploy virtual services</h5>
  <p>In a scenario where the Ping feature was installed, in some cases  the Network Director failed to deploy virtual services due to a race condition  bug.<br>
    <span class="supID-from-word">SUP-14033</span></p>
  <h5>Policy Manager: CSRF error on updating physical service</h5>
  <p>In a scenario where a SOAP API needed to be changed in Policy  Manager, a CSRF error was generated. Going to the physical service of the API,  choosing Update Service, and uploading the new ZIP archive file caused a &ldquo;CSRF  attack detected&rdquo; message, and the operation was not successful.<br>
    <span class="supID-from-word">SUP-13976</span></p>
  <h5>On import, generated access point is lost</h5>
  <p>In a scenario where a service was created with multiple access  points (one default access point that was automatically generated, and an  additional access point that was manually created), there was an issue with  export/import. When the information was exported from one installation and then  imported to a second installation, the manually created access point was  present but the automatically-created access point was lost.<br>
    <span class="supID-from-word">SUP-13944</span></p>
  <h5>When adding an API, user should be able to define API deployments</h5>
  <p>When adding an API to the API Platform, the platform  automatically deploys the API on all eligible deployment zones.<br>
    The operation for adding an API allows the user to specify  information about the deployment zones they want to deploy the API on, but this  information was ignored. The code has now been changed to process the user&rsquo;s  deployment zone specifications.<br>
    If no deployment zones are specified in the API request, the  platform deploys the API on all eligible deployment zones. However, if one or  more deployment zones are specified in the request, the API is implemented only  on the specified deployment zones.<br>
    Note that this functionality is currently supported only in the  API.<br>
    <span class="source-hide">ATMO-19381 for 8.2.9 / ATMO-19380  for 8.4.0 (MM/TG)</span></p>
  <h5>Login Settings and Password policy settings both return 401 for Site Admin</h5>
  <p>The <strong>Administration</strong> &gt; <strong>Settings</strong> pages for Login Policy  and Password Policy should be available to a user who is a Site Admin, but  these pages were only available if the user was a Business Admin as well as a  Site Admin.<br>
    <span class="supID-from-word">SUP-13970</span></p>
  <h3 id="828">Version 8.2.8</h3>
  <h4>Bug Fixes: 8.2.8</h4>
  <h5>After entering a one-time password received in email, the portal user is  left on a blank page</h5>
  <p>The user was left on a blank page after entering the one-time password  sent in email when signing up.<br>
    <span class="supID-from-word">SUP-13727</span></p>
  <h5>&ldquo;No process found error&rdquo; generated after updating schema of a SOAP service</h5>
  <p>A &ldquo;no process found&rdquo; error was  reported by the Network Director for a SOAP service that was updated with a new  schema. The issue occurred when the user chose to update the existing interface  with the new schema.<br>
    <span class="supID-from-word">SUP-13660, SUP-13433</span></p>
  <h5>Content missing for logged message in Analytics Log page when using  auditing policy with custom label </h5>
  <p>If an auditing policy was attached to an API that recorded  message content and used a different label than the default label (<strong>APPLICATION</strong>), the content of the  message was not displayed in the Analytics Log page.<br>
    <span class="supID-from-word">SUP-13398</span></p>
  <h3 id="827">Version 8.2.7</h3>
  <h4>Enhancements: 8.2.7</h4>
  <h5>Ability to support multiple OAuth scopes using an OR</h5>
  <p>Previously, the platform&rsquo;s OAuth support included support for  multiple scopes for an operation, but all scopes had to be present in the  access token (&ldquo;AND&rdquo; scenario). Now, this feature has been enhanced to support a  scenario where multiple scopes are defined for an operation but only one scope  is required in the access token in order for the request to be successful (&ldquo;OR&rdquo;  scenario).<br>
    <span class="supID-from-word">SUP-13062</span></p>
  <h5>Support for PingFederate 8.1.x</h5>
  <p>Client registration for PingFederate clients using the External  OAuth Provider Domain was not working with PingFederate 8.1.x. The platform has  now been enhanced to support PingFederate 8.1.x.<br>
    <span class="supID-from-word">SUP-13020</span></p>
  <h4>Bug Fixes: 8.2.7</h4>
  <h5>In imported RAML file, cannot edit parameters for POST operations</h5>
  <p>If an API was created by importing a RAML API description  document, parameters for POST operations could not be edited. <br>
    Parameters for other types of operations could be edited, and new  parameters could be added, but imported parameters for POST operations could  not be edited. Instead, an error was generated.<br>
    <span class="supID-from-word">SUP-13423</span></p>
  <h5>PingFederate Domain: incorrect lookup for Client Registration URL returns  exception when not found</h5>
  <p>In a scenario where the domain type was the legacy PingFederate  domain and the Client Registration endpoint was not enabled, the platform was  looking for the Client Registration URL, which it should not in this scenario,  and was returning an exception because it was not found. It should only look up  the Client Registration URL if the domain type is External OAuth Provider and  the Provider type is PingFederate. This has been fixed so that if the Client  Registration URL is not defined in the well-known configuration file, the  platform treats it as though client registration is disabled.<br>
    <span class="supID-from-word">SUP-11036</span></p>
  <h5>Test Client: Custom header added in Parameters section of API Designer does  not display correctly</h5>
  <p>If a custom header was entered in the Parameters section of the  API Designer, as a header parameter, it was not treated as a header in Test  Client. Instead, it was shown in the parameters section and could not be seen  in the request headers.<br>
    <span class="supID-from-word">SUP-13556, SUP-13509</span></p>
  <h3 id="826">Version 8.2.6</h3>
  <h4>Enhancements: 8.2.6</h4>
  <h5>Returning app transaction logs time out with large data volumes</h5>
  <p>With large volumes of data, a request for the app transaction  logs was timing out.<br>
    <span class="source-hide">ATMO-18863 for 8.2.6 (CLOSED at 10/12/16) ATMO-18878 (RESOLVED at 10/12/16)for 8.2.6 / ATMO-18848 for 8.3 </span></p>
  <h5>Expanded/enhanced AMQP support</h5>
  <p>Several changes were made to expand, and improve, AMQP  support, including these enhancements:</p>
  <ul>
    <li>The platform now supports AMQPS for physical  services. </li>
    <li>Platform support of AMQP was expanded to include  support of virtual hosts without a leading forward slash (/) in the virtual  host name.</li>
  </ul>
  <p>In addition, these issues with AMQP support were resolved:</p>
  <ul>
    <li>Default AMQP exchange should be blank and left  to the broker.</li>
    <li>When creating AMQP messages with non-string  message parts the wrong content was sent. </li>
    <li>With a proxy API implementation, if the physical  service had an AMQP endpoint the implementations were not loading.</li>
    <li>In the user interface, when adding an API, an  AMQP endpoint was not accepted; an error was generated.</li>
  </ul>
  <p class="source">ATMO-18871 / ATMO-18861 / ATMO-18882/ ATMO-18880, ATMO-18886  / ATMO-18887,ATMO-18889, atmo-18888  for 8.2.3, ATMO-18870</p>
  <h4>Bug Fixes: 8.2.6</h4>
  <h5>API Details not displayed correctly</h5>
  <p>For an API created from an imported API description document, the  operation-specific details were not displaying correctly on the API Details  page. The details were visible on Edit, and present in the API documentation,  but were not displayed in the summary view.<br>
    <span class="supID-from-word">SUP-13277, SUP-13373 , SUP-13381, SUP-13408</span></p>
  <h5>Error in Kerberos Identity System configuration UI</h5>
  <p>There was an issue with the second page of the Kerberos Identity  System configuration wizard; the processing of the Realm-to-Domain mapping  section resulted in an error.</p>
  <h5>GET&nbsp;/api/apis operation with BusinessID parameter returns all APIs  including deleted APIs</h5>
  <p>There was an issue when using the GET&nbsp;/api/apis operation  with the optional BusinessID parameter. If that parameter was used, deleted  APIs for the business were included in the response.<br>
    <span class="source-hide">ATMO-18769 for 8.2.6 / SUP-13355</span> <span class="supID-from-word">SUP-13355 </span></p>
  <h5>On adding new API version, option to &ldquo;Publish an existing service as an  API&rdquo; appears even when option is disabled in platform settings</h5>
  <p>In a scenario where the ability to publish an existing service as  an API was disabled, this option was still appearing when the user was creating  a new version of the API. <br>
    <span class="source-hide">ATMO-18771</span></p>
  <h5>PreparedStatement leak in SLAConfigurationDaoImpl.java</h5>
  <p>In version 8.0, there was a PreparedStatement leak in SLA  processing.<br>
    <span class="source-hide">ATMO-18800 for 8.2.6 / ATMO-18797  for 8.3 / SM-19634 8.0.12</span></p>
  <h5>In version 8.2.4, Invite New Users link returns error and fails</h5>
  <p>In 8.2.4, the link on the top navigation bar to invite new users  was failing and returning an error.<br>
    <span class="supID-from-word">SUP-13360 SUP-13413 SUP-13294</span></p>
  <h5>OAuth Provider Domain setup: special characters not allowed in OAuth scopes</h5>
  <p>When setting up the OAuth Provider Domain, in the Scopes tab,  special characters were not allowed in the scope names. Only numbers and  letters were allowed.<br>
    This has been modified to allow the special characters supported  by the OAuth specification.<br>
    <span class="source-hide">ATMO-18824 {{Resolved at 10/12/16}} / SUP-134</span> <span class="supID-from-word">SUP-13435</span></p>
  <h5>Add messaging for scenario where both &ldquo;Add API&rdquo; options are disabled</h5>
  <p>When both options to add API were disabled, <strong>Add a new API</strong> and <strong>Publish an  existing service as an API</strong>, platform was still showing the Plus menu with  no choices and no messaging. Messaging has now been added to inform the user  that the feature is currently disabled.<br>
    <span class="source-hide">ATMO-18853 for 8.2.6 / ATMO-18852  for 8.3</span></p>
  <h5>Policy import does not trigger@ImportPolicy workflow initial action</h5>
  <p>When a policy was imported, it was triggering the @Create initial  action instead of the @ImportPolicy initial action in the underlying workflow.  This meant that when a policy was imported, it was not automatically activated.<br>
    <span class="source-hide">ATMO-18855 for 8.2.6 / SM-19633 for  8.0.12</span></p>
  <h5>Create service wizard does not allow parts for messaging services</h5>
  <p>The Create Service wizard was using the WSDL PortType/Schema  definition pages for the messaging binding instead of the  operation/message/parts pages like the HTTP binding. Message parts are  essential to the messaging binding and therefore needed to use the non-WSDL  pages.<br>
    <span class="source-hide">ATMO-18892</span></p>
  <h5>Resource Owner Credentials grant type not working with a SAML Resource  Owner Authentication Domain</h5>
  <p>A null pointer exception occurred when using the resource owner  grant type with a SAML token. The exception has been fixed but it should be  noted that this is an illegal combination and the use of a SAML token is  supported only with the SAML bearer grant type.<br>
    <span class="supID-from-word">SUP-13030</span></p>
  <h3 id="825">Version 8.2.5</h3>
  <h4>Bug Fixes: 8.2.5</h4>
  <h5>Error occurred while validating token null in 8.2</h5>
  <p>In OAuth 2.0, Access Token validation was failing when there was  an HTTP header with no value.<br>
    <span class="supID-from-word">SUP-10245 </span></p>
  <h5>CORS response headers being removed for pre-flight messages</h5>
  <p>In version 8.2, CORS response  headers were not being returned when clients made OPTIONS calls.<br>
    <span class="supID-from-word">SUP-13094</span><br>
    <span class="source-hide">ATMO-18760 for 8.2.5 / ATMO-18077  for 8.3</span></p>
  <h5>Errors when editing a live implementation</h5>
  <p>In version 8.2, under specific circumstances, there were errors  in editing a live implementation of a newly-created API.<br>
    <span class="supID-from-word">SUP-12760</span></p>
  <h5>Search for an API with a leading hyphen returns all APIs</h5>
  <p>In the platform&rsquo;s search tool, a search for an API with a  leading hyphen in the API name returned all APIs. This is due to the fact that  the hyphen is a reserved character in the search engine. The reserved  characters are:<br>
    <strong>+ - = &amp;&amp; || &gt;  &lt; ! ( ) { } [ ] ^ &quot; ~ * ? : \ /</strong><br>
    Users searching for text that includes special characters must  escape the characters. For example, to search for (123)app, you'd have to  search for the following: <strong>\(123\)app</strong>.<br>
    When naming platform resources such as apps and APIs, it's best  to steer clear of special characters. When searching for resources, escaping  the special characters ensures the expected results.<br>
    <span class="supID-from-word">SUP-1185 </span></p>
  <h5>Chrome: Cannot edit Deployment Zone HTTP/HTTPS tabs</h5>
  <p>In the Chrome browser, Deployment Zone page, when trying to edit  in the HTTP/HTTPS tabs, an error was generated. This issue occurred only in  Chrome and has been fixed.<br>
    <span class="supID-from-word">SUP-13283</span></p>
  <h5>Chrome browser: deployment zone is enabled but map displays it as disabled</h5>
  <p>In the Chrome browser, in specific circumstances, a deployment  zone which was enabled was not displayed correctly on the Deployment Zone map  view.<br>
    <span class="supID-from-word">SUP-13252, SUP-13189 </span></p>
  <h5>Cannot service from a Swagger 2.0 file</h5>
  <p>In version 8.2, there was a problem with creating a service in  the Policy Manager console from an imported Swagger 2.0 API description  document.<br>
    <span class="source-hide">SM-19616 for 8.2.5 / SM-19615 for  8.3</span></p>
  <h5>Identity system saved without specific properties  does not load, cannot be edited</h5>
  <p>If  an identity system was saved without configuring any identity system-specific  properties, typically used for connections, the identity system was not loading  in the runtime or in the Policy Manager console, and therefore could not be  edited.<br>
    <span class="supID-from-word">SUP-13146</span></p>
  <h5>NPE in Upgrade CM Models while  updating VS configuration for service implementations</h5>
  <p>In  some cases, the post-install task, Upgrade CM Models, was returning a Null  Pointer Exception when updating the virtual service configuration for service  implementations in version 8.2. It was failing to load the virtual service  configuration for the service key. <br>
    <span class="supID-from-word">SUP-13008 </span></p>
  <h3 id="824">Version  8.2.4</h3>
  <h4>Minor Enhancements: 8.2.4</h4>
  <h5>Increase efficiency of message handling when processing large binary  messages with detailed auditing</h5>
  <p>Message handling was refactored to increase efficiency of  processing large binary messages, to help prevent out of memory errors when  processing large binary messages with detailed auditing.<br>
    <span class="source-hide">ATMO-18607 for 8.2.4 / ATMO-18590  for 8.3</span></p>
  <h5>New ability to specify the container key for the default Deployment Zone  for a new tenant</h5>
  <p>By default, creating a new tenant creates a deployment zone for every  Network Director container. When adding a new tenant via the platform API, the  user can now pass in an array of container keys. Only those deployment zones  are created.<br>
    <span class="source-hide">ATMO-18613 for 8.2 4 / ATMO-18254  for 8.3</span></p>
  <h4>Bug Fixes: 8.2.4<br>
    <span class="source-hide">ATMO-18578 {{removing per TG 9/20  it is only being fixed for 8.3}</span></h4>
  <h5>BPEL activity configuration changes added rather than replaced in BPEL doc</h5>
  <p>When saving a BPEL file with custom activities, the configuration  information is stored in the <strong>Activities</strong> element. When changes were made, the existing configuration was not being  updated; instead, information was added, resulting in duplicate configurations.<br>
    <span class="source-hide">ATMO-18592 for 8.2 4 / ATMO-18589  for 8.3</span></p>
  <h5>When OperationName is updated, synchronization of operations between design  service and impl service fails</h5>
  <p>In scenarios where the API version design was updated to change  an operation name, in some cases only the design service was updated;  additional services using the same interface and bindings did not reflect the  operation name change.<br>
    <span class="source-hide">ATMO-18594 for 8.2.4 / ATMO-18588  for 8.3</span></p>
  <h5>Add API from existing service not working</h5>
  <p>In a scenario where a physical  service and virtual service are created in Policy Manager, it should be  possible to add this API in the developer portal using the <strong>Add API</strong> &gt; <strong>Publish an  existing service as an API</strong> option. However, this feature was returning a  general system error.<br>
    <span class="supID-from-word">SUP-13191 </span></p>
  <h5>Tenant platform statistics not reported correctly</h5>
  <p>In version 8.2, tenant platform statistics were using the  Contract ID rather than the Contract Version ID, resulting in incorrect  statistics.<br>
    <span class="source-hide">ATMO-18640 for 8.2.4 / ATMO-18584  for 8.3</span></p>
  <h5>Platform Usage and API Usage metrics incorrect on Tenant Usage Report</h5>
  <p>In version 8.2, the Platform Usage and API Usage metrics were  reported incorrectly in the tenant usage report; the two sets of metrics were  the wrong way around.<br>
    <span class="source-hide">ATMO-18641 for 8.2.4 / ATMO-18583  for 8.3</span></p>
  <h5>Tenant statistic values 3x</h5>
  <p>In version 8.2, tenant statistics were including parent  statistics, two levels up the hierarchy, resulting in figures which were 3x  what they should have been.<br>
    <span class="source-hide">ATMO-18642 for 8.2.4 / ATMO-18582  for 8.3</span></p>
  <h5>Errors in SNMP destinations list</h5>
  <p>Database error encountered when Policy Manager generates a trap.<br>
    <span class="supID-from-word">SUP-12958</span></p>
  <h5>issue with Upgrade CM Models post-install task </h5>
  <p>The post-install task Upgrade CM Models was giving a Null Pointer  Exception error for certain APIs. The pattern finder was expecting the next  hop, but for an API created with existing service, the service is a virtual service  rather than acting as a proxy so there is no next hop.<br>
    <span class="supID-from-word">SUP-13008</span></p>
  <h5>Provisioning fails when installing Security Services feature</h5>
  <p>In version 8.2, when deploying Policy Manager using multiple  containers, provisioning was failing for the <strong>Install and Configure Security Services Feature</strong> task, because HTTP  transport capability was missing. This meant that an HTTP listener could not be  added for the container.<br>
    <span class="supID-from-word">SUP-12826</span></p>
  <h3 id="823">Version 8.2.3</h3>
  <h4>Minor Enhancements: 8.2.3</h4>
  <h5>Process Editor: Activity palette expanded</h5>
  <p>The Process Editor Activity palette was enlarged to fit two  additional custom activities.<br>
    <span class="source-hide">ATMO-18474 for 8.2.3 / ATMO-18136  for 8.3</span></p>
  <h4>Bug Fixes: 8.2.3</h4>
  <h5>SNMP error</h5>
  <p>In some scenarios, although QoS policies were created with  custom alert codes and set up with SNMP, when the alerts were triggered, they  were not sent to SNMP. In addition, an SNMP error was generated to the logs.<br>
    <span class="supID-from-word">SUP-12064, SUP-12958</span></p>
  <h5>Network Director sending expired SAML token to physical service</h5>
  <p>In a specific scenario, when a SAML token had expired, Network  Director was not removing it from cache. Instead, the expired token was used  when sending a message to the physical service, causing a SAML authentication  issue.<br>
    <span class="supID-from-word">SUP-10702</span></p>
  <h5>In a cluster scenario, JMS endpoints not deployed</h5>
  <p>In version 8.2, when a JMS listener was created in a cluster  scenario and a JMS web service was hosted on the cluster, the cluster nodes were  not given any endpoints and therefore messages were not picked up.<br>
    <span class="supID-from-word">SUP-12779</span></p>
  <h5>Hermosa theme: Deployment zone map points not being initialized correctly</h5>
  <p>In Hermosa theme, when navigating between the API Implementation  page and the Deployment Zone edit page, the map points were not initially  selected. This also caused problems with modifying deployment zone information.<br>
    <span class="supID-from-word">SUP-13142</span></p>
  <h5>Test Client sending incorrect content-type resulting in 500 response</h5>
  <p>In a specific scenario, when sending an API call, Test Client was  sending a content-type header of text/html even when the content-type was  specified as application/xml. This resulted in a 500 response.<br>
    <span class="supID-from-word">SUP-13079</span></p>
  <h5>Test Client: integrated Test Client not working for generated API doc if  OAuth scopes are at the operation level rather than API-wide scopes</h5>
  <p>For an API that used OAuth scopes assigned at the operation  level, the integrated Test Client in authored API documentation was failing to  get the authorization token. For API-wide scopes this issue did not occur.<br>
    <span class="supID-from-word">SUP-10836</span></p>
  <h5>Hermosa theme: Autocomplete not working for Test Client header name/value</h5>
  <p>In Hermosa theme, in the Test Client for an app or API and inline  Test Client in API doc, autocomplete was not working for header name or  Accept/Content-Type header value.<br>
    <span class="source-hide">ATMO-18525 for 8.2.3 / ATMO-18422  for 8.3</span></p>
  <h5>Upgrade CM models task returning errors with some APIs</h5>
  <p>When upgrading from 8.0 to 8.2.1, the upgrade task to add the  design service to APIs created in CM 8.0 was failing. This occurred if an  operation name had a slash in the definition (for example, GET /orders). The <strong>Upgrade CM Models</strong> task returned a  message &ldquo;Some of the model objects are not updated&rdquo; and the upgrade failed for  that API.<br>
    <span class="supID-from-word">SUP-13008</span></p>
  <h3 id="822">Version 8.2.2</h3>
  <h4>Bug Fixes: 8.2.2</h4>
  <h5>API from existing service: blank Modify Target Endpoints page</h5>
  <p>In a scenario where an API was created on the platform using the  &ldquo;from existing service&rdquo; option, the <strong>Modify  Target Endpoints</strong> page was blank and the customer could not modify the  information.<br>
    <span class="supID-from-word">SUP-11907</span></p>
  <h5>Simple Dev Theme: Markdown not rendering correctly in Swagger documentation</h5>
  <p>In Simple Dev theme, when the Swagger documentation for a  specific API was viewed, the Markdown in the API description was not rendering  correctly. Instead, the raw Markdown was displayed.<br>
    <span class="supID-from-word">SUP-12744</span></p>
  <h5>Issue with tenant causes CM process to run out of memory when indexing  multiple federated tenants</h5>
  <p>When multiple tenants were federated in the same instance, one of  the indexing jobs had the possibility of running infinitely, causing an out of  memory error.<br>
    <span class="supID-from-word">SUP-12823</span></p>
  <h5>Adding trusted federation member fails with 401 if there is already a  federation for the tenant</h5>
  <p>The AuthToken cookie has tokens for the local tenant and for the  federation tenant that it is already federated with. When setting up federation  with a second tenant, the token being read from the cookie was only using the  prefix, and not the TenantID extension, which caused errors.<br>
    <span class="source-hide">ATMO-18261 FOR 8.2.2 / ATMO-18260  for 8.3</span></p>
  <h5>Hybrid environment: errors and inconsistent behavior for Edit Deployment  Zones</h5>
  <p>In a hybrid environment (on-prem Network Director, Cloud-based  EAP developer portal), Edit Deployment Zone was returning errors, with inconsistent  behavior.<br>
    <span class="supID-from-word">SUP-12773 / SUP-12966 / SUP-12938</span></p>
  <h5>HTTP/HTTPS listeners become unavailable when container added to cluster with  JMS listener</h5>
  <p>In a scenario where a JMS listener was added to a cluster,  HTTP/HTTPS listeners in the cluster stopped functioning.<br>
    <span class="supID-from-word">SUP-12916</span></p>
  <h5>Deployment Zone for API Implementation: hostname value display is incorrect</h5>
  <p>When a new deployment zone was added, with the <strong>Allow APIs to specify vanity URLs (CNAMEs)</strong> cleared in the Deployment Zone configuration page, there was a display error.  In the Deployment Zones display page, the hostname was displayed in the <strong>Provide Vanity Hostname</strong> field and the <strong>Hostname</strong> field did not show a value.<br>
    <span class="supID-from-word">SUP-12970</span></p>
  <h5>For JMS listeners in an ND Cluster, null value listeners are created in  Community Manager</h5>
  <p>If a Network Director cluster has JMS listeners, a new listener  tab with a null value is displayed in Community Manager (if the cluster has  HTTP/HTTPS listener types, everything is displayed as expected).<br>
    <span class="supID-from-word">SUP-12773 / SUP-12938</span></p>
  <h5>Auto-connect for an API not working if non-admin user created the app</h5>
  <p>In version 8.2, if a user who was not a Business Admin or a Site  Admin creates an app, auto-connect contracts are not automatically created when  that app connects to APIs that have auto-connect enabled.<br>
    <span class="supID-from-word">SUP-12813</span></p>
  <h5>Hybrid environment: permissions errors on managing alerts</h5>
  <p>In a hybrid environment (on-prem  Network Director, Cloud-based EAP developer portal), an authorized user was  getting an authorization error on alerts and was not able to view, resolve, or  delete the alerts.<br>
    <span class="supID-from-word">SUP-12910, SUP-12964</span></p>
  <h5>Firefox browser: In Process Editor, Finish button not working</h5>
  <p>Normal platform behavior is that in the embedded Process Editor  for API processes, on the Edit Process page, the <strong>Finish</strong> button returns the user to the Implementation page. Before  closing the Process Editor, the developer portal checks for unsaved changes  and, if there are any, prompts the user to save before closing.<br>
    In Firefox, the <strong>Finish</strong> button was not working; there was no prompt and the Process Editor did not  close. <br>
    <span class="source-hide">ATMO-18427 for 8.2.2 / ATMO-18426  for 8.3</span></p>
  <h5>8.2 upgrade fails on DB2</h5>
  <p>Upgrade to 8.2 was failing for DB2 database, due to usage of the newer  JDBC spec method.<br>
    <span class="source-hide">ATMO-18430 for 8.2.2 and same JIRA  for 8.3</span></p>
  <h5>On EAP, /activity/operation/bpelKey/0f3a7e73-6b0c-11e6-b771-ee29d4c1137c  returns 404, resulting in HTML error display in a global notification</h5>
  <p>If the context path in the Policy Manager console was different  from the default, the check for changes in the Process Editor was failing.<br>
    <span class="source-hide">ATMO-18433 for 8.2.2 / ATMO-18428  for 8.3</span></p>
  <h5>JMS Cluster Configuration timing issue</h5>
  <p>Resolved a timing issue with listener endpoint deployment that  could result in JMS connection factories not being configured correctly. <br>
    <span class="supID-from-word">SUP-12779</span></p>
  <h3 id="821">Version 8.2.1</h3>
  <h4>Minor Enhancements: 8.2.1</h4>
  <h5>Process Editor: warning added if user tries to close without saving</h5>
  <p>In Process Editor, clicking <strong>Finish</strong> closes the Editor and returns the user to the previous page. If users click <strong>Finish</strong> before using the <strong>Save</strong> icon in the left toolbar to save  changes, the changes are lost.<br>
    Previously, there was no warning message. Now, a warning message  is displayed if a user clicks <strong>Finish</strong> with unsaved changes.<br>
    <span class="source-hide">ATMO-17833 for 8.2.1 / ATMO-18024  for 8.3</span></p>
  <h4>Bug Fixes: 8.2.1</h4>
  <h5>Notifications include links to help content that has been moved</h5>
  <p>Although the embedded platform content was removed in an earlier  version, and replaced with a link to the same content on the Akana docs site (<a href="http://docs.akana.com">http://docs.akana.com</a>), certain platform  notifications that included links to specific help content pages were not  updated. This resulted in broken links in the notifications; for example, the  notification sent to a developer when API access is approved.<br>
    These notifications have now been updated to link to the  applicable content on the Akana docs site.<br>
    <span class="supID-from-word">HOH-653389 / SUP-2670</span></p>
  <h5>Issues with links in content files (both absolute and relative paths)</h5>
  <p>In scenarios where platform content files had links in the  content, for both relative and absolute paths, links were not being correctly  interpreted by the developer portal, resulting in errors.<br>
    <span class="supID-from-word">SUP-10636</span></p>
  <h5>Hermosa Theme: Notifications count underline on hover</h5>
  <p>In Hermosa Theme, the notifications count in the header was  incorrectly displaying as underlined on hover. The underline has been removed.<br>
    <span class="source-hide">ATMO-18022 for 8.2.1 / ATMO-18020  for 8.3</span></p>
  <h5>Hermosa Theme: in API Details page, long tags overlap with other text</h5>
  <p>In Hermosa Theme, on the API Details page, long tags were  overlapping other copy displayed on the page.<br>
    <span class="source-hide">ATMO-18063 for 8.2.1 also for 8.3</span></p>
  <h5>Process Editor: Invocation, Script, and Process Activity details not  showing up for API Admin user</h5>
  <p>For an API Admin user, in the Process Editor, Invocation Details  and other specific Activity information was not displayed. <br>
    <span class="source-hide">ATMO-18106</span></p>
  <h5>If WSDL included one operation with two bindings, only one operation was  displayed</h5>
  <p>In a scenario where an API had multiple operations and bindings,  if the same operation existed for two bindings (for example, SOAP 1.1 and SOAP  1.2), only one operation was displayed for both bindings. Both operations are  now correctly displayed, along with the applicable SOAP version.<br>
    <span class="supID-from-word">SUP-12263, SUP-12320</span></p>
  <h5>Add API page: Setting for Pattern is not retained when Advanced option  switch is toggled</h5>
  <p>In adding an API, if the user chose Advanced Options and then  selected a pattern, such as Orchestration, and then clicked the <strong>Advanced Options</strong> button again to hide  the options, the user&rsquo;s choice was not preserved.<br>
    <span class="source-hide">ATMO-18078 for 8.2.1, same for 8.3 </span></p>
  <h5>Modify API failing with null pointer exception</h5>
  <p>An error was occurring when adding a new operation to an API&rsquo;s  design.<br>
    <span class="source-hide">ATMO-18135 {{copy from TG}}</span></p>
  <h5>Swagger 1.2 files not processed correctly when uploaded as a ZIP</h5>
  <p>If Swagger 1.2 document description files were uploaded as a ZIP,  rather than as separate files, the API platform was generating an error  relating to an incorrect or missing Dropbox ID. This has now been fixed so that  Swagger 1.2 API description documents, along with other supported types, can be  uploaded either as a ZIP or as individual files.<br>
    <span class="source-hide">ATMO-18208 for 8.2.1 / ATMO-18193  for 8.3</span></p>
  <h5>SPNEGO policy UI not available</h5>
  <p>The SPNEGO policy UI was not being deployed, and was therefore  unavailable in Policy Manager/<br>
    Community Manager.<br>
    <span class="source-hide">ATMO-18219 {{copy from TG}}</span></p>
  <h5>Default random context path suffix not generated for new  APIs/Implementations</h5>
  <p>By default, the platform used to generate a random context path  for new APIs if the random prefix setting was turned off. This is necessary so  that multiple implementations for the same API do not have duplicate  hostname/context path. A regression was introduced resulting in the random  suffix not being generated; this has now been fixed.<br>
    <span class="source-hide">ATMO-18224 </span></p>
  <h5>Issues with import of API description documents</h5>
  <p>In certain scenarios where Swagger 1.2 API description documents  were part of an uploaded ZIP file, the platform was not displaying a list of  services to the user and allowing the user to specify which service to use.  Instead, it was creating the service automatically or displaying the service  selection twice. In addition, in some scenarios, if there was only one file or  service in the ZIP, instead of going ahead and creating the API from that one  file/service, the platform was waiting for user input.<br>
    The correct behavior has now been restored so that if the ZIP  file includes multiple services, the user is presented with a list of services  to choose from. If there is only one service, the platform creates the API  based on that service.<br>
    There are several possibilities with regard to ZIP file  upload:</p>
  <ul>
    <li><strong>The ZIP  file includes only one file with multiple services</strong>: When the user selects  the file, the platform displays the services in the file so the user can choose  one.</li>
    <li><strong>The ZIP  file includes a single file with a single service</strong>: the platform creates the  API based on that service.</li>
    <li><strong>The ZIP  file includes multiple files</strong>: First, the user selects a file. Then, the  platform displays the available services so the user can choose one.</li>
  </ul>
  <p class="source">ATMO-18240 for 8.2.1 / ATMO-18239  for 8.3 </p>
  <h5>Error when sending SLA alerts using SNMP</h5>
  <p>SLA alerts set up using an external system with the SNMP protocol  were not working correctly. The alerts were not sent, and an exception was  logged in the Policy Manager log file.<br>
    <span class="supID-from-word">SUP-11032</span></p>
  <h5>SLA alert polling from Network Director not working correctly</h5>
  <p>SLA alert polling from Network Director was creating a very large  request that did not get through the load balancer, causing the logs to get  flooded.<br>
    <span class="supID-from-word">SUP-12783 </span></p>
  <h5>If import package has both virtual service and physical service, import  fails in a specific scenario</h5>
  <p>Import was failing in version 8.2 if the import package included  both the virtual and physical services, and the physical service had been  modified after creation of the export file.<br>
    <span class="supID-from-word">SUP-10933</span></p>
  <h5>Manual physical service creation failing</h5>
  <p>Creating of a physical service  using an imported WSDL file was generating a WSDL exception error, and the  operation was failing.<br>
    <span class="supID-from-word">SM-19370  / SUP-10307 / SUP-10307</span></p>
  <h3 id="82">Version 8.2</h3>
  <h4 id="82-keyfeatures">Key Features: 8.2</h4>
  <h5>2FA email notifications are now sent immediately</h5>
  <p>In previous versions, email notifications for two-factor  authentication (2FA) codes were being queued, along with other types of  notifications, by a scheduled job that ran once per minute.<br>
    Because these notifications are part of the user login process,  this has now been modified so that 2FA notifications are sent immediately.<br>
    <span class="source-hide">ATMO-15626</span></p>
  <h5>Integrated Process Editor in developer portal</h5>
  <p>The Developer Portal now includes an integrated Process Editor,  available via the Implementations page for an API. The API Admin can click  through from a specific operation to the Process Editor to specify  orchestration elements and other defaults for the operation such as invoking another  operation, managing input/output parameters, defining a fault sequence,  executing a script at a specific point in the process, or splitting the process  into two or more concurrent flows and then later re-joining.<br>
    Full functionality of the Process Editor, previously available  only in Policy Manager, is now accessible from the developer portal. On leaving  the Process Editor, the user is returned to the Implementations page for the  API.<br>
    <span class="source-hide">ATMO-15813 / ATMO-17150 /  ATMO-17151</span></p>
  <h5>Policy details are now visible in read-only mode in the developer portal</h5>
  <p>In the previous version, the API Admin could assign policies to  an API implementation, but only the policy name was available. In this version,  the API Admin can view the policy details when assigning policies to the API  implementation in the developer portal user interface.<br>
    ATMO-16591</p>
  <h5>New &ldquo;Hermosa&rdquo; beta theme </h5>
  <p>The developer portal  user interface has been completely redesigned with a new &ldquo;theme&rdquo; (design) with  new page layout, fonts, colors, and other aspects of user interface design.<br>
    The new layout includes  features such as an expanding/collapsing sidebar to offer more space for the  visual display of the developer portal.<br>
    The new design is  customizable so that a specific instance can be branded per customer, with custom  fonts, colors, icons, and other user interface elements.<br>
    Branding elements can be  inherited from Default Theme, or Hermosa theme can be branded independently.<br>
    <span class="source-hide">ATMO-16775 / ATMO-17140 / ATMO-17141 / ATMO-17142 /  ATMO-17143 / ATMO-17144 / ATMO-17146 / ATMO-17303</span></p>
  <h5>API Admins can choose Physical  Service as a pattern for the creation of an API</h5>
  <p>A new implementation pattern available when creating an API,  Physical Service, is now available.<br>
    This option is available when adding an API, and when adding or  editing an implementation. If the API&rsquo;s implementation pattern is <strong>Physical Service,</strong> the API  Implementation Details page shows the endpoints configured for the physical  service.<br>
    <span class="source-hide">ATMO-16642</span></p>
  <h5>API Admins can choose Orchestration as a pattern for the creation of an API</h5>
  <p>The API Platform now supports creating APIs with more complex  processes. When creating an API, the API Admin can select Advanced Options and  choose a pattern of Orchestration. This supports setting up of a more complex  API implementation including the Process Editor.<br>
    ATMO-16881</p>
  <h5>Support of SNI for API implementations</h5>
  <p>The platform now supports the SNI (Server Name Indication)  protocol extension, which allows a single server to connect multiple SSL  certificates to one IP address.<br>
    This new feature allows customers to use their own certificates,  so that their clients can choose to trust the certificate for the API  implementation, which the clients recognize, rather than the certificate for  the platform.<br>
    The API Admin can specify keys and certificates per implementation,  on the HTTPS tab in the Implementations page, and can designate that the  keys/certificates be used for all incoming SSL traffic for that implementation.<br>
    <span class="source-hide">ATMO-17162 / ATMO-17289</span></p>
  <h5>Developer portal supports management of API keys and certificates per implementation</h5>
  <p>The developer portal user interface now allows API Admins to  upload and assign keys and certificates for the API. This includes activities  such as generating PKI keys and CSRs and importing, exporting, and deleting PKI  keys and X.509 certificates.<br>
    The primary usage of this is for SSL clients, although it is  useful in other ways, for example for WS-Security and the JOSE security policy  (JSON Object Signing and Encryption).<br>
    API Admins can manage these security settings separately for each  API implementation in the developer portal user interface (<strong>Implementation Details</strong> page &gt; <strong>Certificates</strong> section &gt; <strong>Edit</strong>).<br>
    <span class="source-hide">ATMO-16631 for 8.2 also ATMO-17737  for 8.2 also ATMO-17727 for 8.2 also 17738</span></p>
  <h5>Administrator can manage deployment zones via the developer portal</h5>
  <p>The API Platform now offers the Site Admin and Business Admin  the ability to manage deployment zones in the developer portal user interface.  This includes all activities associated with deployment zones, such as:</p>
  <ul>
    <li>Adding</li>
    <li>Editing</li>
    <li>Deleting</li>
    <li>Viewing information for a specific deployment  zone, including the environment/implementation associations.</li>
    <li>Adding, modifying, or deleting an association  between an environment/implementation and a specific deployment zone.</li>
  </ul>
  <p>The deployment zone is based on the API Gateway; the Admin must  specify the API Gateway that's applicable for the deployment zone and specify  other values.<br>
    <span class="source-hide">ATMO-17459 / ATMO-17469 /  ATMO-17471 also ATMO-17438 also ATMO-17736</span></p>
  <h5>Flexibility of URL settings for Deployment Zones</h5>
  <p>The developer portal, and the underlying infrastructure of  Policy Manager, now support additional options for setting up the URL for a  deployment zone, and for the APIs that use the deployment zone.<br>
    In Policy Manager, the new settings are:</p>
  <ul>
    <li>AddressOverrideBehavior (allowed, not allowed, or  required) (in the API, AddressOverrideBehavior)</li>
    <li>RandomHostNameBehavior (allowed, not allowed, or  required) (in the API, RandomPrefixBehavior)</li>
  </ul>
  <p>Availability of configuration options in the developer portal  is determined by the setting for the underlying API Gateway in Policy Manager.  Then, the Site Admin or Business Admin can make additional choices to determine  options available for API Admins:</p>
  <ul>
    <li>If address override is allowed, the deployment  zone can be set up so that it allows the API Admin to specify a vanity hostname  for the API.</li>
    <li>If random hostname generation is allowed, the  deployment zone can be set up so that the platform appends a randomly-generated  prefix to the hostname. The API Admin must configure the DNS system for the API  so that it resolves the hostname to the hostname for the API implementation.</li>
  </ul>
  <p class="source">ATMO-17931, ATMO-17941, ATMO-17924</p>
  <h5>New JOSE Security Policy</h5>
  <p>The platform now includes a new policy, the JOSE Security policy  (JSON Object Signing and Encryption). This provides support for JSON signatures  and/or encryption, and is available for both RESTful and Messaging services.<br>
    <span class="source-hide">ATMO-16397</span></p>
  <h5>API Documentation: Inline Test Client tag supports different options based  on Content-Type Header</h5>
  <p>The inline Test Client tag, which allows users to add Test Client  inline in their API documentation, has been enhanced to support incorporating  multiple examples in the API documentation with different Content-Type headers.<br>
    This was implemented with the addition of new configuration  options in the <strong>config.js</strong> file.<br>
    <span class="source-hide">ATMO-17311</span></p>
  <h5>New Akana Administration Console settings for Elasticsearch feature</h5>
  <p>Additional Akana Administration  Console settings were added to assist in configuring  the Elasticsearch search feature:</p>
  <ul>
    <li>elastic.config.index.number.of.replicas:  Allows the Administrator to configure the number of replicas (additional  copies) of the Elasticsearch index. Each replica includes a replica of each  shard, so one replica might be distributed across multiple nodes, just as the  index itself is split into shards which are distributed across nodes.</li>
    <li>elastic.config.index.number.of.shards:  a one-time setting allowing the Administrator to configure the number of shards  (splits) for the Elasticsearch index. Note that if you change this setting, you  must then delete the /index folder that the search index is stored in and  rebuild the index.</li>
  </ul>
  <p class="source">ATMO-16177</p>
  <h5>Policy Manager RESTful APIs support Basic Auth as well as SAML Bearer for  authentication</h5>
  <p>The platform now supports Basic Auth authentication in addition  to SAML Bearer authentication, when using Policy Manager RESTful APIs.<br>
    <span class="source-hide">ATMO-17253</span></p>
  <h5>Policy Manager RESTful APIs now support API Platform authentication tokens</h5>
  <p>API platform authentication tokens are now supported in the  Policy Manager RESTful APIs.<br>
    The default security policy governing the PM RESTful APIs has  been amended to support the Community Manager Authentication cookie.<br>
    <strong>Note</strong>: The Akana API  Platform plug-in must also be installed on the container hosting the APIs.<br>
    <span class="source-hide">ATMO-17542</span></p>
  <h4 id="82-enhancements">Minor Enhancements: 8.2</h4>
  <h5>OAuth: increased maximum length of redirect OAuth  URL</h5>
  <p>The maximum length of  the OAuth redirect URL was increased from 64 characters to 2048.<br>
    <span class="supID-from-word">SUP-8393</span></p>
  <h5>Swagger API documentation:  multi-line field replaces single scrolling line</h5>
  <p>In earlier versions of  the platform, if the API Admin was editing Swagger API documentation, selecting  a field showed a single-line text editor that would scroll horizontally if the  text was longer than the field length.<br>
    This has now been  modified to allow a multi-line field so the API Admin can more easily see all  the content being added.<br>
    <span class="supID-from-word">SUP-9986 </span></p>
  <h5>On Users List in developer portal,  new visual cue for user&rsquo;s status</h5>
  <p>In the Site Admin  section of the developer portal, the Users List previously displayed only the  user&rsquo;s signup state—<strong>Pending Validation</strong>, <strong>Invited</strong>, or <strong>Registered</strong>.<br>
    When the Site Admin  disabled a user in the developer portal, the user was still a registered user,  and there was no visual cue to indicate that the user was currently disabled.<br>
    An additional visual cue  has been added to indicate the user&rsquo;s current state—<strong>Enabled</strong>, <strong>Disabled</strong>, or <strong>Locked</strong>.<br>
    <span class="source-hide">ATMO-17206</span></p>
  <h5>Access Basic Authenticated WSDL  through the developer portal</h5>
  <p>The developer portal now  supports upload of a WSDL file from a WSDL URL secured with Basic  Authentication.<br>
    <span class="supID-from-word">FMD-117726 ,  SUP-8465, SUP-8524</span></p>
  <h5>Database change to accommodate  longer hostnames</h5>
  <p>In a certain scenario,  there was an issue with a long hostname exceeding the size of the database  table and therefore not being supported. The size of the applicable database  column has now been increased to accommodate longer hostnames.<br>
    <span class="source-hide">ATMO-16982 and ATMO-17155 for 8.0.3 / ATMO-16084 for 8.2.  Also: ATMO-16987 for 8.1.1, 17156 </span></p>
  <h5>Users accessing a specific page,  then redirected to login and authenticated via SSO login, are now redirected to  the specific page after authentication</h5>
  <p>In scenarios where the  user was using SSO login to log in via a third-party authentication provider  (for example, via OpenID Connect, SAML, or SiteMinder), if the user tried to  access a specific URL and then was redirected to the SSO login page for  authentication, the platform was not redirecting the user back to the original  URL once authentication was complete.<br>
    This  has now been fixed so that if a user is attempting to access a specific page,  the user is redirected to that page after logging in.<br>
    <span class="supID-from-word">SUP-8263 / SUP-9556</span></p>
  <h5>CM container cannot use outbound container  certificate when custom workflow function makes an HTTPS request requiring  2-way SSL</h5>
  <p>In scenarios where a  custom workflow function was making an HTTPS request, requiring 2-way SSL, the  container for the developer portal was not able to use the outbound container  certificate. This has been fixed.<br>
    <span class="supID-from-word">SUP-10484</span></p>
  <h5>Easier site customization for custom  fonts</h5>
  <p>The approach to  developer portal font customization has been redesigned to make customization  much easier.<br>
    <span class="supID-from-word">SUP-10902</span></p>
  <h5>Image removed on API Legals page</h5>
  <p>The default image on the  API Legals page was removed. <br>
    <span class="source-hide">ATMO-17589</span></p>
  <h5>Permit redirect URI starting with  myappschema://</h5>
  <p>Previously, the  developer portal only supported redirect URI formats beginning with <strong>http://</strong> or <strong>https://</strong>.<br>
    Now, the platform also  supports <strong>myappschema://</strong>.<br>
    <span class="supID-from-word">SUP-10343</span></p>
  <h5>OAuth auth tokens: refactoring of  scheduled job, refactoring of database storage</h5>
  <p>The platform includes  two changes to improve efficiency in the handling of OAuth auth tokens:</p>
  <ul>
    <li>Change to scheduled job for deleting expired  auth tokens</li>
    <li>Change to database storage of auth tokens</li>
  </ul>
  <p><strong>Change to scheduled job for deleting  expired auth tokens</strong><br>
    The scheduled job that  includes the action of deleting expired OAuth Provider auth tokens was running  once per minute on every container with the OAuth Provider feature installed.  This meant that there might be multiple DELETE queries running on the same  table, possibly running concurrently. The scheduled job ran every five minutes.<br>
    This has now been  refactored so that deletion of expired OAuth Provider auth tokens is a separate  scheduled job, and only one instance runs at any time. The new scheduled job  runs every hour, persistently.<br>
    <strong>Change to database storage of auth tokens</strong><br>
    On the OAUTH_AUTH_TOKENS  table, a new column was added, <strong>TOKEN_VALUE2</strong>,  with varchar length 4000. This new column works together with the existing <strong>TOKENVALUE</strong> column for storage of OAuth  auth tokens.<br>
    If the token is less  than 4000 characters, it is stored in the new column with a data type of  varchar. Tokens longer than 4000 characters are stored in the existing column  with a data type of CLOB. This is more efficient use of database storage space.<br>
    <span class="supID-from-word">SUP-10908</span></p>
  <h5>Map display for deployment zones  now accommodates scenario of no geolocation specified</h5>
  <p>The Deployment Zone is  based on the underlying API Gateway which normally, but not always, has a  geolocation specified.<br>
    The logic associated  with the map has been improved to accommodate a scenario where there is no  geolocation specified for the deployment zone. In the past, if the location  wasn&rsquo;t specified for a container, default values were used. Now, the map  displays &ldquo;Location Unknown&rdquo; and displays the indicator for the deployment zone  in the top left section of the map.<br>
    <span class="source-hide">ATMO-17793</span></p>
  <h4 id="82-interface">API Interface Changes: 8.2</h4>
  <h5>Policy Manager API: New operation to support saving PKI keys/certificates  for a service</h5>
  <p>A new operation was added in Policy Manager, in the Service  Management RESTful API, to support uploading PKI keys and certificates for a  service.<br>
    <span class="source-hide">ATMO-17498</span></p>
  <h5>Policy Manager API: New operation to support attaching/detaching policies  from a service</h5>
  <p>A new operation was added in Policy Manager, in the Service  Management RESTful API, to support attaching/detaching policies to/from a  service.<br>
    <span class="source-hide">ATMO-17251</span></p>
  <h5>Policy Manager API: New operation for uploading key/certificate for  outbound HTTPS</h5>
  <p>A new operation was added to the Container Management service in  Policy Manager, for uploading the key and certificate to be used for outbound  HTTPS communication.<br>
    <span class="supID-from-word">SUP-5702</span></p>
  <h5>Tenant Manager API now supports MongoDB for statistics reporting</h5>
  <p>The tenant usage statistics were only supporting the use of the  RDBMS for reading metrics. The API has now been changed to also support MongoDB  when the system is configured to use MongoDB for storing metrics.<br>
    <span class="source-hide">ATMO-16921 8.1.1 / ATMO-17154 8.1.1  / ATMO-16991 8.2</span></p>
  <h5>New API operations to get and save proxied endpoints</h5>
  <p>Two new operations were added to get and save proxied  endpoints for an API:</p>
  <ul>
    <li>GET&nbsp;/api/apis/versions/{ApiVersionID}/implementations/{ImplCode}/services/{ServiceID}/endpoints</li>
    <li>PUT&nbsp;/api/apis/versions/{ApiVersionID}/implementations/{ImplCode}/services/{ServiceID}/endpoints</li>
  </ul>
  <p class="source">ATMO-17213</p>
  <h4 id="82-bugfixes">Bug Fixes: 8.2</h4>
  <h5>When editing an existing API using SOAP option, available Target URL is  duplicated</h5>
  <p>If a user added an API using a SOAP WSDL URL, with one target  option, and then edited the API, the target URL was duplicated for the edited  API. This has been fixed.<br>
    <span class="supID-from-word">PTY-890246,WHT-128332,UDL-891495,GRG-506359, SUP-8449, SUP-8450,  SUP-8504, SUP-11955</span></p>
  <h5>Outgoing SSL sockets do not account for routing configuration</h5>
  <p>After routing was applied, outgoing HTTPS connections were not  using the actual endpoint selected. This has been fixed.<br>
    <span class="source-hide">ATMO-16569</span></p>
  <h5>Schemas defined in imported RAML not showing in UI</h5>
  <p>In the developer portal, if a user imported a RAML file that  included referenced schemas in the same file, the referenced schemas were not  displayed in the user interface (API Designer &gt; Models section).<br>
    This has now been fixed so that schemas referenced in the same  file are correctly imported and displayed.<br>
    <span class="source-hide">ATMO-16725</span></p>
  <h5>Import DL and Add API with Service should check for API Settings and take  user to &ldquo;Feature Disabled&rdquo; page</h5>
  <p>The platform&rsquo;s Add API feature was not checking the platform&rsquo;s  API Settings, and was allowing users to add an API with service, or by importing  an API description document, when the setting that allows users to add an API  was turned off. This has now been fixed. If a user attempts to add an API and  the feature is disabled, the user is redirected to a Feature Disabled page.<br>
    <span class="source-hide">ATMO-16872 for 8.2 only</span></p>
  <h5>Improve tags grouping when there are tags at operation level but not at  root level</h5>
  <p>The Swagger specification supports assigning one or more tags to  one or more operations within an API. Tags can be applied at the root level, to  all operations, or at the operation level, to one or more operations.<br>
    In version 8.1, the API details page was displaying a list of  resources grouped by tag, and also including a grouping for All Operations,  causing unnecessary redundancy in the display.<br>
    Version 8.2 includes the following changes to the way tags are  treated:</p>
  <ul>
    <li>The grouping for All Operations has been  removed.</li>
    <li>If operations are not tagged, the server assigns  a tag that is the same as the API name.</li>
    <li>If one operation has multiple tags, the same  operation is displayed under each of the tags. </li>
  </ul>
  <p class="source">ATMO-16918 for 8.2 </p>
  <h5>App Details page shows Connected APIs twice, and API Details page shows  Connected Apps twice, if connected with two implementations</h5>
  <p>If an app was connected to an API in two environments, the app  was listed twice in the Connected Apps section of the API Details page, and in  the same way, the API was listed twice in the Connected APIs section of the App  Details page.<br>
    This has been fixed so that a connected app/API shows up only  once, even if there are two connections for the same app and API.<br>
    <span class="source-hide">ATMO-17008 for 8.1.1 / ATMO-16935  for 8.2</span></p>
  <h5>Realtime charts not updating</h5>
  <p>In a specific scenario, realtime charts were not updating. The  total response time was greater than the maximum value allowed in the database.  The data type of the database column has now been changed to Long in order to  accommodate greater values.<br>
    <span class="supID-from-word">SUP-5759</span></p>
  <h5>Deleting an app/client does not delete associated OAuth grants</h5>
  <p>In a scenario where an OAuth grant was issued in Test Client, and  the app was then deleted, the grant was still valid and could be used for API  requests. This has now been fixed so that if an app is deleted the remaining  OAuth grants for the app are no longer valid.<br>
    <span class="supID-from-word">SUP-10011, SUP-10103</span></p>
  <h5>On Dashboard notifications, date does not display correctly</h5>
  <p>In version 8.1, there was an error in the date display for  notifications on the user Dashboard. Instead of the correct date/timestamp, the  date was displayed as &ldquo;Invalid Date.&rdquo; This has been fixed.<br>
    <span class="supID-from-word">SUP-10667 / SUP-10317</span></p>
  <h5>API admin unable to edit implementation</h5>
  <p>In a certain scenario, the API Admin was seeing an Unauthorized  message when attempting to edit an implementation. This has been fixed.<br>
    <span class="source-hide">ATMO-16927 for 8.1.1 / ATMO-17006  for 8.2</span></p>
  <h5>When more than one container is running scheduled jobs, lock wait timeout  on rollup jobs</h5>
  <p>In scenarios where scheduled jobs were running on multiple  containers, the 15-minute rollup jobs were continually throwing &ldquo;lock wait  timeout exceeded&rdquo; errors. This has been fixed.<br>
    <span class="source-hide">ATMO-16986 for 8.1.1 / ATMO-17016  for 8.2</span></p>
  <h5>In apis/findAPIImplementations, response object shows Implementation in  Pattern field</h5>
  <p>The GET /api/apis/versions/implementations operation returns  information about all implementations.<br>
    In the response, this operation was returning implementation type  (Live or Sandbox) rather than the implementation pattern (for example,  com.akana.pattern.proxy). This has been fixed.<br>
    <span class="source-hide">ATMO-17017</span></p>
  <h5>customLoginPage does not redirect user to a  non-default landing page after login</h5>
  <p>The platform supports the ability to modify the default behavior  and redirect users to a different page after login. However, a later change  relating to the introduction of another feature caused a regression in this  feature. This has now been fixed so that this functionality again works. Users  can write a custom <strong>custom_en-us.json</strong> file, specifying that after login users are redirected to a different page, and  upload the custom file to the resources/theme/{themename}/locales folder.<br>
    After clearing cache and refreshing the browser, the revised  behavior takes effect immediately.<br>
    <span class="source-hide">ATMO-17031 for 8.2 also ATMO-17416</span></p>
  <h5>When there are many users, users list becomes unresponsive</h5>
  <p>In a scenario where a customer had a large number of users, more  than 1500, the user interface was loading all the information, and did not  allow actions to be taken on users that had been loaded; then, it became  unresponsive.<br>
    This page has now been re-engineered for much greater  responsiveness and efficiency in how it treats large numbers of users. Actions  can be taken on users displayed on the page, and subsequent pages are loaded when  the user scrolls down to the end of the page. <span class="source-hide">ATMO-17062 /ATMO-17206 / SUP-10725  {{OK J</span><br>
    <span class="supID-from-word">SUP-10725</span></p>
  <h5>API Admin Group Membership Workflow Definition ID is reset if API settings  are changed</h5>
  <p>The platform includes a configuration parameter to determine the  workflow definition to use for API Admin Group memberships. Currently, this  property can only be set in the database, not in the user interface. In the  database, the property is in the BUSINESS_API_SETTINGS table,  APIADMINMEMWFDEFID column.<br>
    If this field was manually set in the database, and a user then  changed the API settings in the user interface, the manual setting was being  erased. This has now been fixed so that existing values are not affected by  updates to other properties.<br>
    <span class="supID-from-word">SUP-8170</span></p>
  <h5>SaaS platform: Resolve issues with rollup statistics</h5>
  <p>On the SaaS platform, for historical charts, the queries were  timing out with MongoDB. In addition, with MySQL, the organizational rollups  were incorrect. These issues have been fixed.<br>
    <span class="source-hide">ATMO-17106</span></p>
  <h5>OAuth Agent: fix to two ResourceServerAPI issues</h5>
  <p>Two API issues relating to OAuth were fixed:</p>
  <ul>
    <li>UserInfoAPI gave null pointer exception if the serviceQName  was not available</li>
    <li>OAuthProviderName parameter was not correctly  annotated.</li>
  </ul>
  <p class="source">ATMO-17126</p>
  <h5>With integrated Test Client in authored API documentation, OAuth token is  failing with 3-legged grant types</h5>
  <p>In scenarios where the integrated Test Client feature was used to  integrate Test Client into authored API documentation using the <strong>config.js</strong> file and the <strong>soa:testclient</strong> tag, and the OAuth  security policy was assigned to the API, there was an issue with obtaining the  OAuth token if the user selected a three-legged OAuth grant type. The developer  portal UI was using the wrong redirect URL, so the OAuth token was not  correctly returned to the user interface. This has now been fixed.<br>
    <span class="source-hide">ATMO-17218 for 8.0.3 / ATMO-17137  for 8.2</span></p>
  <h5>User with only ApiAdmin role is getting Unauthorized page when accessing  target endpoints link on a proxy API</h5>
  <p>In version 8.1, users who had only the API Admin role, not  Business Admin or Site Admin, were getting an Unauthorized message if the API  was proxied and the user attempted to access the target endpoints (<strong>Implementations</strong> &gt; specific  implementation &gt; <strong>Modify Target  Endpoints</strong> link). This has been fixed.<br>
    <span class="source-hide">ATMO-17204</span></p>
  <h5>Simple Dev theme: API Test Client tag not displaying correct config  parameters</h5>
  <p>In a scenario where API documentation was using an uploaded <strong>config.js</strong> file to control the display  of the API in Test Client, certain config parameters were being ignored when  the API documentation was displayed in Simple Dev theme. This has been fixed.<br>
    <span class="source-hide">ATMO-17232</span></p>
  <h5>App &gt; APIs page, Request Production Access link is missing</h5>
  <p>In version 8.1.1, in a scenario where an app had a contract with  an API in the Sandbox environment but not in the Production environment, the  Request Production Access link was not available. This has been fixed.<br>
    <span class="supID-from-word">SUP-10982</span></p>
  <h5>Search by email ID is case-sensitive</h5>
  <p>In version 8.0, the search on the Users List was case-sensitive.  This meant that if the search did not have the exact case that had been set up  for the email address, a match was not found. This has been fixed so that email  search is performed regardless of case.<br>
    <span class="supID-from-word">SUP-11006</span></p>
  <h5>TestClient issue with SOAP services: header is now set to SOAP default  values with message</h5>
  <p>If the API was created by uploading a WSDL file, and the user  then selects the SOAP endpoints in Test Client, the Content-Type and Accept  headers are now set for the SOAP endpoint, as specified in the API definition.<br>
    In the generated API documentation for a SOAP API, a message is  displayed to let the user know that Swagger is not supported for a SOAP API.<br>
    <span class="supID-from-word">SUP-10841</span></p>
  <h5>Search result for registered user links to landing page</h5>
  <p>If a Site Admin or Business Admin searched for a registered user  using the Search feature, the search results were linking to the landing page.  This has been fixed so that the search results link to the user&rsquo;s profile.<br>
    <span class="supID-from-word">SUP-3858 / KNR-761400 </span></p>
  <h5>On SaaS, in some cases, updating an API creates an anonymous contract</h5>
  <p>In some cases, intermittently, editing an API caused an anonymous  contract to be created. This has been fixed.<br>
    <span class="supID-from-word">SUP-9908, SUP-9925</span></p>
  <h5>When a user has more than 1000 apps, the My Apps page fails with Oracle  database</h5>
  <p>In a scenario where a user had a very large number of apps, more  than 1000, the My Apps page was failing if the database was Oracle. This  functionality has now been refactored to work with all databases.<br>
    <span class="source-hide">ATMO-16526</span></p>
  <h5>API Designer changes data type &ldquo;number&rdquo; to &ldquo;integer&rdquo;</h5>
  <p>In the API designer, when defining a response, on the Swagger  tab, if the user specified a data type of Number and then saved, the data type  was changed to Integer. This has been fixed.<br>
    <span class="source-hide">ATMO-16942</span></p>
  <h5>When editing an API, Save button is sometimes disabled</h5>
  <p>In some cases, after an API was created in the developer portal,  when the user tried to edit the API, the Save button was disabled. This has  been fixed.<br>
    <span class="supID-from-word">SUP-10642</span></p>
  <h5>Simple Dev theme: relative links not working as expected</h5>
  <p>With uploaded documentation files in Simple Dev theme, relative  links were not working as expected. Users could click into a different file at  the top navigation level, but not to another relative link within a file. The  folder name was added to the URL, giving unexpected results. This has been  fixed.<br>
    <span class="supID-from-word">SUP-10636</span></p>
  <h5>When Swagger file doesn&rsquo;t include operation-level tags or root-level tags,  inconsistent display in API Designer/API documentation</h5>
  <p>In scenarios where the Swagger file for an API did not include  tags, at the operation level or at the root level, there were inconsistencies  in the way the operations were displayed between the API Designer view and the  API documentation view.<br>
    Now, in scenarios where there are no tags defined in the Swagger  file, &ldquo;default&rdquo; is used consistently in both locations.<br>
    <span class="source-hide">ATMO-17200 for 8.2 also ATMO-17386</span></p>
  <h5>Add API with Swagger YAML document: API Designer shows the schema for a  POST request but API Details and generated documentation do not</h5>
  <p>In a scenario where an API was added in the developer portal  using a Swagger YAML document, the API Designer showed the POST request  content, but the API Details and generated API documentation did not show the  content. That area was blank.<br>
    This has been fixed so that the request content is displayed  correctly in all places.<br>
    <a href="https://jira.akana.com/browse/SUP-10663" title="using swagger to generate documentation" class="supID-from-word">SUP-10663</a></p>
  <h5>Editing endpoints in deployment zones not working as expected</h5>
  <p>In a scenario where a deployment zone endpoint had both HTTP and  HTTPS endpoints, if one of the endpoints was deleted, the developer portal was  only allowing addition of an endpoint with the same protocol as the remaining  endpoint. So, for example, for HTTP and HTTPS endpoints, after deletion of the  HTTPS endpoint, only another HTTP endpoint could be added.<br>
    <span class="supID-from-word">SUP-10863</span></p>
  <h5>File Explorer for API documentation: viewing parent folder gives error</h5>
  <p>In API &gt; Documents, if the API Admin clicked the File Explorer  icon, navigating to the parent folder generated an error.<br>
    <span class="supID-from-word">SUP-10771</span></p>
  <h5>When editing an API, the endpoint in the virtual service changes</h5>
  <p>If an API was edited, the container that the virtual service is  hosted on was changing. In some cases this caused confusion when a developer  edited an API to attach a policy or add a new operation.<br>
    Example scenario: four clusters, each with one listener, API  hosted on second cluster. When the API was edited, the API was then hosted on  the first cluster, and the endpoint changed. The user needed to change the  deployment zone drop-down, and could easily miss this step.<br>
    This issue has been fixed so that when the user saves the change,  the correct URL is selected.<br>
    <span class="supID-from-word">PQW-890300, SUP-8232, SUP-8323</span></p>
  <h5>Edit API: In a specific scenario, &ldquo;Sync to proxy&rdquo; button not working</h5>
  <p>In the Edit API wizard, Target page, in a scenario where the API  was using a specific default media type profile, the <strong>Sync to Proxy</strong> button was not working.<br>
    This occurred if the API Default profile was set to an option <em>other than</em> <strong>Any in and out</strong> or <strong>Custom in  and out</strong> (for example, <strong>JSON in and  out</strong>). This issue has been fixed.<br>
    <span class="supID-from-word">SUP-10649</span></p>
  <h5>API Designer: Add response detail for Swagger documentation</h5>
  <p>The API Designer now supports expanding the response data type to  show details of the response model object.<br>
    <span class="supID-from-word">SUP-10998</span></p>
  <h5>Response array schema not saved when API is created by importing a Swagger  JSON file or when API is edited</h5>
  <p>The Swagger JSON file for the API was not correctly saving the  response array model objects.<br>
    <span class="source-hide">ATMO-17298 8.2 create / ATMO-17299  8.2 edit / also ATMO-17304 dup</span></p>
  <h5>Users accessing a specific page, then redirected to login and authenticated  via SSO login, should be redirected to the specific page after authentication</h5>
  <p>In scenarios where the user was using SSO login to log in via a  third-party authentication provider (for example, via OpenID Connect, SAML, or  SiteMinder), if the user tried to access a specific URL and then was redirected  to the SSO login page for authentication, the platform was not redirecting the  user back to the original URL once authentication was complete.<br>
    This has now been fixed so that if a user is attempting to access  a specific page, the user is redirected to that page after logging in.<br>
    <span class="supID-from-word">SUP-8263</span></p>
  <h5>Uploaded HTML content file was deleted, but still shows in the search index</h5>
  <p>In a scenario where a customer uploaded a content file and later  deleted it, the file was still showing up in the search index.<br>
    <span class="supID-from-word">SUP-11020</span></p>
  <h5>Elasticsearch: Initialization errors not reported in the logs</h5>
  <p>With Elasticsearch running in embedded mode, in scenarios where  indexing was failing when Elasticsearch was not initialized, errors were not  showing up in the logs. Initialization occurs at the start of the node itself,  and the indexing was assuming availability of the Elasticsearch client node.<br>
    This has been fixed so that if there is an Elasticsearch  initialization error it is reported in the log.<br>
    <span class="supID-from-word">SUP-11218</span></p>
  <h5>User cannot add ClientID in PingFederate because required header is missing</h5>
  <p>In a scenario where a user was trying to add a ClientID in  PingFederate, the call was failing because the X-XSRF-Header was missing. This  header is required by PingFederate when making a Client Registration API call. This has now been fixed so that this required header is sent with  the Client Registration call.<br>
    <span class="supID-from-word">SUP-11192</span></p>
  <h5>Simple Dev theme: Google Analytics not working</h5>
  <p>Platform pages were modified with an event handler to support  Google Analytics.<br>
    <span class="supID-from-word">SUP-5481</span></p>
  <h5>Group Membership Workflow: Issue  with changing group member status to Admin</h5>
  <p>API groups have three membership tiers: Administrator, Leader,  and Member. A group Admin should have permission to make another user a Leader  or an Admin.<br>
    In the user interface, the <strong>Make  Admin</strong> button was displayed for a user who was an Admin for the group.  However, if the user didn&rsquo;t also have the Site Admin role, if the user clicked  the button, an error message relating to permissions was generated and the  status was not changed.<br>
    This issue was due to an error in the underlying Group Membership  Workflow. The workflow has been fixed; however, to implement the change, if  you&rsquo;re upgrading, you&rsquo;ll need to manually update your workflow and then upload  the revision (Administration &gt; Settings &gt; Groups).<br>
    Look for <strong>STEP  200-Accepted</strong> in the workflow. The conditions type was <strong>AND</strong> rather than <strong>OR</strong>.  Change it as shown below, and implement the new workflow.</p>
  <p class="code"> &lt;action id=&quot;205&quot;  name=&quot;group.membership.action.make.admin&quot;&gt;<br>
    &lt;restrict-to&gt;<br>
    &lt;conditions type=&quot;OR&quot;&gt;<br>
    &lt;condition type=&quot;isCallerGroupAdmin&quot; /&gt;<br>
    &lt;condition type=&quot;isCallerSiteAdmin&quot;/&gt;<br>
    &lt;/conditions&gt; </p>
  <p>To retain tthe existing behavior, don't update the  workflow.<br>
    <span class="supID-from-word">SUP-10188</span></p>
  <h5>Cannot log in to the Akana Admin Console with Administrator login if Local  domain is selected</h5>
  <p>When local domain was selected, users could not log in to the  Admin Console using the Administrator login. Instead, there was an  authorization error.<br>
    This has been fixed; however, note that the container must be  registered in Policy Manager for this feature to work.<br>
    <span class="supID-from-word">SUP-9725</span></p>
  <h5>Accessing  OAuth LDAP authorization screen causes flooding of CM logs</h5>
  <p>Accessing the LDAP authorization screen for OAuth caused an error  message that repeated continuously in the log file. This has been fixed. <br>
    <span class="supID-from-word">SUP-9859</span></p>
  <h5>API admin cannot access Monitor &gt; Logs page</h5>
  <p>In version 8.0, an API admin who was not a Business Admin or Site  Admin was not able to view the logs for the API (API &gt; Monitor &gt; Logs).  Instead, a general system error was generated.<br>
    <span class="supID-from-word">SUP-11283, SUP-11436</span></p>
  <h5>Context path not set correctly when using suggestions to add protocol tab</h5>
  <p>The wrong calculated endpoint was being set even when the context  path was defaulted to &quot;/&quot;.<br>
    <span class="source-hide">ATMO-17719</span></p>
  <h5>Policy Manager: Deleting a service or container taking too long</h5>
  <p>Deleting a service or container in Policy Manager was taking more  than a minute, and in some cases deletion was not successful even after  multiple attempts.<br>
    <span class="source-hide">ATMO-17794</span></p>
  <h5>Forum  alerts added as a result of SLA and Throughput policies visible to all users  with visibility of the API</h5>
  <p>Forum alerts generated by the Throughput quota policy and  Concurrent Request quota policy were visible to all users who had visibility of  the API, including anonymous users if the API was public.<br>
    This has now been modified so that these alerts are visible only  to API Admins.<br>
    <span class="supID-from-word">SUP-11277</span></p>
  <h5>Issue  with reading WSDL document when query parameter is not defined in WSDL input  parts</h5>
  <p>In some scenarios, Edit API Details was failing because of an  issue with reading the WSDL document associated with the API, when the WSDL  referenced a query parameter that did not have the corresponding WSDL input  defined. This has been fixed.<br>
    <span class="supID-from-word">OPD-849497 </span></p>
  <h5>API Designer: Required field error text not cleared when value is entered</h5>
  <p>In the API Designer, if the user created a response on an  operation by entering a status code but no description, and then clicked the  Swagger tab, there was a validation error. Then, if the user clicked back and  provided a value, the validation error did not clear as it should have.<br>
    <span class="source-hide">ATMO-16565</span></p>
  <h5>API Designer: Once checked, &quot;Allow Empty Value&quot; check box cannot  be cleared</h5>
  <p>In the API Designer, when editing a parameter, if the user  checked the <strong>Allow Empty Value</strong> check  box, it became permanently enabled, and the user was not able to clear the  check box.<br>
    <span class="source-hide">ATMO-16943</span></p>
  <h5>OAuth: Grant information is added to client information</h5>
  <p>In a scenario where a client sent a header that the platform uses  for propagating the OAuth information downstream, the platform was adding  values to the header. For example, if the client sent the oauth_client_id and  an OAuth token in the request, the platform would add the OAuth token&rsquo;s  authenticated value in the same header, as a comma-separated value.<br>
    The platform now overwrites values after validation instead,  which is more secure.<br>
    <span class="supID-from-word">SUP-10786</span></p>
  <h5>For existing APIs, Upgrade CM Models does not create the design service if  operation name includes a forward slash</h5>
  <p>When upgrading from a previous version of the platform to 8.1,  the Upgrade CM Models post-upgrade task was not successful on earlier APIs if  the API included a forward slash in the operation name. As a result, the API  Admin could not edit the API design.<br>
    Previously, the Upgrade CM Models  task was modified to replace any spaces in operation names with an underscore  character. This task has now been updated so that it also replaces a forward  slash with an underscore.<br>
    <span class="supID-from-word">SUP-10684</span></p>
  <h5>Simple Dev theme: API Name for sandbox URL is shown as (labels.Sandbox)</h5>
  <p>In Simple Dev theme, if an app was connected to an API with a  Sandbox endpoint, in Test Client in the API drop-down list the entry was  showing up with the environment listed as <strong>labels.Sandbox</strong> rather than <strong>Sandbox</strong>.<br>
    <span class="supID-from-word">SUP-11206 </span></p>
  <h5>Elasticsearch: deleted documents still present in the search index</h5>
  <p>When documents were deleted, the associated entries were not  being deleted from the search index, so deleted documents were still included  in search results. <br>
    <span class="supID-from-word">SUP-11335</span></p>
  <h5>External Login when user has pending agreements yields 401 Unauthorized</h5>
  <p>In a scenario where the user was logging in using an external  identity provider such as the Google Connector domain or OpenID Connect Relying  Party domain, and there was a pending agreement that the user had to accept to  complete the login, the pending agreement was not being presented to the user.  Instead, a 401 Unauthorized message was returned to the user.<br>
    <span class="supID-from-word">SUP-11373</span></p>
  <h5>Refactoring of ApiContractSlaEvaluationJob </h5>
  <p>The ApiContractSlaEvaluationJob scheduled job was using a single  log block for the entire job. In certain scenarios, this could cause very large  log files. This job has now been refactored to use detached logging for each  SLA. <br>
    <span class="supID-from-word">SUP-5718</span></p>
  <h5>Window sizes adjusted for policies</h5>
  <p>Window sizes were adjusted so that all policy names displayed  correctly in the developer portal.<br>
    <span class="source-hide">ATMO-17712</span></p>
  <h5>API documentation fixes</h5>
  <p>The following fixes were made in the API documentation for the  developer portal:</p>
  <ul>
    <li>LoginAPI, ssoLogin operation: domain parameter  was incorrectly represented in initial cap (Domain). This parameter must be  lowercase.</li>
    <li>createAPI and createAPIVersion operations:  clarify which properties are supported in the request.</li>
    <li>Fix typo: /api/login/endsession represented in  one instance as /api/endsession (/api/ is missing from the path).</li>
    <li>In the <strong>ProxyImplementationRequest</strong> object, <strong>TargetEndpointURL</strong> was  represented as string rather than array of string.</li>
    <li>In Tenant Administration service, importPackage  operation was not documented.<br>
      <span class="supID-from-word">SUP-11918 /  SUP-11978, SUP-11968, SUP-12098</span></li>
  </ul>
  <h5>Console Context Path affects Akana Admin Console</h5>
  <p>In the configuration settings, in <strong>com.soa.config</strong>, if the <strong>context.path</strong> property was changed, it was changing the context path for Policy Manager, but  also affected the Akana Admin Console, causing some wizards to return a 404.<br>
    This has now been fixed so that there is a new property in the <strong>com.soa.console</strong> configuration settings, <strong>pmcontext.path</strong>, that affects only  Policy Manager.<br>
    <span class="source-hide">ATMO-17777</span></p>
  <h5>Links to Learnmore embedded help content removed</h5>
  <p>The embedded help content on the Support page was removed, but a  link to it on the Popular Searches menu had not been removed. This was fixed.<br>
    In addition, all links anywhere in the UI to this content have  now been updated to link to the help content on the Akana docs site.<br>
    <span class="source-hide">ATMO-17804, ATMO-17913</span></p>
  <h5>After importing Google RAML, API Designer page does not show</h5>
  <p>In a specific scenario, creating an API by importing a RAML  document from a URL resulted in the API Designer page not being displayed at  all. This has been fixed so that the API Designer correctly shows the API  description from the RAML file.<br>
    ATMO-17826</p>
  <h5>Fresh install with Oracle 11g fails</h5>
  <p>A fresh installation with Oracle 11g database was failing on the  &ldquo;install schemas&rdquo; step, with the error &ldquo;invalid modification of columns.&rdquo;<br>
    This has been fixed, but requires running the following script  after you&rsquo;ve performed the installation.</p>
  <p>&nbsp;</p>
  <p class="code">ALTER TABLE OAUTH_AUTH_TOKENS ADD TEMP clob NULL; </p>
  <p class="code">update OAUTH_AUTH_TOKENS set TEMP = TOKENVALUE; </p>
  <p class="code">ALTER TABLE OAUTH_AUTH_TOKENS DROP COLUMN TOKENVALUE; </p>
  <p class="code">ALTER TABLE OAUTH_AUTH_TOKENS RENAME COLUMN TEMP TO  TOKENVALUE;</p>
  <p><span class="source-hide">ATMO-17862 for 8.0.5 / ATMO-17852  for 8.1.2 / ATMO-17852 for 8</span><br>
  </p>
  <h5>Test Client: Regression in finding redirect URL based on the Portal URL  being accessed</h5>
  <p>In Test Client, there was a regression in version 8.0.3 with  regard to obtaining the OAuth token for API access.<br>
    The redirect URL is constructed based on the portal URL, and if  there was no port number in the URL, the redirect URL was being constructed  with an extra colon after &ldquo;host&rdquo; in the URL, as follows: <br>
    <span class="code">http://host:/path</span><br>
  </p>
  <p>Now, the platform includes the port number with colon if it  exists, and omits the colon if there is no port number.<br>
    Similarly, when building the signature base string, the platform  was not removing the port number from the URL in scenarios where the port  number was the default for the protocol (HTTP port 80, HTTPS port 443). This  resulted in the application security policy signature not working. Default port  is now removed prior to building the signature base string.<br>
    <span class="supID-from-word">SUP-11969 / SUP-12082</span></p>
  <h5>Improved handling of Swagger path parameters when an invalid name is used</h5>
  <p>In a scenario where regular expression path parameters were  erroneously used as the parameter name in the Swagger document, the resulting  API had an additional parameter that showed up as the first path parameter: <strong>params___.___</strong>.<br>
    Treatment of path parameters has been improved so that an invalid  name is ignored and only valid parameters are represented in the API Designer.<br>
    <span class="supID-from-word">SUP-12024</span></p>
  <h5>API Designer: support of Any type property in Swagger schema</h5>
  <p>In API Designer, in the Add/Edit Response dialog, the developer  portal was not correctly saving the data type value of <strong>Any</strong>.<br>
    <span class="source-hide">ATMO-17869</span></p>
  <h5>App &gt; Connections: Arrow for Actions menu for a specific contract not  displaying in Firefox</h5>
  <p>In the App &gt; Connections page, for an existing contract, the  drop-down arrow for the Actions menu was not displayed correctly in Firefox. It  worked correctly in Chrome.<br>
    <span class="supID-from-word">SUP-12047 </span></p>
  <h5>With imported Swagger JSON file, request or response array not processed  correctly</h5>
  <p>In scenarios where an API was created from an imported Swagger  JSON file, objects in a request or response array were not being processed  correctly.<br>
    <span class="source-hide">ATMO-16308</span></p>
  <h5>When API is created with swagger.json and exported as RAML, Swagger  &quot;definitions&quot; not preserved as RAML schemas</h5>
  <p>If an API was created using an imported Swagger JSON file, and  the API definition was then exported as RAML, the &ldquo;definition&rdquo; values in the  Swagger were not being preserved as schemas in the RAML file, as they should  be.<br>
    <span class="source-hide">ATMO-17829</span></p>
  <h5>Deployment Zone page displays listener name rather than container name</h5>
  <p>On the Deployment Zone summary page, the value displayed for the  API Gateway was the listener name, not the container name.<br>
    <span class="source-hide">ATMO-17962</span></p>
  <h5>API Editor blank after adding an API</h5>
  <p>After adding a new API, the API Editor was showing as blank.<br>
    <span class="supID-from-word">SUP-12199</span></p>
  <h5>When Network Director matches the request to the service operation based on  the path, it should be sensitive to locations of path parameters</h5>
  <p>Network Director has been modified to more accurately match the  request to the service operation based on the path.<br>
    For example, if a request for /a/b/c is received, all operations  listed below would match this request. If there are multiple operations  matching the request, priority must be given to the one that&rsquo;s closest to the  top of the list.</p>
  <ul>
    <li>/a/b/c</li>
    <li>/a/b/{x}</li>
    <li>/a/{x}/c</li>
    <li>/{x}/b/c</li>
    <li>/a/{x}/{y}</li>
    <li>/{x}/b/{y}</li>
    <li>/{x}/{y}/c</li>
    <li>/{x}/{y}/{z}<br>
      <span class="supID-from-word">SUP-11022</span></li>
  </ul>
  <h5>Exported CSV file for API logs displays fault for non-200 HTTP status codes  in the 200 series, such as 201</h5>
  <p>If API logs are exported as CSV, the log displays a fault for  HTTP status codes in the 200 series unless the code is exactly 200. Other codes  in the 200 series, such as 201 or 202, are also success codes.<br>
    Now, 2xx is considered as a successful status code.<br>
    <span class="supID-from-word">SUP-9861 / SUP-9866</span></p>
  <h5>Support for APIs with large numbers of operations</h5>
  <p>There was a problem in a scenario where a tenant had a very large  number of APIs (close to 1000). This has been fixed to offer better support for  large numbers of APIs.<br>
    <span class="supID-from-word">SUP-11933</span></p>
  <h5>Process Editor: content for Script activity is stored as Base64 encoded</h5>
  <p>In Policy Manager 8.0.6, content added as part of a Script  activity in Process Editor was being stored as Base64 encoded, making it  inaccessible to the script writer.<br>
    <span class="supID-from-word">SUP-11435 </span></p>
  <h5>If message conversion fails, platform now returns original fault rather  than a conversion error message</h5>
  <p>If message conversion fails, resulting in a downstream HTTP  fault, the platform was returning a conversion error. This has been modified so  that it now returns the original fault.<br>
    <span class="supID-from-word">SUP-10584</span></p>
  <h5>Add API Version UI changes</h5>
  <p>The Add API Version UI has changed so that options are more  accurately shown or hidden based on the user&rsquo;s valid choices. The Advanced  Options are not displayed to the user if the user chooses to add a new API,  whether by cloning current version, designing from scratch, or uploading an API  description document.<br>
    <span class="source-hide">ATMO-18067</span></p>
  <h4 id="82-knownissues">Known Issues: Integration with Lifecycle Manager</h4>
  <p>If your implementation includes integration with the Lifecycle  Manager product, and you&rsquo;re using the Akana API Platform version 8.2x, there&rsquo;s  an additional step you&rsquo;ll have to take so that authorized users have full  access to APIs that were published from Lifecycle Manager.<br>
    Because of recent redesign of Community Manager affecting  permissions, users viewing APIs that were published from Lifecycle Manager  might see a system error when trying to view aspects of the API, such as the  API Implementations page. In order to see the full information, the user must  have the Organization Administrator role.<br>
    A workaround to this is to assign the role to the applicable user  in Policy Manager. You could also add the Business Administrator group using  the procedure below, so that all Business Admin users would have this  permission. </p>
  <h5>To assign the Organization Administrator role in Policy Manager</h5>
  <ul>
    <li>Log in to Policy Manager and click the <strong>Workbench</strong> tab.</li>
    <li>On the left, select your organization, and then  on the right, click the <strong>Security</strong> tab.</li>
    <li>Find the Organization Administrator role, as  shown below, and then click <strong>Manage Role</strong>.</li>
    <li>In the <strong>Object  Based Security Role</strong> window, locate the user or user group by choosing  settings in the search boxes; for example, choose Match Type of <strong>Contains</strong>, enter a value for the  username, specify the domain, specify Users or User Groups, and click <strong>Search</strong>.</li>
    <li>Assign  the user or user group to the role and click <strong>Apply</strong>.</li>
  </ul>
  <p class="supID-from-word"> LM-21443</p>
  <h3 id="upgrade-detail">Upgrade  Instructions: Detail</h3>
  <p>This section includes additional information  relating to your upgrade, including:</p>
  <ul>
    <li><a href="#preupgrade"> Pre-Upgrade Task for upgrades from 8.0.5 or earlier</a></li>
    <li> <a href="#postupgrade">Post-Upgrade Task for upgrades to 8.2.10</a>  </li>
  </ul>
  <ul>
    <li><a href="#amqp-virtual-host">AMQP Virtual Host  Reconfiguration</a></li>
  </ul>
  <h4 id="preupgrade">Pre-Upgrade Task  for upgrades from 8.0.5 or earlier</h4>
  <p>If you&rsquo;re upgrading from version 8.0.5 or an earlier version,  you&rsquo;ll need to completely uninstall a specific bundle, and then remove the  OAuth folder, before proceeding with your upgrade.<br>
    Follow this procedure on all Policy Manager containers with  Community Manager, or any Community Manager add-on features, installed.<br>
    The steps are:</p>
  <ul>
    <li>Manually  uninstall the com.soa.oauth.interfaces bundle: see <a href="#uninstallbundle">To uninstall the com.soa.oauth.interfaces bundle</a> below.</li>
    <li>For  any version 8.0.5 or older, remove the lib/oauth/{VersionID} subfolder. If  there are subfolders for more than one version, delete any that are for version  8.0.5 or older.</li>
    <li>Stop  the container.</li>
    <li>Perform  the update (using the new platform version and, as always, making sure you  delete the configurator&rsquo;s cache folder first).</li>
    <li>Start  the container.</li>
  </ul>
  <p class="Note"><strong>Note</strong>: For full upgrade  instructions, including steps 3–5 above, see <a href="http://docs.akana.com/ag/assets/AAP_80_82_Upgrade_Guide.pdf">http://docs.akana.com/ag/assets/AAP_80_82_Upgrade_Guide.pdf</a>.  Complete steps 1 and 2 above before following the upgrade instructions.</p>
  <h5 id="uninstallbundle">To uninstall the com.soa.oauth.interfaces bundle</h5>
  <ol>
    <li>Identify  the ID of the <strong>com.soa.oauth.interfaces</strong> bundle:</li>
    <ul>
      <li>Log  in to the Akana Administration Console for the container.</li>
      <li>Click  the <strong>Installed Features</strong> tab.</li>
      <li>From  the drop-down menu at the top left, choose <strong>Bundle</strong>,  as shown below.</li>
      <img src="img/system-bundle.jpg" width="135" height="65" alt=""/>
      <li>Look  for the <strong>com.soa.oauth.interfaces</strong> bundle.</li>
      <li>Note  the ID of the bundle (in the Bundle ID column).</li>
    </ul>
    <li>Open  the shell or command prompt that you use to start the container.</li>
    <li>Run  the following command to uninstall the bundle:</li>
    <p class="code">uninstall  {bundleID}</p>
    <li>Repeat  Steps 1–3 for any additional containers that have Policy Manager plus any  Community Manager features installed.</li>
  </ol>
  <p>Once these steps are complete, proceed with the standard upgrade  process.</p>
  <h4 id="postupgrade">Post-Upgrade  Task for upgrades to 8.2.10</h4>
  <p>If you&rsquo;re upgrading from any previous version to version 8.2.10, you&rsquo;ll  need to complete the Provisioning and Upgrade CM Models tasks as part of the upgrade  process to implement the correction to the default settings for the <strong>CorsAllowAll</strong> policy.<br>
    Make sure the below steps are included in your upgrade  process:</p>
  <ol>
    <li>In  the Akana Administration Console, click the <strong>Configuration</strong> tab.</li>
    <li>In  the <strong>Configuration Actions</strong> section,  choose the Provisioning configuration action. You&rsquo;ll be prompted for any input  needed to complete the provisioning step.</li>
    <li>Repeat  as needed for additional containers.</li>
    <li>Stop  and restart all containers.</li>
    <li>Complete  the Upgrade CM Models post-upgrade task:</li>
    <ul>
      <li>In  the Akana Administration Console, on the <strong>Configuration</strong> tab, under <strong>Configuration Action</strong>,  choose <strong>Upgrade CM Models</strong>.</li>
      <li>When  done, click <strong>Close</strong>.</li>
    </ul>
  </ol>
  <h4 id="amqp-virtual-host">AMQP Virtual Host Reconfiguration</h4>
  <p>In 8.2.6, support for AMQP virtual hosts that did not have a  leading &lsquo;/&rsquo; was added. Unfortunately, as a result of adding this support, AMQP  virtual hosts created prior to 8.2.6 will now no longer function correctly in  the Network Director. This includes virtual hosts defined in AMQP listeners as  well as virtual hosts defined for AMQP physical services. These virtual hosts  will have to be corrected by manually reentering their values in the Policy  Manager Console. The previous values are still supported, just that they will  need to be re-saved.</p


  <p>&nbsp; </p


  
  
  <hr>
  <p class="centered">&nbsp;</p>
  <h5 id="trademarks">Trademarks</h5>
  <p class="small">All product and company names herein may be trademarks  of their registered owners. <br>
    Akana, Akana Platform, Akana API Platform, SOA  Software, Community Manager, API Gateway, Lifecycle Manager, OAuth Server,  Policy Manager, and Cloud Integration Gateway are trademarks of Rogue Wave  Software, Inc.</p>
  <p class="small"><a href="http://www.akana.com">www.akana.com</a></p>
  <p class="small"><a href="mailto:info@akana.com">info@akana.com</a></p>
  <p class="small">www.roguewave.com</p>
  <h5 id="disclaimer"> Disclaimer</h5>
  <p class="small">The information provided in this document is provided  &ldquo;AS IS&rdquo; WITHOUT ANY WARRANTIES OF ANY KIND INCLUDING WARRANTIES OF  MERCHANTABILITY, FITNESS FOR A PURPOSE, OR NON-INFRINGEMENT OF INTELLECTUAL  PROPERTY. Akana may make changes to this document at any time without notice. All  comparisons, functionalities and measures as related to similar products and  services offered by other vendors are based on Akana&rsquo;s internal assessment  and/or publicly available information of Akana and other vendor product  features, unless otherwise specifically stated. Reliance by you on these  assessments / comparative assessments is to be made solely on your own  discretion and at your own risk. The content of this document may be out of  date, and Akana makes no commitment to update this content. This document may  refer to products, programs or services that are not available in your country.  Consult your local Akana business contact for information regarding the  products, programs and services that may be available to you. Applicable law  may not allow the exclusion of implied warranties, so the above exclusion may  not apply to you.</p>
  <p class="centered">&nbsp;</p>
</div>	
</div>
</body>
</html>
