---
layout: page
title: Using GraphQL with the Akana API Platform
description: Provides information about Akana support of GraphQL, including installing, configuring, and using GraphQL APIs.
product: sp
category: gs
weight: 05
sub-nav-class: GraphQL
type: page
nav-title: GraphQL
---
<h1 id="top">Using GraphQL with the Akana API Platform</h1>
<p>Provides information about Akana support of GraphQL, including installing, configuring, and using GraphQL APIs.</p>
<h4 class="stamp">Valid in Version: 2021.1.0 and later</h4>
<hr class="divide_hr" />



<h2 style="color: gray;">Table of Contents</h2>


<h4 style="color: gray;"><a href="#h_overview">Overview Information</a></h4>
<ul class="table_of_contents">
	<li><a href="#graphql_define">What is GraphQL?</a></li>
	<li><a href="#graphql_platform_support">Akana API Platform support of GraphQL</a></li>
</ul>


<h4 style="color: gray;"><a href="#h_config">Installing and Configuring Akana GraphQL Support</a></h4>
<ul class="table_of_contents">
	<li><a href="#graphql_install">Installing GraphQL</a></li>
	<li><a href="#graphql_config">Configuring GraphQL</a></li>
	<li><a href="#using_graphql_apis">Using GraphQL APIs</a></li>
	<li><a href="#graphql_security">Security with GraphQL APIs</a></li>
</ul>


<h4 style="color: gray;"><a href="#h_reference">Reference Information</a></h4>
<ul class="table_of_contents">
	<li><a href="#graphql_exchange_properties">Exchange Properties</a></li>
</ul>



<hr class="divide_hr" />
<h2 id="h_overview">Overview Information</h2>




<h2 id="graphql_define">What is GraphQL?</h2>
<p>GraphQL is a query language for APIs, that allows clients to be very specific about the information they are requesting. This facilitates streamlined processing. For example, two benefits:</p>
<ul>
	<li>The client can request information in a single GraphQL request that might previously have required multiple traditional REST API requests.</li>
	<li>A traditional API response probably includes, as well as the information that the client needs, additional information that might not be useful. Using GraphQL, the client can request the specific fields/number of values needed, and the GraphQL endpoint returns only that information.</li>
</ul>
<p>The Akana Platform supports GraphQL from version 2021.1.0 onwards. The API must proxy an existing GraphQL service.</p>
<p>Additional resources for  information about GraphQL:</p>
<ul>
	<li><a href="https://graphql.org/" title="Link to graphql.org" target="_blank">https://graphql.org/</a></li>
	<li><a href="https://en.wikipedia.org/wiki/GraphQL" title="Link to Wikipedia article about GraphQL" target="_blank">https://en.wikipedia.org/wiki/GraphQL</a></li>
</ul>
<p><a href="#top">Back to top</a></p>



<h2 id="graphql_platform_support">Akana API Platform support of GraphQL</a></h2>
<p>In version 2021.1.0, Akana supports the following GraphQL operations:</p>
<ul>
	<li>Query</li>
	<li>Mutation</li>
</ul>
<p>Subscriptions are not supported in version 2021.1.0.</p>
<p><a href="#top">Back to top</a></p>




<hr class="divide_hr" />
<h2 id="h_config">Installing and Configuring Akana GraphQL Support</h2>




<h2 id="graphql_install">Installing GraphQL</h2>
<p>If you want to support GraphQL APIs in your Akana API Platform, you'll need to install the following features:</p>
<ul>
	<li>In the container running the Policy Manager Management Console: <strong>GraphQL Management Support</strong></li>
	<li>In the container running the Network Director: <strong>GraphQL Runtime Support</strong></li>
</ul>
<p>For more information, refer to the installation doc. {<span class="apidoc_red">link TBD</span>}.</p>
<p>Once you've completed your installation, you can create your first GraphQL API. However, you might want to modify the configuration settings. See <a href="#graphql_config">Configuring GraphQL</a> below.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="graphql_config">Configuring GraphQL</h2>
<p>The Akana Administration Console includes the following configuration settings for GraphQL, in the <strong>com.akana.graphql.binding</strong> configuration category:</p>
<dl>
	<dt>graphql.in.binding.component.graphqlPayloadMaxSizeBytes</dt>
	<dd>Sets a maximum message size, in bytes, for a GraphQL request, as a security precaution.</dd>
<dd>Default value: 524288 (512 KB)</dd>
<dt>graphql.in.binding.component.virtualhostEndpointSelectionEnabled</dt>
	<dd>Enables/disables virtual host handling when selecting endpoints in GraphQL binding.</dd>
<dd>Default value: <strong>true</strong></dd>
</dl>
<p><a href="#top">Back to top</a></p>



<h2 id="using_graphql_apis">Using GraphQL APIs</h2>
<p>To use GraphQL APIs, first add the API in the Community Manager developer portal as usual.</p>
<p>Choose the <strong>I have an OAS3/Swagger/RAML/WSDL/WADL/GraphQL document</strong> option, and upload the GraphQL API description file.</p>
<p>For details, see <a href="../../cm/learnmore/apiadmin_api_add.htm">Adding an API</a> in the developer portal help.</p>
<p>Notes:</p>
<ul>
	<li>Subscriptions are not supported in 2021.1.0. If the schema includes a subscription, it will be ignored. {<span class="apidoc_red">MDL/MM/AB query 01: Pls confirm that the subscription is ignored, not the entire schema? MDL response: I think so, but I also feel like MM told me to reject SDLs if it include a Subscription so let's reconnect on this with him and AB later.</span>}</li>
	<li>You must provide the GraphQL endpoint to proxy.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<h2 id="graphql_security">Security with GraphQL APIs</h2>
<p>The Akana Platform allows you to configure access to operations using licensing or OAuth, for increased security.</p>
<p>In addition, you can disallow access to mutation operations. Access is controlled by licensing, or by OAuth scopes. Query/Mutation operations are restricted in the Community Manager developer portal in the same way as REST or SOAP APIs.</p>
<p>Akana offers a rich set of security features that can be applied to any API on the Akana API Platform in a number of ways: for example, through policies attached to the service, configuration settings, and custom workflow.</p>
<p>Additional security settings specific to GraphQL are also available: see <a href="#graphql_config">Configuring GraphQL</a> above.</p>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />
<h2 id="h_reference">Reference Information</h2>



<h2 id="graphql_exchange_properties">Exchange Properties</h2>
<p>If you have custom scripting or custom workflow in place, you  can use exchange properties to manipulate how GraphQL requests will be processed. The following properties are available.</p>
<p>{<span class="apidoc_red">MDL query 02: What's a definition of Exchange Properties? Is it something specific to GraphQL? I couldn't find it defined</span>.}</p>
<dl>
	<dt>com.soa.message.EXCHANGE_STARTED_DATE</dt>
	<dd>The start date. It can be read for activities such as logging time delays. Do not change this value.</dd>
	<dd>Data type: java.util.Date.</dd>
<!--	<dt>com.akana.graphql.jbi.component.graphqlPayloadMaxSizeBytes</dt>
<dd>{<span class="apidoc_red">MDL 9/22/21 (email): Exclude, as modifying this will have no impact.</span>}</dd>-->

	<!--<dt>com.akana.graphql.jbi.component.virtualhostEndpointSelectionEnabled</dt>
<dd>{<span class="apidoc_red">MDL 9/22/21 (email): Exclude, as modifying this will have no impact.</span>}</dd>-->

<!--	<dt>com.akana.graphql.jbi.component.validateGraphqlRequestAgainstSchemaGlobally</dt>
<dd>MDL 9/22/21 (email): Removed</dd>-->

<!--	<dtcom.akana.graphql.jbi.component.allowMutationOverHttpGet</dt>
	<dd>{<span class="apidoc_red">MDL 9/22/21 (email): Exclude, Intended to be hidden, we reject Mutations that are over HTTP GET by default. If a customer complains weâ€™ll tell them about this property</span>}</dd>--><dd>

<dt>http.requested.url</dt>
<dd>Target endpoint to send request to. Orchestration workflows can adjust this value to control where incoming requests are forwarded.</dd>

<dt>http.version</dt>
<dd>The HTTP version to use for downstream service requests. 1.0, 1.1, or 2.0.</dd>

<dt>http.method</dt>
<dd>The HTTP method to use when forwarding requests to downstream services. GET or POST are excepted. Defaults to the incoming HTTP method.</dd>
</dl>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />



<h2 id="related_topics">Related Topics</h2>
<div class="relatedlinks" id="install">
<ul>
	<li><a href="../upgrade/upgrading_akana_api_platform_all.htm">Upgrading the Akana API Platform (all versions)</a></li>
	<li><a href="../upgrade/upgrading_min_downtime.htm">Use Case: Upgrading with Minimum Downtime</a></li>
	<li><a href="../upgrade/upgrading_micro.htm">Minor-Version Update Notes</a></li>
</ul>
<ul>
	<li><a href="../platform_install/installing_akana_api_platform_all.htm">Installing the Akana API Platform (all versions)</a></li>
	<li><a href="../platform_install/implementation_planning.htm">Planning Your Implementation</a></li>
	<li><a href="../platform_install/install_cm_jython_script.htm">Community Manager Tenant Installation Jython Script</a></li>
	<li><a href="../elasticsearch/install_es_config.htm">Installing and Configuring Elasticsearch</a></li>
	<li><a href="../elasticsearch/install_es_secure_tc.htm">Configuring Elasticsearch with Security</a></li>
</ul></div>