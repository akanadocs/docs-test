---
layout: page
title: Using GraphQL with the Akana API Platform
description:Provides information about Akana support of GraphQL, including installing, configuring, and using GraphQL APIs.
product: sp
category: gs
weight: 05
sub-nav-class: GraphQL
type: page
nav-title: GraphQL
---
<h1 id="top">Using GraphQL with the Akana API Platform</h1>
<p>Provides information about Akana support of GraphQL, including installing, configuring, and using GraphQL APIs.</p>
<h4 class="stamp">Valid in Version: 2021.1.0 and later</h4>
<hr class="divide_hr" />



<h2 style="color: gray;">Table of Contents</h2>


<h4 style="color: gray;"><a href="#h_overview">Overview Information</a></h4>
<ul class="table_of_contents">
	<li><a href="#graphql_define">What is GraphQL?</a></li>
	<li><a href="#graphql_platform_support">Akana API Platform support of GraphQL</a></li>
</ul>


<h4 style="color: gray;"><a href="#h_config">Installing and Configuring Akana GraphQL Support</a></h4>
<ul class="table_of_contents">
	<li><a href="#graphql_install">Installing GraphQL</a></li>
	<li><a href="#graphql_config">Configuring GraphQL</a></li>
	<li><a href="#using_graphql_apis">Using GraphQL APIs</a></li>
	<li><a href="#graphql_security">Security with GraphQL APIs</a></li>
</ul>


<h4 style="color: gray;"><a href="#h_reference">Reference Information</a></h4>
<ul class="table_of_contents">
	<li><a href="#graphql_exchange_properties">Exchange Properties</a></li>
</ul>



<hr class="divide_hr" />
<h2 id="h_overview">Overview Information</h2>




<h2 id="graphql_define">What is GraphQL?</h2>
<p>GraphQL is a query language for APIs, that allows clients to be very specific about the information they are requesting. This facilitates streamlined processing. For example, two benefits:</p>
<ul>
	<li>The client can request information in a single GraphQL request that might previously have required multiple traditional REST API requests.</li>
	<li>A traditional API response probably includes, as well as the information that the client needs, additional information that might not be useful. Using GraphQL, the client can request the specific fields/number of values needed, and the GraphQL endpoint returns only that information.</li>
</ul>
<p>The Akana Platform supports GraphQL from version 2021.1.0 onwards. The API must already xxx.</p>
<p>Additional resources for  information about GraphQL:</p>
<ul>
	<li><a href="https://graphql.org/" title="Link to graphql.org" target="_blank">https://graphql.org/</a></li>
	<li><a href="https://en.wikipedia.org/wiki/GraphQL" title="Link to Wikipedia article about GraphQL" target="_blank">https://en.wikipedia.org/wiki/GraphQL</a></li>
</ul>
<p><a href="#top">Back to top</a></p>



<h2 id="graphql_platform_support">Akana API Platform support of GraphQL</a></h2>
<p>In version 2021.1.0, Akana supports GraphQL query operations.</p>
<p>Mutation operations will be supported in a later release..</p>
<p><a href="#top">Back to top</a></p>




<hr class="divide_hr" />
<h2 id="h_config">Installing and Configuring Akana GraphQL Support</h2>




<h2 id="graphql_install">Installing GraphQL</h2>
<p>If you want to support GraphQL APIs in your Akana API Platform, you'll need to install the following feature options:</p>
<ul>
	<li>In the container running the Policy Manager Management Console: install the <strong>GraphQL Management Support</strong> feature</li>
	<li>In the container running the Network Director: install the <strong>GraphQL Runtime Support</strong> feature</li>
</ul>
<p>For more information, refer to the installation doc. {<span class="apidoc_red">link TBD</span>}.</p>
<p>Once you've completed your installation, you can create your first GraphQL API. However, you might want to modify the configuration settings. See <a href="#graphql_config">Configuring GraphQL</a> below.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="graphql_config">Configuring GraphQL</h2>
<p>The Akana Administration Console includes the following configuration settings for GraphQL, in the <strong>com.akana.graphql.binding</strong> configuration category:</p>
<!--<p>{<span class="apidoc_red">Per MDL email 9/10 these two only will be in for 2021.1.0</span>}</p>-->
<dl>
	<dt>graphql.in.binding.component.graphqlPayloadMaxSizeBytes</dt>
	<dd>Sets a maximum message size, in bytes, for a GraphQL request, as a security precaution.</dd>
	<dt>graphql.in.binding.component.virtualhostEndpointSelectionEnabled</dt>
	<dd>Enables/disables virtual host handling when selecting endpoints in GraphQL binding.</dd>
</dl>
<p><a href="#top">Back to top</a></p>



<h2 id="using_graphql_apis">Using GraphQL APIs</h2>
<p>To use GraphQL APIs, first add the API in the Community Manager developer portal as usual.</p>
<p>Choose the <strong>I have an OAS3/Swagger/RAML/WSDL/WADL/GraphQL document</strong> option, and upload the GraphQL API description file.</p>
<p>For details, see <a href="../../cm/learnmore/apiadmin_api_add.htm">Adding an API</a> in the developer portal help.</p>
<p>{<span class="apidoc_red">MDL question do we have a limitation WRT mutations that we only do GETs?</span>}</p>
<p>xxx</p>
<p><a href="#top">Back to top</a></p>



<h2 id="graphql_security">Security with GraphQL APIs</h2>
<p>The Akana Platform allows you to configure access to operations using licensing or OAuth, for increased security.</p>
<p>In addition, you can disallow access to mutation operations {<span class="apidoc_red">How does this work -- a) anyway, and b) since we don't support mutation operations?</span>}</p>
<p>Akana offers a rich set of security features that can be applied to any API on the Akana API Platform in a number of ways: for example, through policies attached to the service, configuration settings, and custom workflow.</p>
<p>Additional security settings specific to GraphQL are also available: see <a href="#graphql_config">Configuring GraphQL</a> above.</p>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />
<h2 id="h_reference">Reference Information</h2>



<h2 id="graphql_exchange_properties">Exchange Properties</h2>
<p>com.soa.message.EXCHANGE_STARTED_DATE {<span class="apidoc_red">Note 9/21/21: This is listed on the Confluence page and the properties below. Not sure about the relationship between this line item and the properties, b) what to say about the properties. Have a stab and then get MDL input</span>} {<span class="apidoc_red">what's a definition of Exchange Properties? Is it something specific to GraphQL? I couldn't find it defined</span>.}</p>
<p>Exchange properties are not displayed anywhere. If someone wrote a script policy, they can change these values through the workflow.</p>
<p>Users can manipulate how GraphQL requests will be processed if they were developing their own orchestration or workflow. These are things that were not documented in the past but people used so it was a challenge for them to do these types of scripting changes.</p>
<p>But we are not officially suporting orchestration. He says we put the exchange properties and just generically say what they are but not explain how to use them. {TBD}</p>
<p>xxx</p>
<dl>
<dt>com.akana.graphql.jbi.component.graphqlPayloadMaxSizeBytes</dt>
<dd>xxx</dd>

<dt>com.akana.graphql.jbi.component.virtualhostEndpointSelectionEnabled</dt>
<dd>xxx</dd>

<dt>com.akana.graphql.jbi.component.validateGraphqlRequestAgainstSchemaGlobally</dt>
<dd>xxx</dd>

<dt>com.akana.graphql.jbi.component.allowMutationOverHttpGet</dt>
<dd>xxx</dd>

<dt>http.requested.url -> Target endpoint to send request to</dt>
<dd>xxx</dd>

<dt>http.version</dt>
<dd>xxx</dd>

<dt>http.method</dt>
<dd>xxx</dd>
</dl>

<p>xxx</p>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />



<h2 id="related_topics">Related Topics</h2>
<div class="relatedlinks" id="install">
<ul>
	<li><a href="../upgrade/upgrading_akana_api_platform_all.htm">Upgrading the Akana API Platform (all versions)</a></li>
	<li><a href="../upgrade/upgrading_min_downtime.htm">Use Case: Upgrading with Minimum Downtime</a></li>
	<li><a href="../upgrade/upgrading_micro.htm">Minor-Version Update Notes</a></li>
</ul>
<ul>
	<li><a href="../platform_install/installing_akana_api_platform_all.htm">Installing the Akana API Platform (all versions)</a></li>
	<li><a href="../platform_install/implementation_planning.htm">Planning Your Implementation</a></li>
	<li><a href="../platform_install/install_cm_jython_script.htm">Community Manager Tenant Installation Jython Script</a></li>
	<li><a href="../elasticsearch/install_es_config.htm">Installing and Configuring Elasticsearch</a></li>
	<li><a href="../elasticsearch/install_es_secure_tc.htm">Configuring Elasticsearch with Security</a></li>
</ul></div>