---
layout: page
title: Using the MongoDB Support Feature
description: Learn how to redirect the collection of metrics and audit data from the designated Policy Manager database to the MongoDB database.
product: sp
category: gs
weight: 03
sub-nav-class: MongoDB
type: page
nav-title: Using the MongoDB Support Feature
---
<h1 id="top">Using the MongoDB Support Feature</h1>
<p>Learn how to redirect the collection of metrics and audit data from the designated Policy Manager Database to the MongoDB Database.</p>
<hr class="divide_hr" />



<h2 style="color: gray;">Table of Contents</h2>
<ol class="table_of_contents">
	<li><a href="#introduction">Introduction</a></li>
	<li><a href="#rev_setup_guide_env">Envision Only: Review MongoDB Setup Guide</a></li>
	<li><a href="#step_1_download_and_install_mongodb">Step 1: Download and Install MongoDB</a></li>
	<li><a href="#step_2_create_mongodb_data_folder">Step 2: Create MongoDB Data Folder</a></li>
	<li><a href="#step_3_start_mongob">Step 3: Start MongoDB</a></li>
	<li><a href="#step_4_configure_mongodb_support_plugin">Step 4: Configure MongoDB Support Plug-in</a></li>
</ol>
<hr class="divide_hr" />



<h2 id="introduction">Introduction</h2>
<p>The MongoDB Support plug-in redirects the collection of metrics and audit data from the designated Policy Manager Database (RDBMS) to the MongoDB database.</p>
<p>Use of this plug-in requires installation of MongoDB.</p>
<p>Redirecting the capture of metrics and auditing data can help to optimize performance by reducing the toll on your designated RDBMS. This is because metrics and roll-up data processes will now occur in MongoDB which will increase performance in the container by reducing query times and CPU/memory overhead.</p>
<ul>
	<li>This plug-in can be used exclusively with the Policy Manager product or in combination with Community Manager and/or Akana Envision.</li>
	<li>Data stored includes Policy Manager Alerts, and all metrics and auditing log data that has a write operation.</li>
	<li>Metrics and audit data collected from Network Director will be stored directly in MongoDB and will not be stored in the designated Policy Manager database (RDBMS). This would be data relating to how a particular API is performing; for example, response times and error rates.</li>
	<li>Alert and audit trail data would be information such as when a specific service changed, who changed it, and the result of the change.</li>
	<li>Audit data can be used both in Community Manager, Policy Manager, and Envision for various charts by configuring a Business Metrics Policy that allows you to configure what focus of data to extract from the payload.</li>
	<li>In Policy Manager, logging data for historical charts and logs that can be viewed via the <strong>Monitoring</strong> tab in Services, Containers, and Contracts will now be fetched from MongoDB.</li>
	<li>The logging data stored in MongoDB can also be used in your own third-party reporting tools.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<h2 id="rev_setup_guide_env">Envision Only: Review MongoDB Setup Guide</h2>
<p>If you're using Envision, before starting, review the information in <a href="../../ev/envision_install/ev_mongodb_setup_guide.htm">MongoDB Setup Guide for Akana Envision</a>.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="step_1_download_and_install_mongodb">Step 1: Download and Install MongoDB</h2>
<p>Use of this plug-in requires installation of MongoDB. If you have already installed and started MongoDB skip to Step 4.</p>
<ol>
	<li>Go to https://www.mongodb.com and download the MongoDB file for your platform. Windows 64-bit (MSI), Linux 64-bit (TGZ), and Solaris 64-bit (TGZ) are supported. If you are on a Mac you can install Mongo with homebrew using &quot;brew install mongo.&quot;</li>
	<li>Install MongoDB on your platform.</li>
</ol>
<p><strong>Note</strong>: These instructions provide a basic MongoDB installation approach. For information on installation instructions and shutdown procedures for your specific deployment, refer to the MongoDB documentation, available at <a href="https://docs.mongodb.com/" title="Link to MongoDB website" target="_blank">https://docs.mongodb.com</a>.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="step_2_create_mongodb_data_folder">Step 2: Create MongoDB Data Folder</h2>
<ol>
	<li>Create a MongoDB data folder. The default is <strong>/data/db</strong>. If you prefer to use a different location, use <strong>--dbpath</strong>.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<h2 id="step_3_start_mongob">Step 3: Start MongoDB</h2>
<ol>
	<li>Navigate to the MongoDB installation directory. For example: <strong>/MongoDB/Server/3.6/bin</strong>.</li>
	<li>Enter <strong>mongod</strong>.</li>
	<li>If MongoDB successfully starts, your command window displays the message <strong>waiting for connections</strong>, followed by the port number.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<h2 id="step_4_configure_mongodb_support_plugin">Step 4: Configure MongoDB Support Plug-in</h2>
<ol>
	<li>Log in to the <strong>Akana Administration Console</strong> of the target installation container instance using your default credentials.</li>
	<li>On the <strong>Available Features</strong> screen, from the <strong>Filter</strong> menu, select <strong>Plug-ins</strong>.</li>
	<li>Select the <strong>MongoDB Support</strong> plug-in and click <strong>Install Feature</strong>.</li>
	<li>After the installation is complete, click <strong>Configure</strong> and then click <strong>Continue</strong>.</li>
	<li>On the <strong>Configure MongoDB Database</strong> screen, specify the host name and port where the MongoDB database is installed in the MongoClientURI field. The default MongoDB port is 27017.</li>
	<li>Click <strong>Finish</strong>, and then click <strong>OK</strong> to restart the container. The URI is assigned and the system automatically configures seed data and adds schemas.</li>
	</ol>
<p>After the installation is complete, you can manage (install / uninstall) datasets via the <strong>Configuration</strong> tab by selecting <strong>Configure MongoDB Database</strong>.</p>
<p><a href="#top">Back to top</a></p>