---
layout: page
title: Configuration Actions
description: Learn about configuration actions available in the Akana Administration Console.
product: sp
category: learn
weight: 06
sub-nav-class: Akana Admin Console
type: page
nav-title: Configuration Actions
---
<h1 id="top">Using Configuration Actions</h1>
<p>Learn about configuration actions available in the Akana Administration Console.</p>
<hr class="divide_hr" />



<h2 style="color: gray;">Table of Contents</h2>
<ol class="table_of_contents">
	<li><a href="#introduction">Introduction</a></li>
	<li><a href="#defaultactions">Default Configuration Actions</a></li>
	<li><a href="#pmactions">Policy Manager Configuration Actions</a></li>
	<li><a href="#config_actions_all">Configuration Actions</a>
		<ul>
			<li><a href="#aac_ca_adddatabase">Add Database</a></li>
			<li><a href="#aac_ca_config_es_embedded_node">Configure Elasticsearch Embedded Node</a> (versions prior to 2018.0.0 only)</li>
			<li><a href="#aac_ca_config_es_global_config">Configure Elasticsearch Global Configuration</a></li>
			<li><a href="#aac_ca_configure_ev_timezone">Configure Envision TimeZone (Envision only)</a></li>
			<li><a href="#aac_ca_configure_metadata">Configure WS-MetadataExchange Options</a></li>
			<li><a href="#aac_ca_configure_ldap_auth_domain">Configure LDAP Authentication Domain (Envision only)</a></li>
			<li><a href="#aac_ca_configure_mongodb_database">Configure MongoDB Database (Envision only)</a></li>
			<li><a href="#aac_ca_delete_es_index">Delete Elasticsearch Index</a></li>
			<li><a href="#aac_ca_forcerefresh">Force Configuration Refresh</a></li>
			<li><a href="#aac_ca_initialize_repo_database">Initialize Repository Database</a></li>
			<li><a href="#aac_ca_install_config_indexes_in_mongodb">Install Configuration Data and Indexes in MongoDB</a></li>
			<li><a href="#aac_ca_manageadmin">Manage Admin Console Administrator</a></li>
			<li><a href="#aac_ca_managepkikeys">Manage PKI Keys</a></li>
			<li><a href="#aac_ca_manageschemas">Manage Schemas</a></li>
			<li><a href="#aac_ca_migrate_oauth_data_to_mongodb">Migrate OAuth Data to MongoDB</a></li>
			<li><a href="#aac_ca_provisioning">Provisioning</a></li>
			<li><a href="#aac_ca_rebuild_cm_styles">Rebuild CM Styles</a></li>
			<li><a href="#aac_ca_set_lm_repo_password">Set Lifecycle Repository Password</a></li>
			<li><a href="#aac_ca_set_topology_api_credentials">Set Topology API Credentials</a></li>
			<li><a href="#aac_ca_synch_lm_data">Synchronize Lifecycle Manager Data</a></li>
			<li><a href="#aac_ca_update_cm_api">Update CM API</a></li>
			<li><a href="#aac_ca_update_oauth_api">Update OAuth API</a></li>
			<li><a href="#aac_ca_upgrade_cm_models">Upgrade CM Models</a></li>
			<li><a href="#aac_ca_upgrade_database_82">Upgrade Database Objects to 8.2 Model</a> (when <strong>Akana PM 8.2 Upgrade</strong> tool is installed)</li>
			<li><a href="#aac_ca_upgrade_database_84">Upgrade Database Objects to 8.4 Model</a> (when <strong>Akana 8.2 to 8.4 model upgrade</strong> tool is installed)</li>
			<li><a href="#aac_ca_upgrade_policies_contracts">Upgrade Policies and Contracts</a> (when <strong>Akana PM 7.2 Upgrade</strong> tool is installed)</li>
			<li><a href="#aac_ca_upgrade_sla_policies">Upgrade SLA policies and Service Document Descriptors</a> (when <strong>Akana PM 8.0 Upgrade</strong> tool is installed)</li>
		</ul>
	</li>
</ol>
<hr class="divide_hr" />



<h2 id="introduction">Introduction</h2>
<p>This topic provides a summary of the configuration actions available in the Akana Administration Console (<strong>Configuration</strong> &gt; <strong>Configuration Actions</strong>).</p>
<p>Some of these actions are required as part of installation and/or upgrade; some are actions that you might run in specific circumstances, as explained below.</p>
<p>Some of the configuration actions are only available if a specific product is installed. See notes for specific configuration actions.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="defaultactions">Default Installation Configuration Actions</h2>
<p>At minimum, a container instance includes the following default configuration actions:</p>
<p><img src="images/ac_config_actions_default.jpg" alt="Default configuration actions" /></p>
<p>For information on these tasks, refer to:</p>
<ul>
	<li><a href="#aac_ca_manageadmin">Manage Admin Console Administrator</a></li>
	<li><a href="#aac_ca_managepkikeys">Manage PKI Keys</a></li>
</ul>
<p><a href="#top">Back to top</a></p>



<h2 id="pmactions">Policy Manager Configuration Actions</h2>
<p>The following configuration actions are added to the <strong>Configuration Actions</strong> list as part of the <strong>Policy Manager Services</strong> feature installation.</p>
<p><img src="images/ac_config_actions_pm.jpg" alt="" /></p>
<p>For information on these tasks, refer to:</p>
<ul>
	<li><a href="#aac_ca_adddatabase">Add Database</a></li>
	<li><a href="#aac_ca_configure_metadata">Configure WS-MetadataExchange Options</a></li>
	<li><a href="#aac_ca_forcerefresh">Force Configuration Refresh</a></li>
	<li><a href="#aac_ca_manageadmin">Manage Admin Console Administrator</a> (default action)</li>
	<li><a href="#aac_ca_managepkikeys">Manage PKI Keys</a> (default action)</li>
	<li><a href="#aac_ca_manageschemas">Manage Schemas</a></li>
</ul>
<p><a href="#top">Back to top</a></p>



<h2 id="config_actions_all">Configuration Actions</h2>
<table cellspacing="0px" class="doctable">
<thead>
	<tr>
		<th>Configuration Actions list</th>
		<th>For information on these tasks, refer to:</th>
	</tr>
</thead>
<tbody>
	<tr>
		<td><img src="images/ac_config_actions_full_list.jpg" alt="Full list of configuration actions" /></td>
		<td><ul>
			<li><a href="#aac_ca_adddatabase">Add Database</a></li>
			<li><a href="#aac_ca_config_es_embedded_node">Configure Elasticsearch Embedded Node</a> (versions prior to 2018.0.0 only)</li>
			<li><a href="#aac_ca_config_es_global_config">Configure Elasticsearch Global Configuration</a></li>
			<li><a href="#aac_ca_configure_ev_timezone">Configure Envision TimeZone (Envision only)</a></li>
			<li><a href="#aac_ca_configure_metadata">Configure WS-MetadataExchange Options</a></li>
			<li><a href="#aac_ca_delete_es_index">Delete Elasticsearch Index</a></li>
			<li><a href="#aac_ca_forcerefresh">Force Configuration Refresh</a></li>
			<li><a href="#aac_ca_initialize_repo_database">Initialize Repository Database</a></li>
			<li><a href="#aac_ca_manageadmin">Manage Admin Console Administrator</a></li>
			<li><a href="#aac_ca_managepkikeys">Manage PKI Keys</a></li>
			<li><a href="#aac_ca_manageschemas">Manage Schemas</a></li>
			<li><a href="#aac_ca_migrate_oauth_data_to_mongodb">Migrate OAuth Data to MongoDB</a></li>
			<li><a href="#aac_ca_provisioning">Provisioning</a></li>
			<li><a href="#aac_ca_rebuild_cm_styles">Rebuild CM Styles</a></li>
			<li><a href="#aac_ca_set_lm_repo_password">Set Lifecycle Repository Password</a></li>
			<li><a href="#aac_ca_set_topology_api_credentials">Set Topology API Credentials</a></li>
			<li><a href="#aac_ca_synch_lm_data">Synchronize Lifecycle Manager Data</a></li>
			<li><a href="#aac_ca_update_cm_api">Update CM API</a></li>
			<li><a href="#aac_ca_update_oauth_api">Update OAuth API</a></li>
			<li><a href="#aac_ca_upgrade_cm_models">Upgrade CM Models</a></li>
			<li><a href="#aac_ca_upgrade_database_82">Upgrade Database Objects to 8.2 Model</a> (when <strong>Akana PM 8.2 Upgrade</strong> tool is installed)</li>
			<li><a href="#aac_ca_upgrade_database_84">Upgrade Database Objects to 8.4 Model</a> (when <strong>Akana 8.2 to 8.4 model upgrade</strong> tool is installed)</li>
			<li><a href="#aac_ca_upgrade_policies_contracts">Upgrade Policies and Contracts</a> (when <strong>Akana PM 7.2 Upgrade</strong> tool is installed)</li>
			<li><a href="#aac_ca_upgrade_sla_policies">Upgrade SLA policies and Service Document Descriptors</a> (when <strong>Akana PM 8.0 Upgrade</strong> tool is installed)</li>
		</ul></td>
	</tr>
</tbody>
</table>
<p><strong>Note</strong>: Additional options appear depending on additional features that might be installed, such as Envision. The detailed list in this document is alphabetical.</p>
<p><a href="#top">Back to top</a></p>


<h3 id="aac_ca_adddatabase">Add Database</h3>
<p>The <strong>Add Database</strong> configuration option is available:</p>
<ul>
	<li><strong>During Policy Manager installation</strong>: As part of the initial configuration process for the <strong>Policy Manager Services</strong> feature, you'll see the <strong>Configure Database Options Wizard</strong> &gt; <strong>Select Database Option</strong> page.</li>
	<li>In the Akana Administration Console for the container, on the <strong>Configuration Actions</strong> list.</li>
</ul>
<p><img src="images/ac_ca_add_database.jpg" alt="Add Database" /></p>
<p>Use this action to perform the following actions:</p>
<ul>
	<li><strong>Create new database&#8212;</strong>Creates a new Policy Manager database and associated properties based on the selected database type. 
	<p>For Oracle, choose Oracle Service Name (not SID). See <a href="../platform_install/installing_akana_api_platform_v2019.htm#note_oracle_service_name">Use Oracle Service Name, not SID</a> (database notes, installation documentation).</p>
	<p><strong>Note</strong>: If you're using Oracle 18c or later, it's important that you create the database first, and then, in the <strong>Configure Database Options</strong> wizard, choose the <strong>Use Existing Database</strong> option (see <a href="../platform_install/installing_akana_api_platform_v2019.htm#database_creation_oracle_18c">Database creation, Oracle 18c or later</a>).</p>
	</li>
	<li><strong>Use existing database&#8212;</strong>Uses an existing Policy Manager tablespace, and retains all tables created by any previous installation. </li>
	<li><strong>Use JNDI datasource&#8212;</strong>When available, allows you to connect to a database from a server using the datasource name. <strong>Note</strong>: This option is currently unavailable and is for embedded implementations only (versions prior to 2018.0.0 only).</li>
</ul>

<h4>Manually Installed Schemas</h4>
<p>If the database and schemas have been manually installed, or you're setting up a subsequent container in the same installation, or upgrading, choose <strong>Use existing database</strong>. When the <strong>Manage Schemas Wizard</strong> displays, the schemas that were manually installed are displayed in the <strong>Installed Schemas</strong> section. To complete the configuration, click <strong>Finish</strong>.</p>

<h4>Database Configuration Options</h4>
<p>In the <strong>Database Options</strong> section, select a database option and click <strong>Next</strong> to continue. 
A summary of property information is presented below for the <strong>Create new database</strong> and <strong>Use existing database</strong> options.</p>
<p>Select the database type and complete the database configuration.</p>
<table width="60%" cellspacing="0px" class="doctable">
	<thead>
	<tr>
		<th width="25%">Option Name</th>
		<th width="75%">Content</th>
	</tr>
	</thead>
	<tbody>
	<tr>
		<td><strong>Database Details</strong></td>
		<td><p><strong>Database Type</strong>&#8212;Select the database type:</p>
			<ul>
				<li>MS SQL Server</li>
				<li>MySQL</li>
				<li>For Oracle, Oracle SID and Oracle Service Name are offered. Choose Oracle SID.</li>
			</ul>
			<p><strong>Name</strong>&#8212;The database name.</p></td>
	</tr>
	<tr>
		<td><strong>Administrator Details</strong></td>
		<td><p><strong>Admin Username</strong>&#8212;The username for the database administrator.</p>
		<p><strong>Admin Password</strong>&#8212;The password for the database administrator.</p>
		<p><strong>Note</strong>: You must supply the username and password of a user with sufficient privileges to create a new tablespace, such as a DBA.</p></td>
	</tr>
	<tr>
		<td colspan="2"><strong><strong>Database Properties</strong></strong></td>
	</tr>
	<tr>
		<td><strong>MS SQL Server</strong></td>
		<td><p><strong>Hostname</strong>&#8212;The name or IP address of the computer that is hosting the database. Default entry = {computer_name}.</p>
			<p><strong>Port</strong>&#8212;Enter a port number. Port 1433 is the default port assigned in a standard SQL Server installation.</p>
			<p><strong>Named Instance</strong>&#8212;Use this if you've set up separate SQL Server databases and would like to use a specific instance to store Policy Manager data.</p>
			<p><strong>Database</strong>&#8212;The name for the database. For simplicity, it's best to use a short, clear name with no special characters.</p>
			<p><strong>Username</strong>&#8212;Username for database access.</p>
			<p><strong>Password</strong>&#8212;Password for database access.</p>
			<p><strong>Note:</strong> If you are using MSSQL, you'll need to configure an additional quartz trigger property after you configure the database.</p></td>
	</tr>
	<tr>
		<td><strong>MySQL</strong></td>
		<td><p><strong>Hostname</strong>&#8212;Enter the name or IP address of the computer that is hosting the database. Default entry = {computer_name}.</p>
			<p><strong>Port</strong>&#8212;Enter a port number. Port 3306 is the default port assigned in a standard SQL Server installation.</p>
			<p><strong>Database</strong>&#8212;The name for the database. For simplicity, it's best to use a short, clear name with no special characters.</p>
			<p><strong>Username</strong>&#8212;Username for database access.</p>
			<p><strong>Password</strong>&#8212;Password for database access.</p></td>
	</tr>
	<tr>
		<td><strong>Oracle SID</strong></td>
		<td><p>Instead of entering Oracle SID, choose Oracle Service Name.</p></td>
	</tr>
	<tr>
		<td><strong>Oracle Service Name</strong></td>
		<td><p><strong>Username</strong>&#8212;Username for database access.</p>
			<p><strong>Password</strong>&#8212;Password for database access.</p>
			<p><strong>Hostname</strong>&#8212;Enter the name or IP address of the computer that is hosting the database. Default entry = {computer_name}.</p>
			<p><strong>Port</strong>&#8212;Enter a port number. Port 1521 is the default port assigned in a standard Oracle installation.</p>
			<p><strong>Service Name</strong>&#8212;Enter an instance alias.</p>
			<p><strong>Tablespace</strong>&#8212;Enter a valid name for the new tablespace.</p></td>
	</tr>
	<tr>
		<td><strong>Pool Configuration</strong></td>
		<td><p>Choose from the pool configuration values below. Default values represent those used for a typical configuration.</p>
			<ul>
				<li class="apidoctable_ul"><strong>Max Pool Size</strong>&#8212;The maximum number of active connections that can be allocated from this pool at the same time. A negative value indicates that there is no limit. <strong>Default: 30.</strong></li>
				<li class="apidoctable_ul"><strong>Min Pool Size</strong>&#8212;The minimum number of connections that can remain idle in the pool, without extra ones being created. A value of zero (0) indicates that no extra connections will be created. <strong>Default 5.</strong></li>
				<li class="apidoctable_ul"><strong>Max Wait Time</strong>&#8212;The maximum number of milliseconds that the pool will wait (when there are no available connections) for a connection to be returned before throwing an exception. A value of -1 indicates an indefinite wait. <strong>Default 30,000.</strong></li>
				</ul></td>
	</tr>
</tbody>
</table>
<p>For an example of how this task fits into the installation process, see <a href="../platform_install/installing_akana_api_platform_v20202.htm#install_tasks_add_database">Installation wizard: Add Database</a> (installation doc for version 2020.2.x).</p>



<h4 id="database_password_encryption">Database Password Encryption</h4>
<p>Two database connection properties, <strong>encryptValues</strong> and <strong>encryptionMethod</strong>, work together to define how the database connection password is encrypted.</p>
<p><img src="images/ac_cc_com_soa_database_config_encryptionType.jpg" alt="Configuration properties: encryptionType" /></p>
<p>The rules are as follows:</p>
<ul>
	<li>If the <strong>encryptValues</strong> property is defined and set to <strong>false</strong>, the password is stored as plain text. This property is <strong>not</strong> added by default. If you want to use this mode, you must add the property. However, since this leaves the database password unencrypted in the configuration file, this option is not recommended.</li>
	<li>If the <strong>encryptValues</strong> property does not exist, the default value is <strong>true</strong>.</li>
	<li>if the <strong>encryptValues</strong> property is <strong>true</strong> (either not defined, in which case the default is <strong>true</strong>, or defined with a value of <strong>true</strong>) the <strong>encryptionType</strong> field is used. There are two possible values for this field:
		<ul>
			<li>PKI</li>
			<li>SK</li>
		</ul>
	</li>
	<li>If the <strong>encryptValues</strong> property is <strong>true</strong> and the <strong>encryptionType</strong> field is <strong>PKI</strong>, the password field is very long. The value is the RSA-encrypted value of the plain text password, encrypted with the container identity public key. A side-effect of this option is that if someone changes the container identity certificate, the database password field must be changed even when the database connection password did not change. To find the encrypted value of the database password, run the <strong>encryptContainerData</strong> script located in the <strong>scripts</strong> folder. Run this script to find the encrypted password, and then and then copy that encrypted password into the Akana Administration Console to the field for the database password and save.</li>
	<li>If the <strong>encryptValues</strong> property is <strong>true</strong> and the encryptionType is <strong>SK</strong>, this means that a proprietary algorithm is in use for encrypting the database password without using the container identity certificate. The advantage of this option is that if the container identity certificate changes, but there is no change to the database connection password, you don't need to change the database configuration. This option uses a password to save the encrypted password and also uses a <strong>passwordHash</strong> to save the hash of the password. The disadvantage is that there is no way to retrieve the encrypted value and hash of for the password. In this scenario, you could change <strong>encryptionType</strong> to <strong>PKI</strong>. Another option is to change <strong>encryptValues</strong> to <strong>false</strong>, but that is not secure. Another option is to delete the database connection and create a new one using the new password.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_config_es_embedded_node">Configure Elasticsearch Embedded Node</h3>
<h4>(versions prior to 2018.0.0 only)</h4>
<p>If there are two Community Manager containers in your installation, you'll need to install the embedded Elasticsearch feature in both containers, and then configure the feature in both containers.</p>
<p>In this scenario, you'll need to decide whether you want to replicate the index in both containers or have it in only one container. Akana recommends configuring both containers, so that you have a failover for the index data.</p>
<p>For <strong>each</strong> container, you'll need to choose <strong>Configure Elasticsearch Embedded Node</strong> and configure the settings.</p>
<p><img src="images/ac_ca_configure_es_embedded_mode.jpg" alt="Configure Elasticsearch Embedded Node" /></p>
<p>For more information about Elasticsearch, see <a href="../elasticsearch/install_es_config.htm">Installing and Configuring Elasticsearch (2018.0.0)</a>.</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_config_es_global_config">Configure Elasticsearch Global Configuration</h3>
<p>You must install and configure Elasticsearch for the Community Manager developer portal. For full instructions, see <a href="../elasticsearch/install_es_config.htm">Installing and Configuring Elasticsearch (2018.0.0)</a>.</p>
<p>As part of installation or upgrade, you'll need to configure a couple of global settings. For instructions, see <a href="../elasticsearch/install_es_config.htm#config_es_ac">How do I configure Elasticsearch?</a></p>
<p><img src="images/ac_ca_configure_es_global_configuration_2018.jpg" alt="Configure Elasticsearch Global Configuration: Version 2018.0.0" /></p>
<p>For more information about Elasticsearch, see <a href="../elasticsearch/install_es_config.htm">Installing and Configuring Elasticsearch (2018.0.0)</a>.</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_configure_ev_timezone">Configure Envision TimeZone (Envision only)</h3>
<p>The Configure Envision TimeZone task runs the <strong>Configure Envision Global Time Zone Wizard</strong>, as shown below.</p>
<p><img src="images/ac_ca_configure_ev_timezone.png" alt="Configure Envision Global Time Zone wizard" /></p>
<p>For information about this configuration action, refer to the Envision installation doc: <a href="../../ev/envision_install/installing_envision.htm#ca_configure_ev_timezone">Installing Envision Versions 1.2 and later: Configuration Action: Configure Envision Timezone</a>.</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_configure_metadata">Configure WS-MetadataExchange Options</h3>
<p>Connecting to the Metadata Exchange Service enables communication between the current Akana container instance and Policy Manager, to retrieve key information such as service hosting and database details).</p>
<p>The <strong>WS-MetadataExchange Options</strong> task allows you specify the URL of the Policy Manager Metadata Exchange Service.</p>
<p><img src="images/ac_ca_ws_metadataexchange_options.jpg" alt=" Specify Metadata Import Options" /></p>
<p>Specifying the WS-MetadataExchange URL is a required installation task for configuring Network Director.</p>
<p>In Policy Manager, you can find the URL by looking at the Service Descriptor Document of the Metadata Exchange Service. For high availability, you can specify multiple URLs, with a comma separator.</p>
<p>For an example of how this task fits into the installation process, see <a href="../platform_install/installing_akana_api_platform_v20202.htm#install_tasks_nd_configure_wsmex">Installation wizard, ND container: Configure WS-Metadata Exchange Options</a> (installation doc for version 2020.2.x).</p>
<p><a href="#top">Back to top</a></p>


<h3 id="aac_ca_configure_ldap_auth_domain">Configure LDAP Authentication Domain (Envision only)</h3>
<p>The Configure LDAP Authentication Domain task runs the <strong>Configure LDAP Authentication Domain</strong> Wizard, as shown below.</p>
<p><img src="images/ac_ca_configure_ldap_auth_domain.png" alt="Configure LDAP Authentication Domain" /></p>
<p>For information about using this wizard, see <a href="../../ev/envision_install/env_login_options.htm#ldap_authentication_domain">LDAP Authentication Domain</a> (Envision doc).</p>
<p><a href="#top">Back to top</a></p>


<h3 id="aac_ca_configure_mongodb_database">Configure MongoDB Database Wizard (Envision only) </h3>
<p>The Configure MongoDB Database task runs the <strong>Configure MongoDB Database Wizard</strong>, as shown below.</p>
<p><img src="images/ac_ca_configure_mongodb_database.png" alt="Configure MongoDB Database Wizard" /></p>
<p>For information about using this wizard, see <a href="../../ev/envision_install/installing_pm_env_integration.htm#s05_install_ev_console_extensions_plug_in">Step 5: Install Envision Console Extensions Plug-in</a> (Envision doc).</p>
<p><a href="#top">Back to top</a></p>


<h3 id="aac_ca_delete_es_index">Delete Elasticsearch Index</h3>
<p><strong>Note</strong>: This is only applicable to embedded Elasticsearch nodes (versions prior to 2018.0.0). If you're using external Elasticsearch nodes, you'll need to delete redundant indexes using the Elasticsearch commands or user interface provided by your external Elasticsearch engine.</p>
<p>You might need to delete an Elasticsearch index that you previously created; for example, if you configure an index and then change to use an index with a different name. If you have a search index that you no longer want to use, you'll need to delete it using the Akana Administration Console.</p>
<p><img src="images/ac_ca_delete_es_index.jpg" alt="Delete Elasticsearch Index" /></p>
<p>For more information about Elasticsearch, see <a href="../elasticsearch/install_es_config.htm">Installing and Configuring Elasticsearch (2018.0.0)</a>.</p>
<p><a href="#top">Back to top</a></p>


<h3 id="aac_ca_forcerefresh">Force Configuration Refresh</h3>
<p>The <strong>Force Configuration Refresh</strong> task forces the container to reconfigure itself with configuration information from Policy Manager. Normally, the container polls periodically for configuration changes. However, if you feel that a configuration change was not updated by the container, or that the polling interval is longer than is desired to pick up a needed configuration change, you can use this task to force the reconfiguration update.</p>
<p><img src="images/ac_ca_force_configuration_refresh.jpg" alt="Force Configuration Refresh" /></p>
<p>Two options are available:</p>
<ul>
	<li><strong>Refresh from Startup</strong>&#8212;Forces the container to refresh its configuration, as it would normally from startup. All configuration information for the container is retrieved from Policy Manager. </li>
	<li><strong>Refresh from Date</strong>&#8212;Forces the container to refresh its configuration only with changes since the specified date/time. For example, if a time five minutes earlier than the present time is entered, all changes in the last five minutes are retrieved from Policy Manager.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_initialize_repo_database">Initialize Repository Database</h3>
<p>This configuration action is useful in a scenario where an Akana API Platform install is using features that require Lifecycle Manager functionality, such as custom properties (requires download and install of a separate ZIP file) or API promotion.</p>
<p>Both these features require download and install of a separate ZIP file, and installation of the Lifecycle Manager extension.</p>
<p><strong>Note</strong>: For Akana API Platform installs using the Lifecycle Repository feature, the Lifecycle Manager database user requires specific additional grants when using MySQL. These grants are required for successful completion of the <strong>Initialize Repository Database</strong> configuration action; otherwise, the task fails.</p>
<p>For an example of how this task fits into the installation process, see <a href="../platform_install/installing_akana_api_platform_v20202.htm#notes_database_mysql_rm_all">Database notes: MySQL with Lifecycle Repository</a> (installation doc for version 2020.2.x).</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_install_config_indexes_in_mongodb">Install Configuration Data and Indexes in MongoDB</h3>
<h3 id="aac_ca_configure_mongodb_database2"></h3>
<p>The Install Configuration Data and Indexes in MongoDB task runs the <strong>Install MongoDB Collections</strong> wizard, as shown below.</p>
<p><img src="images/ac_ca_install_config_indexes_in_mongodb.png" alt="Install MongoDB Collections wizard" /></p>
<p>This task scans the Akana API Platform runtime for any <a href="../../cm/learnmore/basics_glossary.htm#gl_dataseeder">data seeders</a> that have been installed into the OSGi runtime and registered via Spring. The data seeders have a check to determine whether or not they need to be run. If they do not need to be run, this task is not presented as a pending task. Therefore, this task appears as part of the installation or upgrade process as a Pending Installation Task if it's needed, and is ignored if it is not needed.</p>
<p>If you're using automation recipes (see <a href="../automation/automation_ref.htm">Automation Reference Guide</a>), this task is run automatically, whenever a new container is deployed (whether a new installation or an upgrade scenario), if the deployment is using MongoDB. It is run as part of the automation recipe <strong>mongo.json</strong> (included script <strong>mongo-schema-task.json</strong> with task name <strong>mongo.schema.task</strong>).</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_manageadmin">Manage Admin Console Administrator</h3>
<p>The Manage Admin Console Administrator task runs the <strong>Manage Administrator</strong> Wizard, as shown below.</p>
<p><img src="images/ac_ca_change_administrator_details.jpg" alt="Change Administrator Details" /></p>
<p>This allows you to set up, or change, the details about the Akana Administration Console Administrator. For example, use this task if you need to change the username and password for the Administrator.</p>
<p>You'll need the old password in order to make any changes.</p>
<h4>To complete the Manage Admin Console Administrator configuration action</h4>
<ol>
	<li>In the Akana Administration Console, click the <strong>Configuration</strong> tab.</li>
	<li>In the <strong>Configuration Actions</strong> section, choose <strong>Manage Admin Console Administrator</strong>. The <strong>Change Administrator Details</strong> page appears.</li>
	<li>To change the username, type the new value in the <strong>Username</strong> field. </li>
	<li>To change the password, type the old and new passwords and confirm.</li>
	<li>Click <strong>Finish</strong>.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_managepkikeys">Manage PKI Keys</h3>
<p>The <strong>Manage PKI Keys</strong> wizard is executed as either an installation task or configuration action. The wizard allows you to configure the private key and certificate for the container.</p>
<p><strong>Note</strong>: In a production environment you'll need to have a certificate signed by a <a href="../../cm/learnmore/basics_glossary.htm#gl_certificateauthority">Certificate Authority</a> with a recognized chain of trust. We recommend that you always maintain external keys for your containers, and upload them using the <strong>Import Private Key &amp; X.509 Certificate</strong> option as shown below.</p>
<p><img src="images/ac_ca_manage_pki_keys.png" alt="Manage PKI Keys" /></p>
<!--<p>{Screen cap note: Should show Improt Private Key & X.509 Certificate which is not the default.}</p>-->
<p>This wizard has the following sections:</p>

<dl>
<dt><strong>PKI Keys Details</strong></dt>
<dd>Displays the public key that has been generated and assigned to the object. If keys have not been generated and assigned, the <strong>None Found</strong> message displays.</dd>



<dt><strong>Certificate Details</strong></dt>
<dd><strong>D</strong>isplays a summary of information for the certificate assigned to the current object. Assigned certificates can be generated or imported using this wizard. Certificate information presented includes Subject DN, Issuer DN, Serial Number, Effective Date, and Expiration Date. If a certificate has not been assigned, the <strong>None Found</strong> message displays.</dd>



<dt><strong>Key Management Options</strong></dt>
<dd>Provides functions for performing key and certificate management for the current object. Option categories include <strong>Generate</strong>, <strong>Import</strong>, <strong>Export</strong>, and <strong>Delete</strong>. Available objects are displayed <strong>in focus</strong> and are based on the object's configuration state.</dd>
<dd>Select a Key Management Option and click <strong>Next</strong> to continue. The pre-selected option is the assigned default. For more information about each option, refer to <a href="../key_management/key_management.htm">Managing Keys and Certificates</a>.</dd>
</dl>
<p>For an example of how this task fits into the installation process, see <a href="../platform_install/installing_akana_api_platform_v20202.htm#install_tasks_manage_pki_keys">Installation wizard: Manage PKI Keys</a> (installation doc for version 2020.2.x).</p>

<h4 id="proc_import_privatekey_cert">To import a private key and X.509 certificate</h4>
<ol>
	<li>In the Akana Administration Console for the container, go to <strong>Configuration</strong>.</li>
	<li>Under <strong>Configuration Actions</strong>, on the left, choose <strong>Manage PKI Keys</strong>.</li>
	<li>On the <strong>Select Key Management Option</strong> page, select <strong>Import Private Key and X.509 Certificate</strong> and click <strong>Next</strong>.</li>
	<li>On the <strong>Select Key Management Option</strong> page, shown above, specify <strong>Keystore Type</strong>: Java or PKCS12.</li>
	<li>In the <strong>Keystore Path</strong> field, navigate to the location of the keystore and choose it.</li>
	<li>Enter the keystore password and confirm it.</li>
	<li>Click <strong>Load Aliases</strong> and select a key alias.</li>
	<li>Enter the password for the alias and confirm it.</li>
	<li>Click <strong>Finish</strong>.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_manageschemas">Manage Schemas</h3>
<p>The <strong>Install Schemas</strong> page allows you to manage schemas associated with the current container. Schemas add tables to the database used by the container and populate them with data.</p>
<p><img src="images/ac_ca_manage_schemas.jpg" alt="Manage Schemas" /></p>
<p>This page has two sections:</p>
<ul>
	<li><strong>Available Schemas</strong>&#8212;Displays a list of schemas that are available to install into the current container. To install an available schema, check the checkbox next to the schema line item and then click <strong>Finish</strong>.</li>
	<li><strong>Installed Schemas</strong>&#8212;Provides a list of schemas that are currently installed in the container. To uninstall a schema, check the checkbox next to the schema line item and then click <strong>Finish</strong>.</li>
</ul>
<p><strong>Note:</strong> When you select a schema, the system also installs all preceding versions of the selected schema, if they have not been previously installed. In this scenario, preceding schema versions are displayed in the <strong>Installed Schemas</strong> section of the <strong>Manage Schemas</strong> Wizard (accessible via the <strong>Configuration</strong> tab) after the installation is complete.</p>
<p>After the schema management process is complete, the <strong>Summary</strong> screen displays.</p>
<p>For an example of how this task fits into the installation process, see <a href="../platform_install/installing_akana_api_platform_v20202.htm#install_tasks_manage_schemas">Installation wizard: Manage Schemas</a> (installation doc for version 2020.2.x).</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_migrate_oauth_data_to_mongodb">Migrate OAuth Data to MongoDB</h3>
<p>If you're migrating from RDBMS to MongoDB and you use OAuth, you'll need to run a data migration task to ensure that OAuth tokens issued before the upgrade can still be used.</p>
<p>One reason you might want to migrate OAuth data to MongoDB is so that you can write OAuth tokens from multiple data centers to a local database. OAuth tokens and grants can be distributed globally, so that an API Gateway cluster in one data center will be updated with information about new tokens and grants in near realtime.</p>
<p>After migrating the data, you'll also need to update a configuration property and restart the container. Follow the steps below.</p>

<h4>To migrate OAuth data to MongoDB</h4>
<ol>
	<li>In the Akana Administration Console for the Policy Manager/Community Manager instance, under <strong>Configuration Actions</strong>, run the <strong>Migrate OAuth Data to MongoDB</strong> task, as shown below.
 <p><img src="images/ac_ca_migrate_oauth_data_to_mongodb.jpg" alt="Migrate OAuth Data to MongoDB" /></p></li>
	<li>In the Akana Administration Console, click the <strong>Configuration</strong> tab.</li>
	<li>Under <strong>Configuration Categories</strong>, find the <strong>com.soa.oauth.provider.server</strong> category.</li>
	<li>Find the <strong>com.soa.oauth.provider.server.config.datasource</strong> property and change the value from <strong>JDBC</strong> to <strong>NOSQL</strong>.</li>
	<li>Click <strong>Apply Changes</strong>.</li>
	<li>Restart the Policy Manager/Community Manager container and then, when PM/CM is started, restart the Network Director container.</li>
</ol>
<p>After updating this property, the server for the OAuth Provider is now the NOSQL database (MongoDB).</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_provisioning">Provisioning</h3>
<p>As part of product installation, the <strong>Provisioning</strong> pending installation task opens the <strong>Provisioning</strong> wizard. This task Initializes resources associated with the features installed on the container.</p>
<p><img src="images/ac_ca_provisioning.jpg" alt="Provisioning" /></p>
<p>For more information, and an example of how this task fits into the installation process, see <a href="../platform_install/installing_akana_api_platform_v20202.htm#install_tasks_provisioning">Installation wizard: Provisioning</a> (installation doc for version 2020.2.x).</p>
<p>For an example of how this task fits into the upgrade process, see <a href="../upgrade/upgrading_akana_api_platform_20201.htm#post_upgrade_05">Provisioning</a> (upgrade doc).</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_rebuild_cm_styles">Rebuild CM Styles</h3>
<p>As part of every upgrade, if you're using the Community Manager developer portal, you'll need to complete the <strong>Rebuild CM Styles</strong> configuration action in all containers where the Community Manager feature is installed.</p>
<p>This makes sure that you have the latest style updates, for all themes and tenants.</p>
<p><img src="images/ac_ca_rebuild_cm_styles.jpg" alt="Rebuild CM Styles" /></p>
<p>This step will be included as part of the upgrade process.</p>
<h4>To rebuild CM styles</h4>
<ol>
	<li>In the Akana Administration Console, click the <strong>Configuration</strong> tab.</li>
	<li>In the <strong>Configuration Actions</strong> section, choose <strong>Rebuild CM Styles</strong>.</li>
	<li>When done, click <strong>Finish</strong>.</li>
</ol>
<p>For an example of how this task fits into the upgrade process, see <a href="../upgrade/upgrading_akana_api_platform_20201.htm#proc_rebuild_cm_styles">To rebuild CM styles</a> (upgrade doc).</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_set_lm_repo_password">Set Lifecycle Repository Password</h3>
<p>This configuration action allows you to set the superuser password for the Lifecycle Repository feature.</p>
<p><img src="images/ac_ca_lm_install_05_05_superuser_password.jpg" alt="Setting up the superuser password" /></p>
<p>At the <strong>Set Lifecycle Repository Superuser Password</strong> page, type in the password, confirm, and then click <strong>Finish</strong>.</p>
<p>For an example of this task fits into the Lifecycle Manager installation process, see <a href="../../lm/install/install_lm_v80x.htm#proc_lm_configure" target="_blank">To configure the Lifecycle Manager feature on a container</a> (Lifecycle Manager installation doc).</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_set_topology_api_credentials">Set Topology API Credentials</h3>
<p>This configuration action, used with the Lifecycle Coordinator product, allows you to specify credentials for the Topology API.</p>
<p><img src="images/aac_ca_set_topology_api_credentials.jpg" alt="Setting the topology API credentials" /></p>
<p>For more information, and installation instructions for Lifecycle Coordinator, see <a href="../install_lc/install_promotion.htm#lc_install_secure_api">Securing the Topology REST API</a>.</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_synch_lm_data">Synchronize Lifecycle Manager Data</h3>
<p>In a scenario where you already have resources set up, such as apps, APIs, and business organizations, and want to back-populate your Lifecycle Manager library, you can use the <strong>Synchronize Lifecycle Manager Data</strong> configuration action.</p>
<p>For example, this might be used in a scenario where an existing Community Manager implementation is now going to start using the Lifecycle Manager feature.</p>
<p>This task is on the Configuration Actions list only if you have the <strong>Akana Lifecycle Coordinator</strong> feature installed.</p>
<p><img src="images/ac_ca_synchronize_lm_data.jpg" alt="Synchronize Lifecycle Manager Data" /></p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_update_cm_api">Update CM API</h3>
<p>If you're upgrading, and the new version includes changes to the CM API, you might need to complete the <strong>Update CM API</strong> configuration action as part of the upgrade process, in all containers where the Community Manager feature is installed.</p>
<p><img src="images/ac_ca_update_cm_api.jpg" alt="Update CM API" /></p>
<p>If it's needed, this step will be included as part of the upgrade process.</p>
<h4>To complete the Update CM API configuration action</h4>
<ol>
	<li>In the Akana Administration Console, click the <strong>Configuration</strong> tab.</li>
	<li>In the <strong>Configuration Actions</strong> section, choose <strong>Update CM API</strong>.</li>
	<li>When done, click <strong>Close</strong>.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_update_oauth_api">Update OAuth API</h3>
<p>This task updates the Provisioned OAuth Agent and Resource Server APIs.</p>
<p><img src="images/ac_ca_update_oauth_api.jpg" alt="Update OAuth API" /></p>
<p>Click <strong>Finish</strong>, review the summary, and then click <strong>Close</strong> to exit.</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_upgrade_cm_models">Upgrade CM Models</h3>
<p>If you're upgrading, and the new version includes changes to the CM model objects, you'll need to complete the <strong>Upgrade CM Models</strong> configuration action as part of the upgrade process, in all containers where the Community Manager feature is installed.</p>
<p><img src="images/ac_ca_upgrade_cm_models.jpg" alt="Upgrade CM Models" /></p>
<p>If it's needed, this step will be included as part of the upgrade process.</p>
<h4>To complete the Upgrade CM Models configuration action</h4>
<ol>
	<li>In the Akana Administration Console, click the <strong>Configuration</strong> tab.</li>
	<li>In the <strong>Configuration Actions</strong> section, choose <strong>Upgrade CM Models</strong>.</li>
	<li>When done, click <strong>Close</strong>.</li>
</ol>
<p>For an example of how this task fits into the upgrade process, see <a href="../upgrade/upgrading_akana_api_platform_20201.htm#proc_upgrade_cm_models">To complete the Upgrade CM Models configuration action</a> (upgrade doc).</p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_upgrade_database_82">Upgrade Database Objects to 8.2 Model</h3>
<p>If you're upgrading from a version earlier than 8.2, you'll need to install the <strong>Akana PM 8.2 Upgrade</strong> tool (see <a href="../platform_install/installing_akana_api_platform_v2019.htm#installation_tools">Installation Tools</a>), which adds a Pending Installation task/Configuration Action, <strong>Upgrade Database Objects to 8.2 model</strong>. This opens the <strong>Perform 8.0 to 8.2 Upgrade</strong> page. This task upgrades Policy Manager database objects from version 8.0 to version 8.2.</p>
<p><img src="images/ac_ca_perform_80_82_upgrade.png" alt="Perform 8.0 to 8.2 Upgrade" /></p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_upgrade_database_84">Upgrade Database Objects to 8.4 Model</h3>
<p>If you're upgrading from a version earlier than 8.4, you'll need to install the <strong>Akana 8.2 to 8.4 model upgrade</strong> tool (see <a href="../platform_install/installing_akana_api_platform_v2019.htm#installation_tools">Installation Tools</a>), which adds a Pending Installation task/Configuration Action, <strong>Upgrade Database Objects to 8.4 model</strong>. This opens the <strong>Perform 8.2 to 8.4 Upgrade</strong> page. This task upgrades Policy Manager database objects from version 8.2 to version 8.4.</p>
<p><img src="images/ac_ca_perform_82_84_upgrade.png" alt="Perform 8.2 to 8.4 Upgrade" /></p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_upgrade_policies_contracts">Upgrade Policies and Contracts</h3>
<p>If you're upgrading from a version earlier than Policy Manager 7.2, you'll need to install the <strong>Akana PM 7.2 Upgrade</strong> tool (see <a href="../platform_install/installing_akana_api_platform_v2019.htm#installation_tools">Installation Tools</a>), which adds a Pending Installation task/Configuration Action, <strong>Upgrade Policies and Contracts</strong>. This opens the <strong>Update Workflow of Existing Policies and Contracts</strong> page. This task upgrades Policy Manager database objects to version 7.2.</p>
<p><img src="images/ac_ca_update_workflow_existing_policies.png" alt="Update Workflow of Existing Policies and Contracts" /></p>
<p><a href="#top">Back to top</a></p>



<h3 id="aac_ca_upgrade_sla_policies">Upgrade SLA policies and Service Document Descriptors</h3>
<p>If you're upgrading from a version earlier than Policy Manager 8.0, you'll need to install the <strong>Akana PM 8.0 Upgrade</strong> tool (see <a href="../platform_install/installing_akana_api_platform_v2019.htm#installation_tools">Installation Tools</a>), which adds a Pending Installation task/Configuration Action, <strong>Upgrade SLA policies and Service Document Descriptors</strong>. This opens the <strong>Perform 7.2 to 8.0 Upgrade</strong> page. This task upgrades Policy Manager database objects to version 8.0.</p>
<p><img src="images/ac_ca_perform_72_80_upgrade.png" alt="Perform 7.2 to 8.0 Upgrade" /></p>
<p><a href="#top">Back to top</a></p>