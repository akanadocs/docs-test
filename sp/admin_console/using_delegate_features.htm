<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<title>Managing Processes (Policy Manager 8.x)</title>
<link href="../style/reset.css" rel="stylesheet" type="text/css" />
<link href="../style/base.css" rel="stylesheet" type="text/css" />
<link href="../style/document.css" rel="stylesheet" type="text/css" />

</head>
<body>
<div class="documentation supportContent">
<!-----
layout: page
title: Using the Delegate Features
description: Learn how to use an Apache Axis client solution to provide message formatting and transportation of a web service description stored in Policy Manager.
product: sp
category: learn
weight: 6
sub-nav-class: Agents
type: page
nav-title: Using the Delegate Features
----->
<h2 id="top">Using the Delegate Features</h2>
  <p>Learn how to use an Apache Axis client solution to provide message formatting and transportation of a web service description stored in Policy Manager.</p>


<a href="using_admin_console.htm" class="button secondary">Using Admin Console</a>
<a href="../container_management/container_management.htm" class="button secondary">Managing Containers</a><p></p>

<a href="../../ag/assets/PM7x_Delegate_for_Apache_Axis.pdf" class="button secondary">Policy Manager 7.x Delegate for Apache Axis</a>
<p></p>

<h5 class="stamp">Supported Platforms: 7.x, 8.0</h5>
<p></p>


  <div class = "divider1"></div>
   <h3 style="color: gray;">Table of Contents</h3>
<ol class="table_of_contents">
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#prereqs">Prerequisites</a></li>
  <li><a href="#collocated">Configure Collocated Option</a></li>
  <li><a href="#remote">Configure Remote Options</a></li>
</ol>
<div class = "divider1"></div>



<a name="introduction"></a><h3>Introduction</h3>
<p>The <em>Axis Delegate</em> and Apache Axis client solution provides message formatting and transportation based on a web service description stored in the Policy Manager product. The solution is implemented by a set of Axis message handlers that work in conjunction with an OSGi container. This container typecan support multiple features. When used as part of the Delegate solution, the <em>Delegate</em> feature must be installed. Remote delegates are also supported.</p>

<h4>Delegate Features</h4>
<p>The solution uses the following Platform features:</p>
<ul>
  <li><strong>Delegate -</strong> Includes the policy implementation point for third-party web service frameworks, and provides support for WS-Policy and dynamic endpoint resolution. It can only be deployed with a web service framework like Apache Axis. For remote delegates, this feature can be used if the OSGi container is a J2EE container. For containers that do not have native delegate support, use the <em>Delegate Access Point</em> feature.</li>
  <li><strong>Access Point -</strong> Provides a remote interface to delegates for policy implementation and message delivery. Any delegate that does not provide its own policy implementation and message delivery mechanism can route messages through the Access Point. This feature is installed on a container that does not have native delegate support.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<a name="options"></a><h4>Deployment Options</h4>
<p>The architecture of the Delegate supports two different deployment options:</p>
<ul>
  <li><strong>Collocated Option -</strong> Using this option, the OSGi container is deployed in the same Java Runtime Engine (JRE) as the Axis engine.</li>
  <li><strong>Remote Option -</strong> Using this option the OSGi container is deployed in a separate JRE from the Axis Engine.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<a name="prereqs"></a><h3>Prerequisites</h3>
<ul>
  <li><strong>Apache Axis</strong> -  You must be experienced Apache Axis user. The delegate configuration process requires that you install Apache Axis, the Axis SOAP Client, and install and deploy a web service. </li>
  <li><strong>Documentation -</strong> Before configuring a delegate, review the <a href="http://docs.soa.com/ag/assets/PM7x_Delegate_for_Apache_Axis.pdf">Policy Manager Delegate for Apache Axis Technical Note</a> to become familiar with the delegate architecture, delegate handler, configuration handler parameters, and delegate identity credentials. </li>
</ul>
<p><a href="#top">Back to top</a></p>



<a name="collocated"></a><h3>Configure Collocated Option</h3>
<h4>Step 1: Install and Configure Tomcat Container and Features</h4>
<ol>
  <li>Configure Tomcat Container (GUI / Silent). See <em>Step 2 </em>of <a href="using_tomcat_agent_feature.htm#tomcat_container">Using Tomcat Agent Feature</a> topic.</li>
  <li>Install Tomcat Agent Feature. See <em>Step 3 </em>of <a href="using_tomcat_agent_feature.htm#install_tomcatagent">Using Tomcat Agent Feature</a> topic.</li>
  <li>Configure Tomcat Agent Feature. See <em>Step 4 </em>of <a href="using_tomcat_agent_feature.htm#configure_tomcat">Using Tomcat Agent Feature</a> topic.</li>
</ol>

<h4>Step 2: Install Delegate Feature</h4>
<ol>
  <li>Launch the <em>Administration Console </em>(http://&lt;hostname:&lt;port&gt;/admin/).</li>
  <li>On the <em>Installed Features</em> screen, select <strong>Feature</strong> from the <em>Filter</em> menu. </li>
  <li>Select the <em>Delegate </em> feature and click <strong>Install Feature</strong>.</li>
  <li>After the installation is complete, click <strong>Configure</strong>. On the <em>WS-MetaDataExchange Options</em> screen specify the URL of the Policy Manager Metadata Exchange Service.</li>
  <li>Restart the container.</li>
</ol>
<h4>Step 3: Install Axis Service &amp; Client</h4>
<ol>
  <li>Install Axis service and Axis client in Tomcat (i.e.,  copy to 
  /webapps).</li>
  <li>Restart Tomcat. </li>
</ol>

<h4>Step 4: Register Tomcat Container</h4>
<ol>
  <li>Register Tomcat container in the <em>Policy Manager Management Console</em>. See <em>Step 5 </em>of <a href="using_tomcat_agent_feature.htm#register_tomcat">Using Tomcat Agent Feature</a> topic.</li>
</ol>
<h4>Step 5: Create and Manage Physical Service  Policy Manager</h4>
<ol>
  <li>Launch the <em>Policy Manager Management Console</em>.</li>
  <li>Using <strong>Create Physical Service</strong>, register the physical service  (e.g., http://&lt;hostname&gt;:8080/axis/services/echo?wsdl).</li>
  <li>On the <em>Select Service Management Option</em> screen, select a service management option (i.e., Manage within Container, or Manage through a Virtual Service).</li>
  <li>On the <em>Select Container</em> screen, select the Tomcat container you registered in <em>Step 4</em>. </li>
  <li>Complete configuration. </li>
</ol>

<h4>Step 6: Test</h4>
<ol>
  <li>Create SOAP UI project with physical service URL.</li>
  <li>Bring up the client page at http://&lt;hostname&gt;:8080/example-axis-client/echo.jsp</li>
  <li>Enter any value and submit.<br />
  </li>
</ol>
<p><a href="#top">Back to top</a></p>



<a name="remote"></a><h3>Configure Remote Options</h3>
<h4>Prerequisites</h4>
<p>Before configuring the remote options, the following must be installed and configured. </p>

<ul>
  <li>A Policy Manager container instance with Policy Manager features installed (i.e.,<em> Policy Manager Console</em>
  and <em>Policy Manager Services</em>.</li>
</ul>
<a name="collocated"></a>
<h4>Configure Remote Delegate Option for Standalone Container (ND)
</h4>
<p>With this option  the <em>Delegate Access Point</em> feature is required to perform the message processing. </p>

<ol>
  <li><a href="../container_management/configure_standalone_container.htm"> Create Standalone Container</a>.</li>
  <li>Install <em>Delegate Access Point</em> feature. </li>
  <li>Install <em>Network Director</em> feature.</li>
  <li>Install Axis service and Axis client in Tomcat or any . i.e., copy to &lt;TOMCAT HOME&gt;/webapps. Restart TOMCAT.</li>
  <li>Edit client-config.wsdd file in &lt;TOMCAT_HOME&gt;/webapps/example-axis-client/WEB-INF/classes</li>
  <li>Change “type” attribute of the “handler” entry to “java:com.soa.delegate.axis.RemoteAxisPivotHandler”.</li>
  <li>Add parameter element for the proxy.address with address of container installed with Delegate Access Point feature as follows:    &lt;parameter name=&quot;proxy.address&quot; value=&quot;http://&lt;host&gt;:&lt;port&gt;/soapdelegate&quot;/&gt;</li>
  <li>Restart Tomcat.</li>
  <li>Deploy Delegate handlers as illustrated in the <a href="../../ag/assets/PM7x_Delegate_for_Apache_Axis.pdf">Policy Manager 7.x Delegate for Apache Axis Technical Note</a> </li>
</ol>
<p><a href="#top">Back to top</a></p>



<h4>Configure Remote Delegate Option for J2EE Container</h4>
<p>With this option you can install the <em>Delegate</em> feature and it can act as an access point and collocated delegate. </p>
<ol>
  <li><a href="../container_management/configure_standalone_container.htm"> Create Standalone Container</a>.</li>
  <li>Install <em>Delegate </em> feature in J2EE container</li>
  <li>Install Axis service and Axis client in Tomcat or any . i.e., copy to &lt;TOMCAT HOME&gt;/webapps.  Restart TOMCAT.</li>
  <li>Edit client-config.wsdd file in &lt;TOMCAT_HOME&gt;/webapps/example-axis-client/WEB-INF/classes.</li>
  <li>Change &ldquo;type&rdquo; attribute of the &ldquo;handler&rdquo; entry to &ldquo;java:com.soa.delegate.axis.RemoteAxisPivotHandler&rdquo;.</li>
  <li>Add parameter element for the proxy.address with address of container installed with Delegate Access Point feature as follows: &lt;parameter name=&quot;proxy.address&quot; value=&quot;http://&lt;host&gt;:&lt;port&gt;/soapdelegate&quot;/&gt;</li>
  <li> Restart Tomcat.</li>
  <li>Deploy Delegate handlers as illustrated in the <a href="http://docs.soa.com/ag/assets/PM7x_Delegate_for_Apache_Axis.pdf">Policy Manager 7.x Delegate for Apache Axis Technical Note</a> <br />
  </li>
</ol>
<p><a href="#top">Back to top</a></p>



<h4>Agent Container</h4>
<p>Delegate support is provided for  a variety of different agents (i.e., tc Server, WebSphere, JBoss, etc.). Contact Customer Support for more information.</p>
<p><a href="#top">Back to top</a></p>



</div>
</body>
</html>