---
layout: page
title: Using the Cluster Support Plug-in
description: Learn how to manage a container as part of a cluster in Policy Manager.
product: sp
category: learn
weight: 6
sub-nav-class: Operations
type: page
nav-title: Using the Cluster Support Plug-in
---

<h2 id="top">Using the Cluster Support Plug-in </h2>
<p>Learn how to manage a container as part of a cluster in Policy Manager.</p>


<p><a href="using_admin_console.htm" class="button secondary">Using Admin Console</a> <a href="../container_management/container_management.htm" class="button secondary">Managing Containers</a></p>



<div class = "divider1"></div>
<h3 style="color: gray;">Table of Contents</h3>
<ol class="table_of_contents">
	<li><a href="#introduction">Introduction</a></li>
	<li><a href="#configuration">Configuration</a></li>
</ol>
<div class = "divider1"></div>



<h3 id="introduction">Introduction</h3>
<p>The <strong>Cluster Support</strong> plug-in provides support for group administration of multiple containers via a single <strong>Akana Administration Console</strong>. The clustering feature is based on the idea of a <strong>Master</strong> node and a set of <strong>Slave</strong> nodes that all share a common set of feature bundles and configuration. When the clustering feature is installed, any Container Instance may be configured as either a Master or Slave. All Slaves will periodically synchronize their state with the Master node. If the Master node becomes unavailable for any reason, the slaves will remain in their last configured state.</p>
<p>Here's how it works:</p>
<p>The <strong>Cluster Support</strong> plug-in should be installed into a Master and Slave Container instance using the <strong>Akana Administration Console</strong>. When the installation is complete, navigate to the <strong>Configuration</strong> tab, select the <strong>com.soa.cluster</strong> category, configure the master and slave nodes, and click <strong>Save</strong>.</p>
<h5>Master Node</h5>
<p>On the Master node, select the <strong>Act as a master node</strong> radio button.</p>
<p><img src="images/cluster_support1.jpg" width="505" height="184" alt="" /></p>

<h5>Slave Node</h5>
<p>For a Slave node, select <strong>Act as a slave node</strong>, and enter the &quot;Master Hostname&quot; and &quot;Master Port&quot; of the Master Node in the text boxes. Any number of Slave Nodes can use a single master.</p>
<p><img src="images/cluster_support2.jpg" width="511" height="194" alt="" /></p>

<h5>Advanced Option</h5>
<p>The <strong>Advanced</strong> configuration option is only required in cases where specific configuration PIDs (i.e., Process Identifiers) should not be replicated between cluster nodes.</p>
<p>Refer to the <a href="../../ag/assets/PM_ConfigurationCategories_6x_7x.pdf" >Policy Manager Configuration Categories and Settings Guide</a> for a description of each configuration category.</p>
<p><strong>Note</strong>: This is an advanced Policy Manager feature. Contact Customer Support if you need assistance using this advanced option.</p>
<p><img src="images/cluster_support3.jpg" alt="" /></p>
<p><a href="#top">Back to top</a></p>



<h3 id="configuration">Configuration</h3>
<p>To use the <strong>Cluster Support</strong> plug-in you will need two Policy Manager containers (one that will be designated as <strong>Master</strong> and one that will be designated as <strong>Slave</strong>).</p>
<h5>Prerequisites</h5>
<ul>
	<li>The Akana API Platform must be installed.</li>
</ul>

<h5>Step 1: Configure Policy Manager "Master" Container</h5>
<ol>
	<li>Launch the <strong>Configure Container Instance Wizard</strong> - <strong>&lt;release directory&gt;\bin\startup configurator</strong></li>
	<li>Define the Policy Manager &quot;Master&quot; container (<strong>PM</strong>).</li>
	<li>In the <strong> Akana Administration Console</strong>, select <strong>Available Features</strong> &gt; <strong>Features</strong> filter, and install the Policy Manager features (<strong>Policy Manager Services</strong> and <strong>Policy Manager Console</strong>).</li>
	<li> Select <strong>Available Features</strong> &gt; <strong>Plug-in</strong> filter, and install <strong> Cluster Support</strong>. Do not configure keys as this step was already performed when you installed the two Policy Manager features. </li>
	<li>Select the <strong>Configuration</strong> tab. In the Configuration Categories section, select<strong> com.soa.cluster</strong>.</li>
	<li>Select <strong>Act as master node</strong> and save. </li>
	<li> Select <strong>com.soa.database.config</strong> (as illustrated below), click<strong> Add Property</strong>, add <strong>encryptValues=false</strong>, click <strong>Apply</strong>, then click <strong>Apply Changes</strong>.<br />
<br />
<img src="images/cluster_support4.jpg" width="732" height="347" alt="" /></li>
	<li>Restart the Policy Manager container instance (<strong>System</strong> tab &gt; <strong>Restart</strong>).</li>
	<li>After the container restart is complete, log back into the Administration console, and select the <strong>Configuration</strong> tab. In the Configuration Categories section, select <strong>com.soa.database.config</strong>.</li>
	<li>Update the database password (as illustrated below), and <strong>Apply Changes</strong>. <br />
<br />
<img src="images/cluster_support5.jpg" width="645" height="309" alt="" /></li>
</ol>

<h5>Step 2: Configure Policy Manager "Slave" Container</h5>
<ol>
	<li>Launch the <strong>Configure Container Instance Wizard</strong> - <strong>&lt;release directory&gt;\bin\startup configurator</strong></li>
	<li>Define the Policy Manager &quot;Slave&quot; container (<strong>PM1</strong>).</li>
	<li>In the <strong>Akana Administration Console</strong>, select <strong>Available Features</strong> &gt; <strong>Plug-in</strong> filter, and install <strong> Cluster Support</strong>. Do not install the two Policy Manager features in this container. </li>
	<li>Select the <strong>Configuration</strong> tab. In the Configuration Categories section, select<strong> com.soa.cluster</strong>.</li>
	<li>Select <strong>Act as slave node</strong>, enter Host (<strong>PM</strong>) and Port, then save. </li></ol>
<p><a href="#top">Back to top</a></p>