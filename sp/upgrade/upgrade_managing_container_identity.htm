---
layout: page
title: Managing Container Identity
description: Overview of the steps needed to correctly set up your container identity when upgrading to a new version of the platform.
product: sp
category: ref
sub-nav-class: Upgrade - Akana API Platform
weight: 7
type: page
nav-title: Managing Container Identity Across Upgrades
---
<h1 id="top">Managing Container Identity Across Upgrades</h1>
<p>Overview of the steps needed to correctly set up your container identity when upgrading to a new version of the platform.</p>
<div class = "divider1"></div>



<h2 style="color: gray;">Table of Contents</h2>
<ol class="table_of_contents">
	<li><a href="#overview">Overview</a></li>
	<li><a href="#container_identity_update">Updating the container identity as part of the upgrade process</a></li>
	</ol>
<div class = "divider1"></div>



<h2 id="overview">Overview</h2>
<p>The upgrade instructions step you through the manual process of upgrading by:</p>
<ol>
	<li>Installing the latest version of the product and creating new containers, but connecting to the existing database.</li>
	<li>Moving over the properties and settings from a container in your installation of the earlier version, to a new container.</li>
</ol>
<p>When you configure a new container to replicate an existing container, as in #2 above, you must set up the identity of the new container to match the identity of the previous container. Then, the new container will perform the same role in your new installation as the previous container did in the earlier installation, and the identity is recognized.</p>
<p>The container identity is represented by the container certificate.</p>
<p>When you're creating a new container, for example during installation, you can use the platform's certificate generation capabilities to generate a self-signed certificate. However, it's best to use an external certificate, for these reasons:</p>
<ul>
	<li>In a production environment you'll need to have a certificate signed by a <a href="../../cm/learnmore/basics_glossary.htm#gl_certificate_authority">Certificate Authority</a> with a recognized chain of trust, such as <a href="https://www.verisign.com/" title="Link to Verisign site" target="_blank">Verisign</a>, <a href="https://www.comodo.com/" title="Link to Comodo site" target="_blank">Comodo</a>, <a href="https://www.godaddy.com/" title="Link to GoDaddy site" target="_blank">GoDaddy</a>, or <a href="http://www.digi-sign.com/" title="Link to DigiSign site" target="_blank">DigiSign</a>.</li>
	<li>You cannot export the private key and certificate from the container, to import to a new container, which is part of the upgrade process (see <a href="upgrading_akana_api_platform_2018_2019.htm">Upgrading Akana API Platform to Version 2019.x.x</a>).</li>
</ul>



<h2 id="container_identity_update">Updating the container identity as part of the upgrade process</h2>
<p>It's best to:</p>
<ol>
	<li>Generate keys and certificates outside the platform using an external tool such as <a href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html" title="Link to Java keytool doc" target="_blank">Java keytool</a>, with a recognized Certificate Authority and chain of trust. You will be uploading a&nbsp;.JKS or&nbsp;.P12 file.</li>
	<li>Store your keys and certificates in a secure location.</li>
	<li>After creating your container, upload your keys and certificate (JKS or P12 file) to the new container. In the Akana Administration Console for the container:
		<p> Go to <strong>Configuration</strong> &gt; <strong>Manage PKI Keys</strong> and choose <strong>Import Private Key &amp; X.509 Certificate</strong>. For detailed instructions, see <a href="../admin_console/config_actions.htm#aac_ca_managepkikeys">Manage PKI Keys</a>.</p>
		<p><strong>Note</strong>: This is covered in the upgrade instructions: <a href="upgrading_akana_api_platform_2018_2019.htm#s03_000">Step 3-0: Upload PKI keys and certificate</a>.</p></li>
</ol>
<p>When it's time to upgrade, create the new container and upload the same keys and certificates.</p>
<div class = "divider1"></div>




<h2 id="related_topics">Related Topics</h2>
<div class="relatedlinks" id="install"><!-- #BeginLibraryItem "/Library/relatedtopics_install.lbi" -->
<ul>
	<li><a href="upgrading_akana_api_platform_all.htm">Upgrading the Akana API Platform (all versions)</a></li>
	<li><a href="upgrading_min_downtime.htm">Use Case: Upgrading with Minimum Downtime</a></li>
	<li><a href="upgrading_micro.htm">Minor-Version Update Notes</a></li>
</ul>
<ul>
	<li><a href="../platform_install/installing_akana_api_platform_all.htm">Installing the Akana API Platform (all versions)</a></li>
	<li><a href="../platform_install/implementation_planning.htm">Planning Your Implementation</a></li>
	<li><a href="../platform_install/install_cm_jython_script.htm">Installation Jython Script</a></li>
	<li><a href="../platform_install/install_es_config.htm">Installing and Configuring Elasticsearch</a></li>
	<li><a href="../platform_install/install_es_secure_tc.htm">Configuring Elasticsearch with Security</a></li>
</ul><!-- #EndLibraryItem --></div>