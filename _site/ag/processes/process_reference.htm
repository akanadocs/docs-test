<!DOCTYPE html>
<html lang="en">
	<head>
		            <meta http-equiv="Content-type" content="text/html; charset=utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <title>Process Reference for Policy Manager 7.x</title>
            <link href="http://soa.com/css/bootstrap/bootstrap.min.css" rel="stylesheet" />
            <link rel="stylesheet" href="http://soa.com/css/compiled/bootstrap-overrides.css" type="text/css" />
            <link rel="stylesheet" type="text/css" href="http://soa.com/css/compiled/theme.css" />
            <link rel="stylesheet" href="/docs-test/style/reset.css" type="text/css">
            <link rel="stylesheet" href="/docs-test/style/base.css" type="text/css">
            <link rel="stylesheet" href="/docs-test/style/style.css" type="text/css">
            <link rel="stylesheet" href="/docs-test/style/document.css" type="text/css">
	          <link rel="stylesheet" href="/docs-test/style/pygments.css" type="text/css">

            <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700' rel='stylesheet' type='text/css'>
            <link rel="icon" type="image/png" href="http://soa.com/favicon.ico">


            <!-- <link rel="stylesheet" href="/docs-test/style/site.min.css" type="text/css" media="screen" /> -->
            <!--[if lt IE 10]><link rel="stylesheet" href="style/ie.css" type="text/css"><![endif]-->
            <!--[if lt IE 9]><link rel="stylesheet" href="style/ie8.css" type="text/css"><![endif]-->
          
            <script src="/docs-test/js/soadocs.min.js"></script>

            <script type="text/javascript">

              var _gaq = _gaq || [];
              _gaq.push(['_setAccount', 'UA-333097-1']);
              _gaq.push(['_trackPageview']);

              (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
              })();
            </script>
            <script type="text/javascript">
              adroll_adv_id = "DV6Z3DM2IVAT5P6URKK3RO";
              adroll_pix_id = "WORRISBFGNASNPUS72EOCQ";
              (function () {
              var oldonload = window.onload;
              window.onload = function(){
                 __adroll_loaded=true;
                 var scr = document.createElement("script");
                 var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
                 scr.setAttribute('async', 'true');
                 scr.type = "text/javascript";
                 scr.src = host + "/j/roundtrip.js";
                 ((document.getElementsByTagName('head') || [null])[0] ||
                  document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
                 if(oldonload){oldonload()}};
              }());
            </script>


		<!-- filtered pages for product and category list script -->
<script>
	
	var unsorted_pages_prod_cat = { p: 'ag', c: 'ref', pages: [ 
		{ t: 'Policy Manager 7.x Custom Actions Technical Note', nt: 'Policy Manager 7.x Custom Actions Technical Note', w: '2', ty: 'pdf', u: '/ag/PM7x_CustomActions.html', d: 'Provides instructions for configuring a Policy Manager custom action.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Policy Manager 7.x Delegate for Apache Axis Technical Note', nt: 'Policy Manager 7.x Delegate for Apache Axis Technical Note', w: '2', ty: 'pdf', u: '/ag/PM7x_Delegate_for_Apache_Axis.html', d: 'Describes the SOA Software Axis Delegate and Apache client solution.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Policy Manager 7.x Message Handler Programming Guide', nt: 'Policy Manager 7.x Message Handler Programming Guide', w: '2', ty: 'pdf', u: '/ag/PM7x_Message_Handler_Programming_Guide.html', d: 'Provides information about the SOA Container Message Handler Framework.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Policy Manager for IBM WebSphere DataPower Installation Guide 6.9', nt: 'Installing Policy Manager for IBM WebSphere DataPower 6.9', w: '3', ty: 'pdf', u: '/ag/PMDP_Install_Guide_v69.html', d: 'Install and configure Policy Manager for IBM WebSphere DataPower 6.9 on Windows and UNIX Platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing JBoss Agent 6.1', nt: 'Installing JBoss Agent 6.1', w: '5', ty: 'pdf', u: '/ag/agent_jboss_install_guide_v6.1.html', d: 'Install and configure Policy Manager 6.1 JBoss Agent on Windows, and all supported UNIX platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing tc Server Agent 6.1', nt: 'Installing tc Server Agent 6.1', w: '4', ty: 'pdf', u: '/ag/agent_tcserver_install_guide_v61.html', d: 'Install and configure Policy Manager 6.1 tc Server Agent on Windows, and all supported UNIX platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing WebLogic Agent 6.1', nt: 'Installing WebLogic Agent 6.1', w: '4', ty: 'pdf', u: '/ag/agent_weblogic_install_guide_v6.1.html', d: 'Install and configure Policy Manager 6.1 WebLogic Agent on Windows, and all supported UNIX platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing WebSphere Agent 6.1', nt: 'Installing WebSphere Agent 6.1', w: '3', ty: 'pdf', u: '/ag/agent_websphere_install_guide_v6.1.html', d: 'Install and configure Policy Manager 6.1 WebSphere Agent on Windows, and all supported UNIX platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'API Gateway Administration Guide 6.3', nt: 'API Gateway Administration Guide 6.3', w: '3', ty: 'pdf', u: '/ag/api_gateway_admin_guide_v63.html', d: 'Provides tools that allow you to manage your API Gateway Appliance installation.', nn: '', nc: '', sn: '', sc: ''} , { t: 'API Gateway Administration Guide 7.1.x', nt: 'API Gateway Administration Guide 7.1.x', w: '3', ty: 'pdf', u: '/ag/api_gateway_admin_guide_v71x.html', d: 'Provides tools that allow you to manage your API Gateway Appliance installation.', nn: '', nc: '', sn: '', sc: ''} , { t: 'SOA Software API Gateway 7.1.x Documentation', nt: 'SOA Software API Gateway 7.1.x Documentation', w: '6', ty: 'page', u: '/ag/api_gateway/api_gateway_help.htm', d: 'Learn how to install, configure, and administer the SOA Software API Gateway product.', nn: '', nc: '', sn: '', sc: ''} , { t: 'API Gateway Appliance Install Guide 6.3', nt: 'Installing API Gateway Appliance 6.3', w: '3', ty: 'pdf', u: '/ag/api_gateway_install_guide_v63.html', d: 'Install and configure the SOA Software API Gateway 6.3 virtual appliance (Policy Manager / Community Manager / Network Director) using an automated approach.', nn: '', nc: '', sn: '', sc: ''} , { t: 'API Gateway Appliance Install Guide 7.1.x', nt: 'Installing API Gateway Appliance 7.1.x', w: '3', ty: 'pdf', u: '/ag/api_gateway_install_guide_v71x.html', d: 'Install and configure the SOA Software API Gateway 7.1.x virtual appliance (Policy Manager / Community Manager / Network Director) using an automated approach.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Configuring a Standalone Container', nt: 'Configuring a Standalone Container', w: '2', ty: 'pdf', u: '/ag/config_standalone_container.html', d: 'Learn how to configure a Standalone Container using Policy Manager 7.x.', nn: '', nc: '', sn: '', sc: 'Administration'} , { t: 'Installing Intermediary for Microsoft 6.0', nt: 'Installing Intermediary for Microsoft 6.0', w: '3', ty: 'pdf', u: '/ag/intermediary_for_microsoft_install_guide_v60.html', d: 'Install and configure Intermediary for Microsoft 6.0 on Windows platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Kerberos Support in Policy Manager 7.1', nt: 'Kerberos Support in Policy Manager 7.1', w: '4', ty: 'pdf', u: '/ag/kerberos_support_v71.html', d: 'Learn how to enable communication with downstream services that utilize Kerberos authentication using SPNEGO and WS-Security.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Monitoring Data View Description', nt: 'Monitoring Data View', w: '5', ty: 'pdf', u: '/ag/monitoring_dataview.html', d: 'A description of the database view for Monitoring Data analytics.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Policy Manager 6.1 to 7.0 Upgrade Technical Note', nt: 'Upgrading Policy Manager 6.1 to 7.0', w: '2', ty: 'pdf', u: '/ag/pm61_pm70_upgrade_technical_note.html', d: 'Upgrade your Policy Manager 6.1 installation to Policy Manger 7.0.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Policy Manager 7.1 Upgrade Technical Note', nt: 'Upgrading Policy Manager 6.1 or 7.0 to 7.1', w: '2', ty: 'pdf', u: '/ag/pm71_upgrade_techical_note.html', d: 'Upgrade your Policy Manager 6.1 or 7.0 installation to Policy Manager 7.1.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Policy Manager 6.x/7.x Configuration Categories and Settings', nt: 'Policy Manager 6.x/7.x Configuration Categories and Settings', w: '6', ty: 'pdf', u: '/ag/pm_config_categories_6x_7x.html', d: 'Learn how optimize and troubleshoot issues with your Policy Manager 6.x/7.x deployment using configuration categories.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Policy Manager 6.x/7.x Configuration Categories and Settings', nt: 'Policy Manager 6.x/7.x Configuration Categories and Settings', w: '6', ty: 'pdf', u: '/ag/pm_config_categories_settings_6x_7x.html', d: 'Learn how optimize and troubleshoot issues with your Policy Manager 6.x/7.x deployment using configuration categories.', nn: '', nc: '', sn: '', sc: ''} , { t: 'SOA Software Platform 7.1 Documentation', nt: 'SOA Software Platform 7.1 Documentation', w: '6', ty: 'page', u: '/ag/policy_manager/pm_documentation.htm', d: 'Reference documentation for SOA Software Platform 7.1.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing Policy Manager 6.1', nt: 'Installing Policy Manager 6.1', w: '6', ty: 'pdf', u: '/ag/pm_install_guide_v6.1.html', d: 'Install and configure Policy Manager 6.1 on Windows, and all supported UNIX platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing Policy Manager 7.0', nt: 'Installing Policy Manager 7.0', w: '5', ty: 'pdf', u: '/ag/pm_install_guide_v7.0.html', d: 'Install and configure Policy Manager 7.0 on Windows, and all supported UNIX platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing Policy Manager 7.1', nt: 'Installing Policy Manager 7.1', w: '2', ty: 'pdf', u: '/ag/pm_install_guide_v7.1.html', d: 'Install and configure Policy Manager 7.1 on Windows, and all supported UNIX platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Policy Manager 7.0 API', nt: 'Policy Manager 7.0 API', w: '1', ty: 'htm', u: '/ag/policymanager_api.html', d: 'Provides a series of interfaces and classes you can use to build extensions to the Policy Manager product.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Process Reference for Policy Manager 7.x', nt: 'Policy Manager 7.x Process Reference', w: '1', ty: 'page', u: '/ag/processes/process_reference.htm', d: 'Learn to create a process and use process activities in Policy Manager 7.x.', nn: '', nc: '', sn: '', sc: ''} , { t: 'API Gateway Reference', nt: 'Reference', w: '5', ty: '', u: '/ag/reference.html', d: 'API Gateway Reference Documents', nn: 'true', nc: 'true', sn: '', sc: ''} , { t: 'Policy Manager 7.0 Scripting API', nt: 'Policy Manager 7.0 Scripting API', w: '1', ty: 'htm', u: '/ag/scripting_api.html', d: 'Provides a series of interfaces and classes you can use to build process related scripts.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Policy Manager 5.2 to 6.1 Upgrade Guide', nt: 'Upgrading Policy Manager 5.2 to 6.1', w: '5', ty: 'pdf', u: '/ag/sm52_sm61_upgrade_guide.html', d: 'Upgrade your Policy Manager 5.2 installation to Policy Manger 6.1.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing Visual Studio Add-In 6.2', nt: 'Installing Visual Studio Add-In 6.2', w: '3', ty: 'pdf', u: '/ag/soa_vs_install_v62.html', d: 'Install SOA Software Visual Studio Add-In 6.2 on supported Windows platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Using Visual Studio Add-In 6.2', nt: 'Using Visual Studio Add-In 6.2', w: '4', ty: 'pdf', u: '/ag/soa_vs_users_v62.html', d: 'Users guide for SOA Software Visual Studio Add-In 6.2.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Configuring Agent for WCF 6.2', nt: 'Configuring Agent for WCF 6.2', w: '4', ty: 'pdf', u: '/ag/soawcf_agent_config_v62.html', d: 'Configure SOA Software Service Manager Agent for WCF 6.2.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing Agent for WCF 6.2', nt: 'Installing Agent for WCF 6.2', w: '3', ty: 'pdf', u: '/ag/soawcf_agent_install_v62.html', d: 'Install SOA Software Service Manager Agent for WCF 6.2 on supported Windows platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Troubleshooting for Agent for WCF 6.2', nt: 'Troubleshooting Agent for WCF 6.2', w: '4', ty: 'pdf', u: '/ag/soawcf_agent_troubleshooting_v62.html', d: 'Troubleshooting resources and tips for SOA Software Service Manager Agent for WCF 6.2', nn: '', nc: '', sn: '', sc: ''} , { t: 'Configuring Delegate for WCF 6.2', nt: 'Configuring Agent for WCF 6.2', w: '4', ty: 'pdf', u: '/ag/soawcf_delegate_config_v62.html', d: 'Configure SOA Software Service Manager Delegate for WCF 6.2.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing Delegate for WCF 6.2', nt: 'Installing Delegate for WCF 6.2', w: '3', ty: 'pdf', u: '/ag/soawcf_delegate_install_v62.html', d: 'Install SOA Software Service Manager Delegate 6.2 for WCF on supported Windows platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Troubleshooting for Delegate for WCF 6.2', nt: 'Troubleshooting Delegate for WCF 6.2', w: '4', ty: 'pdf', u: '/ag/soawcf_delegate_troubleshooting_v62.html', d: 'Troubleshooting resources and tips for SOA Software Service Manager Delegate for WCF 6.2', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing SOLA CICS / IMS Container, Development Studio, and Resource Manager', nt: 'Installing SOLA', w: '9', ty: 'pdf', u: '/ag/sola_install_guide_6.1.html', d: 'Installing, configuring, and running the SOLA Development Studio on a J2EE platform (WebSphere, WebLogic or Tomcat), and installing the SOLA run-time on z/OS using SMP/E.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Troubleshooting for Policy Manager Agents', nt: 'Troubleshooting for Policy Manager Agents', w: '6', ty: 'pdf', u: '/ag/troubleshooting_agent_general_v1.html', d: 'General information and instructions to help troubleshoot issues with Policy Manager Agents.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Troubleshooting for Policy Manager Agent for tc Server v6.1', nt: 'Troubleshooting for Policy Manager Agent for tc Server', w: '6', ty: 'pdf', u: '/ag/troubleshooting_agent_ts_v1.html', d: 'Troubleshooting resources and tips for Policy Manager Agent for tc Server v6.1.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Troubleshooting for Policy Manager Agent for WebLogic v6.1', nt: 'Troubleshooting for Policy Manager Agent for WebLogic', w: '4', ty: 'pdf', u: '/ag/troubleshooting_agent_weblogic_v1.html', d: 'Troubleshooting resources and tips for Policy Manager Agent for WebLogic v6.1.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Troubleshooting for Policy Manager Agent for WebSphere v6.1', nt: 'Troubleshooting for Policy Manager Agent for WebSphere', w: '6', ty: 'pdf', u: '/ag/troubleshooting_agent_websphere_v1.html', d: 'Troubleshooting resources and tips for Policy Manager Agent for WebSphere v6.1.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Troubleshooting for Policy Manager for IBM WebSphere DataPower v6.1', nt: 'Troubleshooting for Policy Manager for DataPower', w: '6', ty: 'pdf', u: '/ag/troubleshooting_pm_dp_v2.html', d: 'Troubleshooting resources and tips for Policy Manager for IBM WebSphere DataPower v6.1.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Troubleshooting for Policy Manager and Network Director (versions 6.1 and 7.0)', nt: 'Troubleshooting for Policy Manager and Network Director', w: '6', ty: 'pdf', u: '/ag/troubleshooting_pm_nd_v2.html', d: 'Troubleshooting resources and tips for Policy Manager and Network Directory (versions 6.1 and 7.0.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Installing Agent for WCF 6.0 on Microsoft .NET', nt: 'Installing Agent for WCF 6.0', w: '10', ty: 'pdf', u: '/ag/wcf_install_guide.html', d: 'Installing Agent for WCF 6.0 on Microsoft .NET 3.5 and 4.0 platforms.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Managing Agent for WCF Services with Policy Manager 6.0', nt: 'Managing Agent for WCF Services', w: '10', ty: 'pdf', u: '/ag/wcf_management_guide.html', d: 'Manage WCF Services with Policy Manager 6.0 security policies and configure WCF policies with Network Director.', nn: '', nc: '', sn: '', sc: ''} ,  
		]};
</script>
<!-- end filtered pages for product and category list script -->
		<!-- left nav script -->
<script>
	function leftnav()
    {
        var i = 0, snClasses = [];
        var pages = unsorted_pages_prod_cat.pages.filter(function(a) {
            return (a.nn != 'true' && a.nn != 'api' && a.sc == '');
        }).sort(function CustomSort(a, b) {
            if ( ! a["w"] ) { a["w"] = 1000 ;}
            if ( ! b["w"] ) { b["w"] = 1000 ;}
            var weighta = a['w'];
            var weightb = b['w'];
            if(weighta != weightb){
                return (weighta - weightb);
            }
            else{
                return (a.nt.localeCompare(b.nt));
            }
        });
        var snpages = unsorted_pages_prod_cat.pages.filter(function(a) {
            return (a.nn != 'true' && a.nn != 'api' && a.sc != '');
        }).sort(function CustomSort(a, b) {
            if ( ! a["w"] ) { a["w"] = 1000 ;}
            if ( ! b["w"] ) { b["w"] = 1000 ;}
            var weighta = a['w'];
            var weightb = b['w'];
            if(weighta != weightb){
                return (weighta - weightb);
            }
            else{
                return (a.nt.localeCompare(b.nt));
            }
        });

        // Get the value of the sc query string (if present)
        var scParam = $.url().param('sc') || 'null';

        if (snpages.length == 0) {
            var ObjUl = $('<ul></ul>').hide();
            ObjUl.addClass("soa-ui-dc-container-main-left-nav");

            for (i = 0; i < pages.length; i++)
            {
                var Objli = $('<li></li>');
                var Obja = $('<a></a>');
                var Objp = $('<p></p>');

                Objli.attr("role", "menuitem");

                if ( pages[i].u == '/ag/processes/process_reference.htm' ) {
                    Obja.addClass("soa-ui-dc-container-main-left-nav-item-selected soa-ui-dc-container-main-left-nav-item-link");
                } else {
                    Obja.addClass("soa-ui-dc-container-main-left-nav-item-link");
                }

                if ( "/docs-test" ) {
                    Obja.attr("href", "/docs-test".concat(pages[i].u) );
                } else {
                    Obja.attr("href", pages[i].u );
                }
                if ( pages[i].ty == 'pdf' ) {
                    Obja.attr("target", "_blank");
                }
                if (pages[i].nt) {
                    Obja.html(pages[i].nt.replace("&amp;nbsp;", " "));
                } else {
                    Obja.html(pages[i].t.replace("&amp;nbsp;", " "));
                }

                Objli.addClass("soa-ui-dc-container-main-left-nav-item");
                Objli.append(Obja);

                ObjUl.append(Objli);
            }
            $('.soa-ui-dc-container-main-left').append(ObjUl);
        } else {
            for (; i < snpages.length; i++) {
                if (snClasses.indexOf(snpages[i].sc) < 0) {
                    snClasses.push(snpages[i].sc);
                }
            }
            snClasses.sort();

            var ObjUl = $('<ul></ul>').hide();
            ObjUl.addClass("soa-ui-dc-container-main-left-nav");

            // Iterate through the sub-nav-classes
            for (i = 0; i < snClasses.length; i++)
            {
                // Get the subnav for this class
                var classsnpages = snpages.filter(function(a) {
                    return (a.sc == snClasses[i]);
                });

                var ObjInnerUl = $('<ul></ul>');
                ObjInnerUl.addClass("soa-ui-dc-container-main-left-nav soa-ui-dc-container-main-left-nav-inner");
                for (j = 0; j < classsnpages.length; j++)
                {
                    var ObjInnerli = $('<li></li>');
                    var ObjInnera = $('<a></a>');
                    var ObjInnerp = $('<p></p>');

                    ObjInnerli.attr("role", "menuitem");

                    if ( classsnpages[j].u == '/ag/processes/process_reference.htm' ) {
                        ObjInnera.addClass("soa-ui-dc-container-main-left-nav-item-selected soa-ui-dc-container-main-left-nav-item-link");
                    } else {
                        ObjInnera.addClass("soa-ui-dc-container-main-left-nav-item-link");
                    }

                    if ( "/docs-test" ) {
                        ObjInnera.attr("href", "/docs-test".concat(classsnpages[j].u) );
                    } else {
                        ObjInnera.attr("href", classsnpages[j].u );
                    }
                    if ( classsnpages[j].ty == 'pdf' ) {
                        ObjInnera.attr("target", "_blank");
                    }
                    if (classsnpages[j].nt) {
                        ObjInnera.html(classsnpages[j].nt.replace("&amp;nbsp;", " "));
                    } else {
                        ObjInnera.html(classsnpages[j].t.replace("&amp;nbsp;", " "));
                    }

                    ObjInnerli.addClass("soa-ui-dc-container-main-left-nav-item");
                    ObjInnerli.append(ObjInnera);
                    ObjInnerUl.append(ObjInnerli);          
                }

                var Objli = $('<li></li>');
                var Obja = $('<a></a>');
                var Objp = $('<p></p>');

                if ( ('' == snClasses[i]) || (scParam == snClasses[i]) ) {
                    Objli.addClass("soa-ui-dc-container-main-left-nav-item-selected");
                }

                Obja.addClass("soa-ui-dc-container-main-left-nav-item-link");

                // Construct the URL for the subnav heading entry link
                var subnavLink = "";

                // Start with the product
                if ( "/docs-test" ) {
                    subnavLink = "/docs-test/".concat('ag');
                } else {
                    subnavLink = "/".concat('ag');
                }
                // Add the category
                switch ( 'ref' ) {
                    case "gs":
                        subnavLink += "/getting-started.html";
                        break;
                    case "learn":
                        subnavLink += "/learning.html";
                        break;
                    case "ref":
                        subnavLink += "/reference.html";
                        break;
                }
                // And put the subnav-class as a query param
                subnavLink += "?sc=" + snClasses[i];
                Obja.attr("href", subnavLink);

                Obja.html(snClasses[i]);

                Objli.addClass("soa-ui-dc-container-main-left-nav-item");

                Objli.append(Obja);

                if (classsnpages.length > 0) {
                    Objli.append(ObjInnerUl);
                }

                ObjUl.append(Objli);
            }
            // And now add the miscellaneous (uncategorized) entries
            var ObjInnerUl = $('<ul></ul>');
            ObjInnerUl.addClass("soa-ui-dc-container-main-left-nav soa-ui-dc-container-main-left-nav-inner");
            for (j = 0; j < pages.length; j++)
            {
                var ObjInnerli = $('<li></li>');
                var ObjInnera = $('<a></a>');
                var ObjInnerp = $('<p></p>');

                ObjInnerli.attr("role", "menuitem");

                if ( pages[j].u == '/ag/processes/process_reference.htm' ) {
                    ObjInnera.addClass("soa-ui-dc-container-main-left-nav-item-selected soa-ui-dc-container-main-left-nav-item-link");
                } else {
                    ObjInnera.addClass("soa-ui-dc-container-main-left-nav-item-link");
                }

                if ( "/docs-test" ) {
                    ObjInnera.attr("href", "/docs-test".concat(pages[j].u) );
                } else {
                    ObjInnera.attr("href", pages[j].u );
                }
                if ( pages[j].ty == 'pdf' ) {
                    ObjInnera.attr("target", "_blank");
                }
                if (pages[j].nt) {
                    ObjInnera.html(pages[j].nt.replace("&amp;nbsp;", " "));
                } else {
                    ObjInnera.html(pages[j].t.replace("&amp;nbsp;", " "));
                }

                ObjInnerli.addClass("soa-ui-dc-container-main-left-nav-item");
                ObjInnerli.append(ObjInnera);
                ObjInnerUl.append(ObjInnerli);          
            }

            var Objli = $('<li></li>');
            var Obja = $('<a></a>');
            var Objp = $('<p></p>');

            if ( ('' == '' && 'page' == 'page') ||
                (scParam == "undefined") ) {
                Objli.addClass("soa-ui-dc-container-main-left-nav-item-selected");
            }

            Obja.addClass("soa-ui-dc-container-main-left-nav-item-link");

            // Construct the URL for the subnav heading entry link
            var subnavLink = "";

            // Start with the product
            if ( "/docs-test" ) {
                subnavLink = "/docs-test/".concat('ag');
            } else {
                subnavLink = "/".concat('ag');
            }
            // Add the category
            switch ( 'ref' ) {
                case "gs":
                    subnavLink += "/getting-started.html";
                    break;
                case "learn":
                    subnavLink += "/learning.html";
                    break;
                case "ref":
                    subnavLink += "/reference.html";
                    break;
            }
            // And put the subnav-class as a query param
            subnavLink += "?sc=" + snClasses[i];
            Obja.attr("href", subnavLink);

            Obja.html("Miscellaneous");

            Objli.addClass("soa-ui-dc-container-main-left-nav-item");

            Objli.append(Obja);

            if (pages.length > 0) {
                Objli.append(ObjInnerUl);
            }

            ObjUl.append(Objli);

            $('.soa-ui-dc-container-main-left').append(ObjUl);
        }
    }
    $(document).ready(function() {
        leftnav();
        $(".soa-ui-dc-container-main-left").find("ul").first().show();
        $(".soa-ui-dc-container-main").removeClass("soa-ui-dc-before-load");
    });
</script>
<!-- End left nav script -->
	</head>
	<body>
		<div class="soa-ui-dc-top-bar-wrapper">
	<div class="top-bar">

					<h2 class="soa-ui-dc-logo-container">
				<a href="/docs-test/index.html" class="soa-ui-dc-logo">
					<img src="/docs-test/style/images/SOA-Logo.png" alt="SOA Software &trade;, Powering the API Economy" width="215" height="62">
				</a><!-- logo link, replace href -->
			</h2>


		<div class="soa-ui-dc-topnav-wrapper">
			<div class="soa-ui-dc-topnav-container">
				<!-- top nav starts here -->
				<ul class="soa-ui-dc-topnav soa-ui-dc-clearthis">
					<li class="soa-ui-dc-topnav-item ">
						<a href="/docs-test/sp/index.html" class="soa-ui-dc-topnav-item-link soa-ui-dc-icon soa-ui-dc-topnav-item-link-soaplatform"><span class="soa-ui-dc-topnav-item-link-firstword">DEPLOYMENT</span> PLATFORM</a><!-- replace href -->
					</li>					
					<li class="soa-ui-dc-topnav-item ">
						<a href="/docs-test/cm/index.html" class="soa-ui-dc-topnav-item-link soa-ui-dc-icon soa-ui-dc-topnav-item-link-communitymanager"><span class="soa-ui-dc-topnav-item-link-firstword">COMMUNITY</span> MANAGER</a><!-- replace href -->
					</li>
					<li class="soa-ui-dc-topnav-item soa-ui-dc-topnav-item-active">
						<a href="/docs-test/ag/index.html" class="soa-ui-dc-topnav-item-link soa-ui-dc-icon soa-ui-dc-topnav-item-link-apigateway"><span class="soa-ui-dc-topnav-item-link-firstword">API</span> GATEWAY</a><!-- replace href -->
					</li>
					<li class="soa-ui-dc-topnav-item ">
						<a href="/docs-test/lm/index.html" class="soa-ui-dc-topnav-item-link soa-ui-dc-icon soa-ui-dc-topnav-item-link-lifecyclemanager"><span class="soa-ui-dc-topnav-item-link-firstword">LIFECYCLE</span> MANAGER</a><!-- replace href -->
					</li>
				</ul>
				<!-- top nav ends here -->
			</div>
			<div class="soa-ui-dc-subnav-container">
				<!-- sub nav starts here -->
				<ul class="soa-ui-dc-subnav soa-ui-dc-clearthis">
					<li class="soa-ui-dc-subnav-item">
						<a href="/docs-test/ag/getting-started.html" class="soa-ui-dc-subnav-item-link soa-ui-dc-icon soa-ui-dc-icon-action-dark">Getting Started</a>
					</li>
					<li class="soa-ui-dc-subnav-item">
						<a href="/docs-test/ag/learning.html" class="soa-ui-dc-subnav-item-link soa-ui-dc-icon soa-ui-dc-icon-action-dark">Learning</a><!-- replace href -->
					</li>
					<li class="soa-ui-dc-subnav-item">
						<a href="/docs-test/ag/reference.html" class="soa-ui-dc-subnav-item-link soa-ui-dc-icon soa-ui-dc-icon-action-dark soa-ui-dc-subnav-item-link-active">Reference</a><!-- replace href -->
					</li>
				</ul>
				<!-- sub nav ends here -->
			</div>
		</div>

					<div class="soa-ui-dc-topsearch-container">
				<form class="soa-ui-dc-topsearch">
					<label for="soa-control-dc-search" class="soa-ui-dc-label soa-ui-dc-label-hidden">Enter Search Text</label>
					<input type="text" id="soa-control-dc-search-query" name="q" placeholder="Search" autocomplete="off" class="soa-ui-dc-topsearch-input">
					<button class="soa-ui-dc-topsearch-button soa-ui-dc-icon-imgtxt soa-ui-dc-icon-magnifying-glass" type="button">Search</button>
				</form>
				<div id="soa-control-dc-search-results" class="soa-ui-dc-inline-search-div soa-ui-dc-icon" style="display: none;">
					<ul class="soa-ui-dc-buttons">
						<li>
							<button id="soa-control-dc-close-results" type="button" class="soa-ui-dc-icon-imgtxt soa-ui-dc-button soa-ui-dc-button-borderless soa-ui-dc-button-close">Close</button>
						</li>
					</ul>
					<h3 class="soa-ui-dc-content-header">Search Results</h3>
					<div id="soa-control-dc-search-result-entries">
					</div>
				</div>
			</div>

		    
		    <script id="soa-control-dc-search-results-template" type="text/x-handlebars-template">
				{{#entries}}
					<div class="soa-ui-dc-content-catalog">
						<ul class="soa-ui-dc-content-catalog-items">
							<li class="soa-ui-dc-content-catalog-item soa-ui-dc-2col-with-avatar soa-ui-dc-clearthis">
								<div class="soa-ui-dc-avatar-box">
									<h4 class="soa-ui-dc-icon-imgtxt soa-ui-dc-document-type soa-ui-dc-icon-{{ type }}">
									Document
									</h4>
								</div>
								<div class="soa-ui-dc-details-box">
									<div class="soa-ui-dc-section">
										<h3 class="soa-ui-dc-section-header">
											<a href="/docs-test{{ url }}"{{#if_eq type "pdf"}} target="_blank"{{/if_eq}}>{{ title }}</a>
										</h3>
										<p class="soa-ui-dc-section-paragraph">
										{{ description }}
										</p>
									</div>
								</div>
							</li>
						</ul>
					</div>
				{{/entries}}
		    </script>
		    
		
	</div>
</div>
		<div class="soa-ui-dc-container-main soa-ui-dc-clearthis">
			<!-- left nav -->
			<div class="soa-ui-dc-container-main-left">
				<h3 class="soa-ui-dc-container-main-left-header">
					
					<a href="/docs-test/ag/reference.html" class="soa-ui-dc-container-main-left-header-link">Reference</a>
								
				</h3>

			</div>
<!-- End left nav -->
			<div class="soa-ui-dc-container-main-content"><!-- main content starts here -->
				<div class="documentation supportContent">
					<a name="top"></a>

<h2 name="top">Process Reference</h2>

<p>Learn  to create a process and use process activities.</p>

<a href="getting_started_with_processes.htm" class="button secondary"> Getting Started</a>


<a href="process_management.htm" class="button secondary">Managing Processes</a>



<p></p>
<div class = "divider1"></div>

<h3 style="color: gray;">Table of Contents</h3>


<ol class="table_of_contents">

 <li><a href="#processes">About Processes</a></li>
 <li><a href="#processeditor">Process Editor</a></li>

 <li><a href="#faultsequenceeditor">Fault Sequence Editor</a></li>

  <li><a href="#variableeditor">Variable Editor</a></li>

    <li><a href="#receiveactivity">Receive Activity</a></li>
        <li><a href="#replyactivity">Reply Activity</a></li>

         <li><a href="#invokeactivity">Invoke Activity</a></li>


    <li><a href="#scriptactivity">Script Activity</a></li>

                <li><a href="#branchactivity">Branch Activity</a></li>
  <li><a href="#transformationactivity">Transformation Activity</a></li>

    <li><a href="#auditactivity">Audit Activity</a></li>

    <li><a href="#insertcontentactivity">Insert Content Activity</a></li>

        <li><a href="#processactivity">Process Activity</a></li>
</ol>



<div class = "divider1"></div>



<a name="processes">
<h3>About Processes</h3></a>
<p>A process is an ordered graph of activities that can be performed by a container that supports the virtualization capability, like the Network Director. The logic performed in a virtual service operation is defined as a process. When a message is received by the container, once the virtual service operation is identified, its process is executed. As dictated by the activities in the process, down-stream services may be invoked. As a result of process execution, a response to the original message is generated.
</p>
<p>An example of a process is the default process of a virtual service operation. In that process a message is received using a <a href="#receiveactivity">Receive Activity</a>, an Invoke Activity is executed that calls the virtualized service operation, and a Reply responds with the response from the Invoke Activity.  </p>
<p>Processes can get much more complex to perform functions like transformation and content based routing. The author of the process can assemble activities to achieve the results they would like.  </p>
<p>Policy Manager allows the creation of processes within two different contexts, as the implementation of a virtual service operation (Services &gt; Operation &gt; Process or Services &gt; Operation &gt; Fault section), and as a standalone process (Processes Folder) that can be invoked by another process to achieve reusability. In all contexts, a graphical editor is provided to construct the process. </p>

<p><a href="#top">Back to top</a></p>

<a name="processeditor"><h3>Process Editor</h3></a>

<p>The <em>Process Editor</em> allows you to create a process in a graphical drag-and-drop environment. The process begins by receiving a message (see the <a href="#receiveactivity">Receive Activity</a>) and the process ends when a message is returned (see the <a href="#replyactivity">Reply Activity</a>) to the caller.</p>
<p><img src="images/process_editor_activity_palette.jpg" width="577" height="395"></p>
<p>Figure. Process Editor Activity Palette</p>
<h5>Activities</h5>
<p>The activities available to be called from within a process are available on an <em>Activity Palette</em> located on the upper left hand side of the editor graph. An activity icon in the palette can be selected and dragged on to the process editor graph. Activities are called in order and are linked together by directional connectors. To link two activities select the middle of the activity that will be executed first. A circle with an error should appear. <br>
  <br>
  <img src="images/starting_a_link_between_activities.jpg" width="402" height="230"></p>
<p>Figure. Starting a Link Between Activities</p>
<p>Drag your mouse to the center of the activity to be executed next and release. A directional connector should be drawn linking the two activities.</p>
<p><img src="images/completing_a_link_between_activities.jpg" width="442" height="138"></p>
<p>Figure. Completing a Link Between Activities</p>
<h5>Sequence</h5>
<p>A series of activities linked together is called a <em>Sequence</em>. A sequence is terminated by either a <a href="#branchactivity">Branch Activity</a> (see below) or by a <a href="#replyactivity">Reply Activity</a> (see below). A set of linked activities from the <a href="#receiveactivity">Receive Activity</a> to a <a href="#replyactivity">Reply Activity</a> may contain several sequences separated by Branch Activities. That entire set of linked activities is called a <em>Flow</em>. </p>
<p>Functions that can be performed on the entire process are available on a toolbar located on the lower left hand side of the editor graph.</p>
<p><img src="images/process_editor_toolbar.jpg" width="539" height="371"></p>
<p>Figure. Process Editor Toolbar</p>
<p>The toolbar has functions such as saving the process, editing the variables used in the process (see <a href="#variableeditor">Variable Editor</a>), refreshing the page, or undoing the last action.</p>

<p><a href="#top">Back to top</a></p>
<a name="faultsequenceeditor">
<h3>Fault Sequence Editor</h3></a>
<p>Next to the Process Editor tab is a tab labeled <em>Fault</em>. On this tab you define a sequence of activities you want executed when a fault is encountered at any point of your main process. In the main process once a fault is encountered, the process execution immediately stops and the activity sequence in the Fault tab is executed.<br>
  <br>
  <img src="images/fault_sequence_editor.jpg" width="538" height="370"></p>
<p>Figure. Fault Sequence Editor</p>
<p>The <em>Fault Sequence Editor </em>works exactly like the main Process Editor except that the sequence does not need to begin with a Receive Activity. The Receive from the external client has already been executed in the main process. At this point we are just executing activities within the same process context. </p>
<p>When the fault sequence is executed, the reserved variable name “fault” will contain the fault message that is triggering the sequence. Activities that reference variables can use this fault variable.  </p>
<p>A fault sequence is not required. If there is no fault sequence the system will simply return the fault back to the client. If a sequence is constructed, at a minimum a Reply Activity must be present at the end. Any of the activities in the activity palette can be used in the fault sequence including <a href="#branchactivity">Branch </a> activities. Each branch however must end with a Reply Activity.</p>
<p> The Reply Activity can be configured to return a fault message or a regular message as controlled by Fault field in the Reply Activity Editor (see the <a href="#replyactivity">Reply Activity</a> section below). The reserved fault name “CurrentFault” as seen in the fault name pull-down indicates that the fault name for the content of the fault variable will be used as-is. The name can be changed however to any of the operation faults or to a Binding Fault instead. This will allow you to perform fault mediation. </p>

<p><a href="#top">Back to top</a></p>
<a name="variableeditor">
<h3><img src="images/variables_editor_icon.jpg" width="26" height="30"> Variable Editor</h3></a>
<p>The <em>Variable Editor</em> is an interface for defining variables that can be used in the process. Variables can be used in different activities to dictate behavior, such as using a variable to identify the endpoint of a service to invoke. Variables can also be used to store the output from web service invocations or provide input to web service invocations.<br>
  <br>
  <img src="images/variable_editor.jpg" width="523" height="181"></p>
<p>Figure. Variable Editor</p>
<p>A variable is identified by a name and defined by a type, or syntax. The types recognized by the system are message (used for input or output of a web service invocation, request, or reply activity), string, int, long, boolean, float, or any (can hold any content). Activities that support the use of variables in their configurations will often restrict the use of variables based on type. Optionally a default value can be given to a variable. If there is a default, at the beginning of process execution the variable will be given that value.</p>

<p><a href="#top">Back to top</a></p>
<a name="receiveactivity"><h3><img src="images/receive_activity_icon.jpg" width="44" height="42">Receive Activity</h3></a>
<p>The Receive Activity provides the entry point into the process. The caller will invoke the process by providing it with a message. That message will be stored in the variable selected in the activity’s configuration screen. Only variables of type message can be used. There can only be one Receive activity in a process.<br>
  <br>
  <img src="images/receive_activity_editor.jpg" width="631" height="69">
</p>
<p>Figure. Receive Activity Editor</p>

<p><a href="#top">Back to top</a></p>
<a name="replyactivity"><h3><img src="images/receive_activity_icon.jpg" width="44" height="42">Reply Activity</h3></a>
<p>The Reply Activity provides the exit point from a process. Every flow through the process must have one and only one Reply Activity. This means if there are multiple branches created from a <a href="#branchactivity">Branch Activity</a>, each branch must be terminated with a Reply Activity. The Reply Activity can return a message to the caller. It is not required for one-way operation processes. Only variables of type message can be used.<br>
  <br>
  <img src="images/reply_activity_editor.jpg" width="630" height="68">
</p>
<p>Figure. Reply Activity Editor</p>
<h5>Application and Binding Faults</h5>
<p>In addition to specifying the variable holding the message to return you can also indicate that the message is a fault by providing a Fault Name. Faults fall into two main categories, application faults and binding faults. </p>

<ul class="usingOrderedList">

<li>An application fault is caused by a problem in the business process of the operation. For example if the operation was to withdraw funds an application fault may be for identifying there were insufficient funds.</li>
<li>A binding fault is not specific to the business function of the operation. It a problem at the protocol layer itself. Binding faults are general to all operations. Examples would be security failures, communication failures, message parsing errors, etc. </li>

</ul>

<p>An application fault will be defined in the WSDL document for the operation. Policies can be attached to them. A binding fault is typically not referenced anywhere. In the Reply Activity Editor a Fault Name pull-down is provided that will contain the application faults found in the WSDL document for the operation as well as a reserved fault name of “BindingFault.” You can choose what the message being returned represents. One other option is provided that is called “CurrentFault.” That option is available only in the Fault Sequence Editor. It requires the reserved fault variable to be filled with a message and its fault name to be already known and used here.<br>
  <br>
  <img src="images/fault_reply_activity.jpg" width="630" height="151"></p>
<p>Figure. Fault Reply Activity</p>

<p><a href="#top">Back to top</a></p>


<a name="invokeactivity">
<h3><img src="images/invoke_activity_icon.jpg" width="41" height="38" align="absbottom"> Invoke Activity</h3></a>

<p>The Invoke Activity invokes the operation of a service registered in the system. The operation is invoked by sending a message that is specified as an input variable to the activity. The response from the operation invocation is stored in an output variable. The input and output variables can both be the same variable.<br>
<br>
<img src="images/Invoke_Activity_Input_and_Output_Variables.jpg" width="587" height="75"></p>
<p>Figure. Invoke Activity Input and Output Variables</p>
<p>The operation that will get invoked can be specified either statically or dynamically through the use of variables. To statically identify the operation to invoke, first start by searching for the service with the operation.<br>
  <br>
  <img src="images/invoked_service_search.jpg" width="599" height="111"></p>
<p>Figure. Invoked Service Search</p>
<p>The search is performed using QNames. When the Search button is clicked the system searches for any service with a QName that contains what is typed in the Service QName field. If nothing is entered all services will be returned. <br>
  <br>
  <img src="images/invoked_service_search_results.jpg" width="585" height="246"></p>
<p>Figure. Invoked Service Search Result</p>
<p>The search results are listed in the Service pull-down. Once the correct service is selected the interface pull-down will be populated with the interfaces defined for the selected service. Then once the correct interface is selected the operations in the selected interface will populate the Operation pull-down. Finally the operation can be selected.</p>
<p><img src="images/static_operation_selection.jpg" width="587" height="151"></p>
<p>Figure. Static  Operation Selection</p>
<p>Variables can be used for specifying the service, interface, and/or operation. The variable must be a string typed variable.  For service and operation the string must be in a QName format of {namespace}localpart. If at runtime any of the variable values do not match with what is registered in Policy Manager the invocation will fail. You can mix static selections with variables but once a variable is used the remaining selections must also be variables. For example, if you use a variable for interface you must use a variable for operation.</p>
<p><img src="images/static_and_dynamic_variable_operation_selection.jpg" width="585" height="151"></p>
<p>Figure. Static and Dynamic (Variable) Operation Selection</p>
<p>By default the access point (endpoint) that is called when invoking the operation is selected by the runtime container using its selection strategy. You can dictate what access point is called by selecting the Invoke Access Point Directly checkbox. Once selected you can either enter a URL directly or an access point by name. Just as you can for service, interface, and operation, you can select the access point from its pull-down or use a string variable that will be resolved at runtime.<br>
  <br>
  <img src="images/direct_access_point_invocation.jpg" width="590" height="113"></p>
<p>Figure. Direct Access Point Invocation</p>
<p>By default the identities used when invoking the operation are dictated by the outbound identity configuration of the virtual service. It is possible to change those identities for the individual Invoke activity by selecting the Custom Mapping radio button in the Identity section.<br>
  <br>
  <img src="images/custom_identity_mapping_selection.jpg" width="585" height="47"></p>
<p>Figure. Custom Identity Mapping Selection</p>
<p>Once selected the <strong>Next</strong> button of the activity wizard will be enabled. Select <strong>Next</strong> and the Outbound Identity Configuration page will be displayed. This page works similarly to the Outbound Identity Configuration page for the virtual service. You select source and outbound subject categories to create mappings.</p>
<p><img src="images/custom_outbound_identity_configuration.jpg" width="600" height="179"></p>
<p>Figure. Custom Outbound Identity Configuration</p>
<p>Auditing the message as it is sent over the wire to the access point can be achieved by simply selecting the Audit checkbox. The virtual service operation invocation that is executing the process must be currently being audited by use of an auditing policy for the downstream message to be audited.</p>

<p><a href="#top">Back to top</a></p>


<a name="scriptactivity"><h3><img src="images/script_activity_icon.jpg" width="39" height="34">Script Activity</h3></a>

<p>The Script Activity provides the ability to execute a script at the point in the process the activity is connected. The script can be written in either JavaScript, Jython, or BeanShell.
</p>
<p>The Script Details Editor is organized into two separate areas, Imports and Source. The Source has a pull-down where you can select the script language. It also has a large source code editor text area. <br>
  <br>
  <img src="images/script_activity_source_area.jpg" width="591" height="140"></p>
<p>Figure. Script Activity Source Area</p>
<p>Common functions that you may need to perform in your scripts can be saved in Script objects using the <strong>Add Script</strong> function in the <em>Scripts</em> section of each Organization in the Policy Manager Workbench. To make use of those common functions from the Script Activity the Script objects defining those functions must be imported. The Imports area is where those scripts are identified for import. The available scripts are listed in the Available Scripts tree. Any number of Scripts in that tree can be moved to the Imported Scripts list box. Only scripts that match the language type will be available for selection in the tree. The script does not return a value. </p>
<p><br>
  <br>
  <img src="images/script_activity_imports_area.jpg" width="572" height="174"></p>
<p>Figure. Script Activity Imports Area</p>
<p>In the figure above the json2 Script from the Registry Scripts folder is imported. Any functions defined in json2 can be used within the Script Activity source code.
</p>
<p>The following pre-defined variables are provided.  For more information refer to the Scripts API located in the \sm70\docs\scriptDocs folder of the Policy Manager 7.0 release folder. Click index.htm to launch the documentation: </p>
<ul class="usingOrderedList">

<li>
  <strong>processContext</strong> – Provides functions for retrieving and changing information about the currently running process, such as the variables defined in the process and the authenticated subject(s) of the process.
</li>


<li>
  <strong>systemLog</strong> – Provides logging functions to the container&rsquo;s log. The statements logged with this interface are mixed with the other system log statements.
</li>

<li>
  <strong>auditLog</strong> – Provides logging functions to the process audit log. If auditing is enabled for the virtual service operation that is invoking the process statements logged using this variable log information will be inserted into the audited message log for the operation&rsquo;s execution. This can be found on the service&rsquo;s Monitoring tab in the Logs sub-tab.
</li>

<li>
  <strong>alerter</strong> – Provides an interface for generating alerts that are displayed in on the Policy Manager alert pages.
</li>
<li>
  <strong>recorder</strong> – Provides an interface for recording content in the Policy Manager usage log pages.
</li>

<li>
  <strong>msgFactory</strong> – Providers functions for create message variables. A message variable cannot  simply be assigned content like a simple string or int variable. It must be initialized using one of the functions in the msgFactory.
</li>
</ul>

<h5>Normalized Copy Example</h5>
<p>The following is a script that creates a normalized copy of a message and saves it as a variable.</p>
  <img src="images/script_activity_message1.jpg" width="589" height="39"><br>
</p>

<p>On line 1 the processContext is used to get the message variable named “message”. On line 2 a normalized copy is made of the message. Finally on line 3 the processContext is used to save the normalized copy as a variable named “copy” that can be used in other activities that execute after this one in the process.<br>
</p>
<h5>Normalized Message Creation Example</h5>

<p>The next script illustrates the use of the msgFactory to create a normalized message. A normalized message contains the XML element referenced in the wsdl:Message element in a WSDL document.</p>

<p><img src="images/script_activity_message2.jpg" width="613" height="67"> </p>
<p>On line 3 the msgFactory is used to create a normalized message named temp. On line 4 the content from line 1 is set as the temp message content. On line 5 the processContext is used to save the new message as a variable named temp.</p>

<h5>Protocol Message Creation Example</h5>

<p>
  Message creation is not limited to normalized messages. Protocol specific messages of any content-type can be constructed using the msgFactory. The following example shows the creation of a JSON message.</p>
<p><img src="images/script_activity_message3.jpg" width="602" height="65"></p>
<p>Note on line 2 the call on the msgFactory to create the message is different, both in function name and the need for specifying the content-type of the message, application/json in this case.</p>

<p><a href="#top">Back to top</a></p>
<a name="branchactivity">
<h3><img src="images/branch_activity_icon.jpg" width="31" height="24"> Branch Activity</h3></a>
<p>The Branch Activity provides a mechanism to have alternate process flows, or branches, based on boolean conditions. Drop the Branch Activity on the Process page and connect the last activity to be executed before the branch to the Branch Activity.<br>
  <br>
  <img src="images/adding_a_branch_activity.jpg" width="262" height="140">
</p>
<p>Figure. Adding a Branch Activity</p>
<p>The Branch Activity itself has very little configuration. It is the branch conditions themselves that have most of the information. If you double click on the Branch Activity you can see a list of the conditions and most importantly you can establish what expression language each branch condition will use. All branch conditions must use the same language. The supported languages are XPath, JavaScript, Jython, or BeanShell.<br>
  <br>
  <img src="images/branch_activity_editor.jpg" width="577" height="162"></p>
<p>Figure. Branch Activity Editor</p>
<p>To create a branch add the next activity to be performed to the process graph, select the Branch Activity and connect it  to the next activity.<br>
  <br>
  <img src="images/creating_a_branch.jpg" width="487" height="160"></p>
<p>Figure. Creating a Branch</p>
<p>A Branch Activity is similar to a Java switch statement. It can support multiple branches. Only one branch will be followed. The branches have boolean conditions defined either by an XPath expression or a script.  Each branch is evaluated in order. The first to evaluate to true is selected and the sequence of activities associated with the branch are performed. </p>
<p>Branch conditions are defined separately from the main Branch Activity in the Condition Details Editor. You add a branch condition by adding a new activity to the sequence (e.g., Script Activity, Invoke Activity, etc. ) and dragging a connector from the main Branch Activity to the target activity. There must always be a default branch that can be selected if no other branch conditions evaluate to true. This default branch condition is named &quot;Otherwise&quot; and must be added and set for each Branch Activity configuration. </p>
  <p>A branch condition can be written in any of the languages in the drop-down, is set in the Branch Details Editor  and can only be changed there. The language selected will apply to all conditions within the branch. </p>
  <p>Note that if you have branch conditions defined and you choose to change the language all source will be deleted.  It is recommended that you make a copy of your source content prior to changing the language.</p>
  <p>After you select the language for case conditions, you then save and exit your Branch Activity and add your connections. </p>
  <p>The result of the condition must be either true or false. If there are multiple conditions for a branch, the order in which they are executed can be changed by moving each condition up or down in the Case Conditions table. Note that the &quot;Otherwise&quot; condition does not display in the Case Conditions table but must still be defined. </p>

<p>  The first branch created in most cases will become the Otherwise branch although that can be changed. To change a branch&rsquo;s condition double click on the connector between the Branch Activity and the next activity in the branch sequence. The branch condition can be written in either XPath, JavaScript, Jython, or BeanShell. The result of the condition must be either true or false.<br>
  <br>
  <img src="images/branch_condition_editor.jpg" width="521" height="371"></p>
<p>Figure. Branch Condition Editor</p>
<p>In the figure above the condition is configured to use XPath as the language for the boolean expression. The expression checks for the first price element found in the content of the message named “message” and if its value is greater than 100 then this condition is met. Note the namespace prefix is defined at the bottom of the page.
</p>
<p>When using XPath as the expression language a field for selecting a message variable to use as the context of the expression is displayed. The expression will be evaluated against that variable’s content. The variable’s content must be XML or an error will be generated at runtime.</p>
<p> When using a script language the script is evaluated and the last line of execution is expected to result in a boolean true or false. The context of the script is provided with a subset of the variables described in the Script Activity above: </p>
<ul class="usingOrderedList">

<li>
  <strong>processContext</strong> – Provides functions for retrieving and changing information about the currently running process, such as the variables defined in the process and the authenticated subject(s) of the process.
</li>


<li>
  <strong>systemLog</strong> – Provides logging functions to the container&rsquo;s log. The statements logged with this interface are mixed with the other system log statements.
</li>

<li>
  <strong>auditLog</strong> – Provides logging functions to the process audit log. If auditing is enabled for the virtual service operation that is invoking the process statements logged using this variable will be inserted into the audited message log for the operation&rsquo;s execution. This can be found on the service&rsquo;s <em>Monitoring</em> tab in the <em>Logs</em> sub-tab. </li>
</ul>
<p>In the following figure the condition is triggered when the value of the price variable is greater than 100.</p>
<p><img src="images/javascript_branch_condition.jpg" width="569" height="163"></p>
<p>Figure. JavaScript Branch Condition</p>

<p><a href="#top">Back to top</a></p>

<a name="transformationactivity"><h3><img src="images/transformation_activity_icon.jpg" width="40" height="36">Transformation Activity</h3></a>
<p>The Transformation Activity provides a mechanism for transforming XML message or string content. The transformation is based on XSLT. The input to the activity can be a message or string variable. The transformed content will replace the input variable content at the completion of the activity.<br>
  <br>
  <img src="images/transformation_activity_example.jpg" width="581" height="301"></p>
<p>Figure. Transformation Activity Example<br>
</p>
<p>In the figure above, the XSL Stylesheet will remove the BankId element and prefix the account id of each account with the bank id. If the message variable had the following content:<br>
  <br>
  <img src="images/transformation_activity_message1.jpg" width="519" height="145"></p><br>

<p>After executing this Transformation Activity the content of the message variable will be:</p>
<p><br>
  <img src="images/transformation_activity_message2.jpg" width="515" height="127"> </p>
<a name="auditactivity">
<h3><img src="images/Audit Activity Icon.jpg" width="28" height="29"> Audit Activity</h3></a>
<p>The Audit Activity provides a mechanism for auditing a message. The audited message content is recorded and displayed as audited message content from an Auditing Policy. This information displays on the   <em>Monitoring</em> pages of a service (i.e., Services &gt; Monitoring). The input to the activity can be a message variable. </p>
<p>There are several options for what portion of the message variable content will be audited. In the Capture Details section of the Activity Editor there are two primary options; to capture the <em>complete</em> message or a <em>portion</em> of the message. <br>
  <br>
  <img src="images/auditing_complete_message.jpg" width="601" height="115"></p>
<p>Figure. Auditing Complete Message</p>
<p>If the &quot;Capture complete message&quot; option is selected only a record name, or label, needs to be specified. If the &quot;Capture message at the following expressions&quot; option is  selected a list of expressions can be entered.<br>
  <br>
  <img src="images/auditing_portions_of_message.jpg" width="534" height="219"></p>
<p>Figure. Auditing Portions of Message</p>
<p>Each expression can use a different language. The supported languages are XPath, JSONPath, and Regular Expression. The XPath expressions are used when the input content is XML. The JSONPath expressions are used when the input content is JSON. The Regular Expressions are used for all other types of content. Each expression will have its own Record Name, or label.
</p>
<p>In case there is content that should not be viewable by others in the audit log there is an option for masking content. In the Masked Elements section you specify a mask (e.g., password, account number) and a list of expressions that identify the content to be masked. <br>
  <br>
  <img src="images/masking_audited_elements.jpg" width="576" height="235"></p>
<p>Figure. Masking Audited Elements</p>
<p>The expressions in the Masked Elements section are similar to those in the Capture Details section. The same languages are supported for masking and the same mapping of message content type to expression language. The results of the expressions will be replaced by the mask string.</p>
<p>If we look at the entire activity definition we can see that we are auditing just the account elements/properties of XML and JSON messages but we are masking out the account id&rsquo;s with a mask of *******.</p>
<p><img src="images/audit_activity_example.jpg" width="497" height="548"></p>
<p>Figure. Audit Activity Example</p>
<p>Note the XPath expressions require namespace prefix definitions that are specified at the bottom of the editor.</p>

<p><a href="#top">Back to top</a></p>
<a name="insertcontentactivity"><h3><img src="images/insert_content_activity_icon.jpg" width="45" height="37">Insert Content Activity</h3></a>
<p>The Insert Content Activity can be used to fill the content of a String or Message variable. The source of the content can be either statically defined content or an existing variable.
</p>
<p>The From section of the activity editor identifies the source of the content. To specify static content to be inserted select the Static Content radio button. Once selected a text area will be displayed where content of any type, XML, JSON, text, etc. can be entered. A text field will also be displayed where you must enter the mime content type of the static content you entered in the text area (i.e., application/xml or application/json). <br>
  <br>
  <img src="images/static_content.jpg" width="537" height="232"></p>
<p>Figure. Static Content</p>
<p>To use content from a variable as input select the Variable radio button. Once selected a Filter section is displayed. Select the Filter check box if you would like only a portion of the variable’s content to be inserted. To insert the entire content of the variable do not select the checkbox.
</p>
<p>A filter is defined using a filter expression written in a selected language. The languages supported are XPath (for XML content), JSONPath (for JSON content), or Regular Expression (for any content).  The result of the filter expression applied to the input variable will be inserted. It is possible that the filter expression results in multiple elements or properties being used as input. </p>
<p><img src="images/filtered_variable_content.jpg" width="571" height="173"></p>
<p>Figure. Filtered Variable Content</p>
<p>When defining XPath filter expressions the namespaces of specified elements must be included. That is done by using a namespace prefix in the expression. All namespace prefixes must be mapped to a namespace in the Namespace Prefixes table at the bottom of the activity page.</p>
<p><img src="images/namespace_prefixes.jpg" width="568" height="117"></p>
<p>Figure. Namespace Prefixes</p>
<p>The To section of the activity identifies the target of the content specified in the From section. The target of the inserted content must be a variable. The From content can either initialize/replace the content of the variable in the To section or it can be inserted into the existing content of the target variable. If replacing the entire content of a variable and the variable has not yet been initialized it will be initialized as a result of the activity.</p>
<p>
  To insert into existing content the target location must be identified using a filter similar to the one described in the To section. Based on the filter expression it is possible that multiple target locations can be found. Once a target location can be identified the choice of whether the source content should be inserted/added to that location or the source content should replace what is at that location needs to be made. That choice is made by selecting either the Append or Replace radio button. Note, only the Replace option is available when using the Regular Expression language.</p>
<p><img src="images/filtered_content_target.jpg" width="554" height="146"></p>
<p>Figure. Filtered Content Target</p>
<p>The following figure illustrates the use of the Insert Content to initialize a message with static XML content.</p>
<p><img src="images/static_content_example.jpg" width="512" height="465"></p>
<p>Figure. Static Content Example</p>
<p>Since no filter is defined in the To section the static XML content will replace the content of var1, but if var1 has not yet been initialized in the process the static XML content will be used to initialize var1.
</p>
<p>The next figure illustrates using the Insert Content Activity to extract a portion of a source variable and append it to a target variable in a specified location. </p>
<p><img src="images/append_content_example.jpg" width="549" height="424"></p>
<p>Figure. Append Content Example</p>
<p>All account elements in the message variable will be appended to the accounts element in var1. If no accounts element is found at the root of var1 an error will be generated. To see how this activity would perform at runtime take the following content for the message variable:</p>
<p><img src="images/insert_content_activity_message1.jpg" width="550" height="229"></p>
<p>And the following content for the var1 variable:</p>
<p><img src="images/insert_content_activity_message2.jpg" width="512" height="15"></p>
<p>As a result of the activity var1 would have the following content:</p>
<p><img src="images/insert_content_activity_message3.jpg" width="521" height="131"></p>

<p><a href="#top">Back to top</a></p>
<a name="processactivity">
<h3><img src="images/process_activity_icon.jpg" width="41" height="40"> Process Activity</h3></a>
<p>The Process Activity allows you to call one process from another so that you can create processes with common activities and then call those processes at an appropriate point of another process. These processes with common activities are reusable and are organized in the <em>Processes</em> folder of each Organization in the Policy Manager Workbench. Reusable processes can themselves have Process activities so that they can call other reusable processes. </p>
<p>The configuration of a Process Activity is simple. The editor presents a tree of reusable processes in the <em>Processes</em> folder of each Organization in the  Policy Manager Workbench. You simply select one. </p>
  <p><img src="images/process_activity_editor.jpg" width="550" height="222"></p>
  <p>Figure. Process Activity Editor</p>

  <p>When a process is called from another process, the calling process’s context is passed to the called process. All the variables and their values from the calling process are passed through. If the called process defines variables with the same names as ones in the calling process, the calling process’s variables will be used.</p>

<p><a href="#top">Back to top</a></p>
<div class = "divider1"></div>

				</div>
				<!-- main content ends here -->
			</div>
			</div>			
</div>			
			<!-- starts footer -->

			<footer id="footer">
			  <div class="container">
			    <div class="row" id="div0">
			      <div class="col-sm-3 top48">
			        <div class="wrapper" id="div1">
			          <ul id="ul0">
			            <li><strong>Solutions</strong></li>
			            <li><a href="http://soa.com/solution/api-management">API Management</a></li>
			            <li><a href="http://soa.com/solutions/api-security">API Security</a></li>
			            <li><a href="http://soa.com/solutions/mobile-application-gateway">Mobile Application Gateway</a></li>
			            <li><a href="http://soa.com/solutions/integrated_soa_governance">Integrated SOA Governance</a></li>
			            <li><a href="http://soa.com/solutions/application-services-governance">Application Services Governance</a></li>
			            <li><a href="http://soa.com/solution/reinvent-datacenter-with-apis">DataCenter API Platform</a></li>
			            <li><a href="http://soa.com/solutions/microsoft_and_soa_software">Microsoft APIs &amp; SOA</a></li>
			            <li><a href="http://soa.com/solutions/ibm_datapower_governance">IBM APIs &amp; SOA</a></li>
			            <li><a href="http://soa.com/solutions/sola/enterprise_soa_and_the_mainframe_solutions">Mainframe APIs &amp; SOA</a></li>
						<li><a href="http://soa.com/solutions/semantics-management">Metadata Management</a></li>
			          </ul>
			        </div>
			      </div>
			      <div class="col-sm-3 top48">
			        <div class="wrapper" id="div2">
			          <ul id="ul1">
			            <li><strong>Products</strong></li>
			 	    <li><a href="http://soa.com/solutions/api-gateway">API Gateway</a></li>
			            <li><a href="http://soa.com/products/community-manager">Community Manager</a></li>
			            <li><a href="http://soa.com/products/lifecycle_manager">Lifecycle Manager</a></li>
			            <li><a href="http://soa.com/products/policy_manager">Policy Manager</a></li>
			            <li><a href="http://soa.com/products/oauth-server">OAuth Server</a></li>
			          </ul>
			        </div>
			      </div>
			      <div class="col-sm-2 top48">
			        <div class="wrapper" id="div3">
			          <ul id="ul2">
			            <li><strong>Resources</strong></li>
			            <li><a href="http://resource.soa.com/">Resource Center</a></li>
			            <li><a href="http://resource.soa.com/resource/whitepaper/ebook-building-successful-apis">API eBook</a></li>
			            <li><a href="http://resource.soa.com/resource/White-Papers">White Papers</a></li>
			            <li><a href="http://resource.soa.com/resource/datasheets">Datasheets</a></li>
			            <li><a href="http://resource.soa.com/resource/Videos">Videos</a></li>
			            <li><a href="http://docs.soa.com" rel="external">Documentation</a></li>

			                                               <li class="partners-footer-holder"><strong>Support</strong></li>
									<li><a href="http://support.soa.com">Customer Support</a></li>
								
			          </ul>
			        </div>
			      </div>
			      <div class="col-sm-2 top48">
			        <div class="wrapper" id="div4">
			          <ul id="ul3">
			            <li><strong>News &amp; Events</strong></li>
			            <li><a href="http://soa.com/news/press-releases">Press releases</a></li>
			            <li><a href="http://soa.com/news/in_the_news">In the News</a></li>
			               

			 <li class="partners-footer-holder"><strong>Partners</strong></li>
			            <li><a href="http://soa.com/partners/soa_software_partners">Partner program</a></li>
			            <li><a href="http://soa.com/partners/partners_distribute_resell_consult">Distributors and Resellers</a></li>
			</ul>



			        </div>
			      </div>




			      <div class="col-sm-2 top48">
			        <div class="wrapper" id="div5">
			          <ul id="ul4">
			            <li><strong>Company</strong></li>
			            <li><a href="http://soa.com/company/executive_list">Executive Team</a></li>
			            <li><a href="http://soa.com/company/board_list">Board of Directors</a></li>
			            <li><a href="http://soa.com/company/customers">Customers</a></li>
			            <li><a href="http://soa.com/company/awards">Awards</a></li>
			            <li><a href="http://soa.com/company/careers">Careers</a></li>
			            <li><a href="http://soa.com/company/contact_us">Contact Us</a></li>
			            <li><a href="http://blog.soa.com/">Blog</a></li>
			          </ul>
			        </div>
			      </div>
			    </div>
			  </div>
			  <div class="row credits" id="div6">
			    <div class="col-md-12">
			      <div class="row social">
			        <div class="col-md-12"> <a href="https://www.facebook.com/SOASoftware" class="facebook"> <span class="socialicons ico1"></span> </a> <a href="https://twitter.com/SOASoftwareInc" class="twitter"> <span class="socialicons ico2"></span> </a>  <a href="https://www.linkedin.com/company/soa-software" class="pinterest"> <span class="socialicons ico5"></span> </a>  <a href="http://www.youtube.com/soasoftware" class="behance"> <span class="socialicons ico7"></span> </a> </div>
			      </div>
			      <div class="row copyright" id="div7">
			       
			        <div class="col-md-12"> &copy; 2014 SOA Software, Inc. All rights reserved </div>
			      </div>
			    </div>
			  </div>
			</footer>
			<!-- Scripts -->

			<script>								


			/* do we need this script below? */
			$(".balls").click(function(e) {
			    $("html, body").bind("scroll mousedown DOMMouseScroll mousewheel keyup", function(){
			       $('html, body').stop();
			   });
			    var elem;
			    e.preventDefault();
			    var id = $(this).attr("id");
			    if(id == "scrollBtn1") {
			        elem = "#box-top";
			 }else if(id == "scrollBtn2"){
			     elem = "#box-middle";
			 }else if(id == "scrollBtn3"){
			     elem = "#box-bottom";
			     
			 }
			 $('html, body').animate({
			        scrollTop: $(elem).offset().top - 96
			    }, 1500);
			    return false;
			});


			</script>
			<!--
			<script type="text/javascript"> 
			var debugMode=true;
			var bt_config_project_id = 114;
			var bt_config_default_location = "Home Page";
			var bt_config_btn_placement = "topLeft";
			var bt_config_btn_style = "trans";
			</script>
			<script type="text/javascript" src="http://bugtracker.ripemedia.com/widget/js/embed.js"></script> -->
			<!-- RipeTracker Button END -->
			<div id="soa-control-dc-overlay" class="soa-ui-dc-overlay"></div>
			<script type="text/javascript">
				$(function() {
					$('#soa-control-dc-search-query').lunrSearch({
						indexUrl: '/docs-test/search.json',
						results:  '#soa-control-dc-search-results',
						entries:  '#soa-control-dc-search-result-entries',
						template: '#soa-control-dc-search-results-template'
					});
					$("#soa-control-dc-close-results").click(function(e){
						e.preventDefault();
						$('#soa-control-dc-search-results').hide();
						$('#soa-control-dc-overlay').removeClass('soa-ui-dc-overlay-visible');
					});
					$("#soa-control-dc-overlay").click(function(e){
						e.preventDefault();
						$('#soa-control-dc-search-results').hide();
						$('#soa-control-dc-overlay').removeClass('soa-ui-dc-overlay-visible');
					});
					$(".soa-ui-dc-container-main-left-nav-item-link").click(function(e){
						if ( ! $(this).closest(".soa-ui-dc-container-main-left-nav-inner").length ) {
							$(".soa-ui-dc-container-main-left-nav-item").removeClass('soa-ui-dc-container-main-left-nav-item-selected');
							$(this).parent().addClass('soa-ui-dc-container-main-left-nav-item-selected');
							// $(this).addClass('soa-ui-dc-container-main-left-nav-item-selected');
						}
					});
				});
			</script>

		</div>
	</body>
</html>
