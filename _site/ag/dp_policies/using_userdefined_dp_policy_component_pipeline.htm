<!DOCTYPE html>
<html lang="en">
	<head>
		            <meta http-equiv="Content-type" content="text/html; charset=utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <title>Using the User-Defined DataPower Component (Pipeline)</title>
            <link href="http://soa.com/css/bootstrap/bootstrap.min.css" rel="stylesheet" />
            <link rel="stylesheet" href="http://soa.com/css/compiled/bootstrap-overrides.css" type="text/css" />
            <link rel="stylesheet" type="text/css" href="http://soa.com/css/compiled/theme.css" />
            <link rel="stylesheet" href="/docs-test/style/reset.css" type="text/css">
            <link rel="stylesheet" href="/docs-test/style/base.css" type="text/css">
            <link rel="stylesheet" href="/docs-test/style/style.css" type="text/css">
            <link rel="stylesheet" href="/docs-test/style/document.css" type="text/css">
	          <link rel="stylesheet" href="/docs-test/style/pygments.css" type="text/css">

            <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700' rel='stylesheet' type='text/css'>
            <link rel="icon" type="image/png" href="http://soa.com/favicon.ico">


            <!-- <link rel="stylesheet" href="/docs-test/style/site.min.css" type="text/css" media="screen" /> -->
            <!--[if lt IE 10]><link rel="stylesheet" href="style/ie.css" type="text/css"><![endif]-->
            <!--[if lt IE 9]><link rel="stylesheet" href="style/ie8.css" type="text/css"><![endif]-->
          
            <script src="/docs-test/js/soadocs.min.js"></script>

            <script type="text/javascript">

              var _gaq = _gaq || [];
              _gaq.push(['_setAccount', 'UA-333097-1']);
              _gaq.push(['_trackPageview']);

              (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
              })();
            </script>
            <script type="text/javascript">
              adroll_adv_id = "DV6Z3DM2IVAT5P6URKK3RO";
              adroll_pix_id = "WORRISBFGNASNPUS72EOCQ";
              (function () {
              var oldonload = window.onload;
              window.onload = function(){
                 __adroll_loaded=true;
                 var scr = document.createElement("script");
                 var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
                 scr.setAttribute('async', 'true');
                 scr.type = "text/javascript";
                 scr.src = host + "/j/roundtrip.js";
                 ((document.getElementsByTagName('head') || [null])[0] ||
                  document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
                 if(oldonload){oldonload()}};
              }());
            </script>


		<!-- filtered pages for product and category list script -->
<script>
	
	var unsorted_pages_prod_cat = { p: 'ag', c: 'learn', pages: [ 
		{ t: 'Auditing Activity', nt: '', w: '9', ty: 'page', u: '/ag/dp_policies/auditing_activity.htm', d: 'Functional overview of the DataPower Orchestration Policy Auditing Activity.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Configuring CA SiteMinder Identity System in Policy Manager 7.x', nt: 'Configuring CA SiteMinder Identity System in Policy Manager 7.x', w: '6', ty: 'page', u: '/ag/ca_siteminder/ca_siteminder_configure_identity_system.htm', d: 'Learn how to configure a CA SiteMinder identity system in Policy Manager.', nn: '', nc: '', sn: '', sc: 'CA SiteMinder'} , { t: 'Implement CA SiteMinder Use Cases', nt: 'Implement CA SiteMinder Use Cases', w: '6', ty: 'page', u: '/ag/ca_siteminder/ca_siteminder_implement_use_cases.htm', d: 'Learn how to use CA-SiteMinder in a variety of different usage scenarios.', nn: '', nc: '', sn: '', sc: 'CA SiteMinder'} , { t: 'Installing CA SiteMinder Option Pack', nt: 'Installing CA SiteMinder Option Pack', w: '6', ty: 'page', u: '/ag/ca_siteminder/ca_siteminder_install_option_pack.htm', d: 'Learn how to download and install CA SiteMinder Option Pack.', nn: '', nc: '', sn: '', sc: 'CA SiteMinder'} , { t: 'Installing CA-SiteMinder Web Agent on Client Machines', nt: 'Installing CA-SiteMinder Web Agent on Client Machines', w: '6', ty: 'page', u: '/ag/ca_siteminder/ca_siteminder_install_webagent_client.htm', d: '', nn: '', nc: '', sn: '', sc: 'Security'} , { t: 'Integrating CA SiteMinder with Policy Manager 7.x', nt: 'Integrating CA-SiteMinder with Policy Manager 7.x', w: '6', ty: 'page', u: '/ag/ca_siteminder/ca_siteminder_integrate_with_pm.htm', d: 'Learn how to integrate CA SiteMinder with Policy Manager and implement a configuration use case.', nn: '', nc: '', sn: '', sc: 'CA SiteMinder'} , { t: 'Managing Containers with Policy Manager 7.x', nt: 'Managing Containers', w: '6', ty: 'page', u: '/ag/admin_console/container_management.htm', d: 'Description of policy editor functions and tools for managing policy definitions.', nn: '', nc: '', sn: '', sc: 'Administration'} , { t: 'CORS Policy Use Cases for Policy Manager 7.x', nt: 'CORS Policy Use Cases', w: '6', ty: 'pdf', u: '/ag/policies/cors_policy_use_cases.html', d: 'Usage Scenarios for the CORS Policy', nn: '', nc: '', sn: '', sc: 'Security'} , { t: 'Policy Manager for IBM WebSphere DataPower Policies', nt: 'Policy Manager for IBM WebSphere DataPower Policies', w: '7', ty: 'page', u: '/ag/dp_policies/datapower_policies.htm', d: 'Secure and monitor a service running on DataPower using DataPower policies.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Dynamic User-Defined DataPower Policy Activity', nt: 'Dynamic User-Defined DataPower Policy Activity', w: '9', ty: 'page', u: '/ag/dp_policies/dynamic_user_defined_dp_policy_activity.htm', d: 'Functional overview of the DataPower Orchestration Policy Dynamic User-Defined DataPower Activity.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'How to Generate CSV Responses', nt: 'Generate CSV Response', w: '4', ty: 'page', u: '/ag/howto_generate_csv.html', d: 'A how to guide for providing a specific CSV response for a message', nn: '', nc: '', sn: '', sc: 'Mediation'} , { t: 'How to Generate a JSONP Response', nt: 'Generate JSONP Response', w: '4', ty: 'page', u: '/ag/howto_generate_jsonp.html', d: 'A how to guide for mediating responses to JSONP', nn: '', nc: '', sn: '', sc: 'Mediation'} , { t: 'How to Replace Fault Messages', nt: 'Replace Fault Messages', w: '4', ty: 'page', u: '/ag/howto_replace_fault.html', d: 'A how to guide for providing custom fault content for any fault response', nn: '', nc: '', sn: '', sc: 'Mediation'} , { t: 'How to Rewrite HREFs in content', nt: 'Rewrite HREFs', w: '4', ty: 'page', u: '/ag/howto_rewrite_href.html', d: 'A tutorial on how to rewrite hrefs in response content with Javascript Policies', nn: '', nc: '', sn: '', sc: 'Mediation'} , { t: 'How to set downstream Query Params', nt: 'Add Query Params', w: '4', ty: 'page', u: '/ag/howto_set_query_params.html', d: 'A how to guide for hardcoding downstream query params for http services', nn: '', nc: '', sn: '', sc: 'Mediation'} , { t: 'Identity Categories in Policy Manager 7.x', nt: 'Identity Categories', w: '6', ty: 'page', u: '/ag/key_management/identity_categories.htm', d: 'Overview of Service, Organization, Container, and User identity categories and associated key management functions.', nn: '', nc: '', sn: '', sc: 'Security'} , { t: 'Insert XML Activity', nt: 'Insert XML Activity', w: '9', ty: 'page', u: '/ag/dp_policies/insert_xml_activity.htm', d: 'Functional overview of the DataPower Orchestration Policy Insert XML Activity.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Installing SOA Software Platform Features', nt: 'Installing SOA Software Platform Features', w: '6', ty: 'page', u: '/ag/admin_console/installing_features.htm', d: 'Learn how to install features that are part of the SOA Software Platform default installation.', nn: '', nc: '', sn: '', sc: 'Installation'} , { t: 'Installing SOA Software Platform Plug-ins', nt: 'Installing SOA Software Platform Plug-ins', w: '6', ty: 'page', u: '/ag/admin_console/installing_plugins.htm', d: 'Learn how to install plug-ins that are part of the SOA Software Platform default installation.', nn: '', nc: '', sn: '', sc: 'Installation'} , { t: 'Installing SOA Software Platform Tools', nt: 'Installing SOA Software Platform Tools', w: '6', ty: 'page', u: '/ag/admin_console/installing_tools.htm', d: 'Learn how to install tools that are part of the SOA Software Platform default installation.', nn: '', nc: '', sn: '', sc: 'Installation'} , { t: 'Invoke Service Activity', nt: 'Invoke Service Activity', w: '9', ty: 'page', u: '/ag/dp_policies/invoke_service_activity.htm', d: 'Functional overview of the DataPower Orchestration Policy Invoke Service Activity.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Enable HTTPS Access to the SOA Software Administration Console for Policy Manager 6.x/7.x', nt: 'Enable HTTPS Access to the SOA Software Administration Console', w: '6', ty: 'page', u: '/ag/technotes/kb_adminconsole_https.htm', d: 'Configure container system.properties to enable HTTPS access to the SOA Software Administration Console.', nn: '', nc: '', sn: '', sc: 'Operations'} , { t: 'Managing Keys with Policy Manager 7.x', nt: 'Managing Keys', w: '6', ty: 'page', u: '/ag/key_management/key_management.htm', d: 'Overview of key management options for service, organization, container, and user identity categories.', nn: '', nc: '', sn: '', sc: 'Security'} , { t: 'Learning about the API Gateway', nt: 'Learning', w: '5', ty: '', u: '/ag/learning.html', d: 'The API Gateway landing page', nn: 'true', nc: 'true', sn: '', sc: ''} , { t: 'Managing DataPower Orchestration Policy', nt: 'Managing DataPower Orchestration Policy', w: '8', ty: 'page', u: '/ag/dp_policies/managing_orch_policy.htm', d: 'Description of functions  and tools for managing a DataPower Orchestration Policy.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'DataPower Orchestration Policy Activities', nt: 'DataPower Orchestration Policy Activities', w: '8', ty: 'page', u: '/ag/dp_policies/orch_policy_activities.htm', d: 'Policy Activities used in a DataPower Orchestration Policy.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Deploying Policy Manager using Multiple Containers', nt: 'Deploying Policy Manager using Multiple Containers', w: '6', ty: 'page', u: '/ag/admin_console/pm_config_multi_containers.htm', d: 'Learn how to deploy Policy Manager using multiple containers for enhanced scalability.', nn: '', nc: '', sn: '', sc: 'Operations'} , { t: 'Managing Policies', nt: 'Managing Policies', w: '6', ty: 'page', u: '/ag/policies/policy_management.htm', d: 'Description of policy editor functions and tools for managing policy definitions.', nn: '', nc: '', sn: '', sc: 'Administration'} , { t: 'Managing Processes', nt: 'Managing Processes', w: '6', ty: 'page', u: '/ag/processes/process_management.htm', d: 'Description of  process editor functions and tools for managing process definitions.', nn: '', nc: '', sn: '', sc: 'Processes'} , { t: 'Schema Validation Policy Use Cases for Policy Manager 7.x', nt: 'Schema Validation Policy Use Cases', w: '6', ty: 'pdf', u: '/ag/schema_validation_use_cases.html', d: 'Usage Scenarios for the Schema Validation Policy', nn: '', nc: '', sn: '', sc: ''} , { t: 'Managing Scripts', nt: 'Managing Scripts', w: '6', ty: 'page', u: '/ag/scripts/script_management.htm', d: 'Tools for managing Script definitions', nn: '', nc: '', sn: '', sc: 'Processes'} , { t: 'Starting and Stopping an SOA Softwre Platform Container Instance', nt: 'Starting and Stopping an SOA Softwre Platform Container Instance', w: '6', ty: 'page', u: '/ag/admin_console/start_stop_container_instance.htm', d: 'Learn how to monitor the real-time state of a container.', nn: '', nc: '', sn: '', sc: 'Operations'} , { t: 'Transformation Activity', nt: 'Transformation Activity', w: '9', ty: 'page', u: '/ag/dp_policies/transformation_activity.htm', d: 'Functional overview of the DataPower Orchestration Policy Transformation Activity.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'User-Defined DataPower Policy Activity', nt: 'User-Defined DataPower Policy Activity', w: '9', ty: 'page', u: '/ag/dp_policies/user_defined_dp_policy_activity.htm', d: 'Functional overview of the User-Defined DataPower Policy Activity.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Using the SOA Software Administration Console', nt: 'Using the SOA Software Administration Console', w: '6', ty: 'page', u: '/ag/admin_console/using_admin_console.htm', d: 'Learn about administration tools used in the SOA Software Administration Console.', nn: '', nc: '', sn: '', sc: 'Administration'} , { t: 'Using the SOA Software Admin Monitoring Tool', nt: 'Using the SOA Software Admin Monitoring Tool', w: '6', ty: 'page', u: '/ag/admin_console/using_admin_monitoring_tool.htm', d: 'Learn how to monitor the real-time state of a container.', nn: '', nc: '', sn: '', sc: 'Operations'} , { t: 'Using the API Consumer Application Security Policy', nt: 'Using the API Consumer Application Security Policy', w: '11', ty: 'page', u: '/ag/cm_policies/using_api_consumer_app_sec_policy.htm', d: 'Learn how to configure authentication methods used to identify  an application that is attempting to consume an API.', nn: '', nc: '', sn: '', sc: 'Community Manager'} , { t: 'Using the API User Security Policy', nt: 'Using the API User Security Policy', w: '11', ty: 'page', u: '/ag/cm_policies/using_api_user_sec_policy.htm', d: 'Learn how the API User Security Policy is used to secure Community Manager administrator accounts.', nn: '', nc: '', sn: '', sc: 'Community Manager'} , { t: 'Using the SOA Software Cluster Support Plug-in', nt: 'Using the SOA Software Cluster Support Plug-in', w: '6', ty: 'page', u: '/ag/admin_console/using_cluster_support_plugin.htm', d: 'Learn how to manage a container as part of a cluster in Policy  Manager.', nn: '', nc: '', sn: '', sc: 'Operations'} , { t: 'Using the SOA Software Delegate Features', nt: 'Using the SOA Software Delegate Features', w: '6', ty: 'page', u: '/ag/admin_console/using_delegate_features.htm', d: 'Learn how to use an Apache Axis client solution to provide message formatting and transportation of a web service description stored in Policy Manager.', nn: '', nc: '', sn: '', sc: 'Agents'} , { t: 'Using the DataPower Contracts Policy', nt: 'Using the DataPower Contracts Policy', w: '9', ty: 'page', u: '/ag/dp_policies/using_dp_contracts_policy.htm', d: 'Learn how to use DataPower Contracts Policy to disable contracts for a given managed DataPower service in cases where contracts are not required.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Using the DataPower Custom Policy Framework', nt: 'Using the DataPower Custom Policy Framework', w: '9', ty: 'page', u: '/ag/dp_policies/using_dp_custom_policy_framework.htm', d: 'Learn how to add DataPower custom policies to change the behavior of a service at runtime.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Using the DataPower Mediation Policy', nt: 'Using the DataPower Mediation Policy', w: '9', ty: 'page', u: '/ag/dp_policies/using_dp_mediation_policy.htm', d: 'Learn how to use the DataPower Mediation Policy to specify the mediation mode used for a given managed DataPower service.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Using the DataPower Orchestration Policy', nt: 'Using the DataPower Orchestration Policy', w: '8', ty: 'page', u: '/ag/dp_policies/using_dp_orchestration_policy.htm', d: 'Learn how to sequence message flow through DataPower using the Orchestration Policy.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Using the Dynamic User-Defined DataPower Policy Component (Pipeline)', nt: 'Using the Dynamic User-Defined DataPower Policy Component (Pipeline)', w: '10', ty: 'page', u: '/ag/dp_policies/using_dynam_userdefined_dp_component_pipeline.htm', d: 'Learn how to reference  a &quot;User-Defined Category&quot; that is defined in a non-pipeline version of the Dynamic User-Defined DataPower Policy and configure policy attachments.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Using the Dynamic User-Defined DataPower Policy (Non-Pipeline)', nt: 'Using the Dynamic User-Defined DataPower Policy (Non-Pipeline)', w: '10', ty: 'page', u: '/ag/dp_policies/using_dynam_userdefined_dp_policy_nonpipeline.htm', d: 'Learn how to configure DataPower processing rules that can be referenced by the pipeline version of the Dynamic User-Defined DataPower Policy.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Using the SOA Software External Keystore Feature', nt: 'Using the SOA Software External Keystore Feature', w: '6', ty: 'page', u: '/ag/key_management/using_external_keystore.htm', d: 'Learn how to enable your own hardware security module (HSM)  as an external keystore for storing and managing Policy Manager PKI keys and certificates.', nn: '', nc: '', sn: '', sc: 'Security'} , { t: 'Using the HTTP Malicious Patterns Detection Policy in Policy Manager 7.x', nt: 'Using the HTTP Malicious Pattern Policy', w: '5', ty: 'page', u: '/ag/policies/using_http_malicious_pattern_detection_policy.htm', d: 'Learn how to use regular expressions or java markup tags in an HTTP Malicious Pattern Policy to inspect HTTP messages for malicious content.', nn: '', nc: '', sn: '', sc: 'Security'} , { t: 'Using the SOA Software Network Director Feature', nt: 'Using the SOA Software Network Director  Feature', w: '6', ty: 'page', u: '/ag/admin_console/using_network_director_feature.htm', d: 'Learn how to install and configure Network Director in Policy Manager 6.x and  7.x', nn: '', nc: '', sn: '', sc: 'Administration'} , { t: 'Using the OAuth 1.0a Trusted Token Policy', nt: 'Using the OAuth 1.0a Trusted Token Policy', w: '11', ty: 'page', u: '/ag/cm_policies/using_oauth1a_security_policy.htm', d: 'Learn how to configure the OAuth 1.0a Trusted Token Policy to enable API authorization using OAuth 1.0a.', nn: '', nc: '', sn: '', sc: 'Community Manager'} , { t: 'Using the OAuth Security Policy', nt: 'Using the OAuth Security Policy', w: '11', ty: 'page', u: '/ag/cm_policies/using_oauth_security_policy.htm', d: 'Learn how to configure the OAuth Security Policy to enable API authorization using OAuth 2.0.', nn: '', nc: '', sn: '', sc: 'Community Manager'} , { t: 'Using the Operational Script', nt: 'Using the Operational Script Policy', w: '5', ty: 'page', u: '/ag/policies/using_op_script_policy.htm', d: 'Learn how to create your own custom policy and associate it with different components of a service&#39;s definition (e.g., organizations, services, operations, bindings, and access points).', nn: '', nc: '', sn: '', sc: ''} , { t: 'Using the SOA Software Ping Support Feature', nt: 'Using the SOA Software Ping Support Feature', w: '6', ty: 'page', u: '/ag/admin_console/using_ping_support_feature.htm', d: 'Learn how to ping Network Director and Policy Manager instances to verify they are running.', nn: '', nc: '', sn: '', sc: 'Operations'} , { t: 'Using the SOA Software Policy Manager Console Feature', nt: 'Using the SOA Software Policy Manager Console Feature', w: '6', ty: 'page', u: '/ag/admin_console/using_pm_console_feature.htm', d: 'Learn how to install and configure Policy Manager Console for Policy Manager 6.x and  7.x.', nn: '', nc: '', sn: '', sc: 'Administration'} , { t: 'Using the SPNEGO Policy', nt: 'Using the SPNEGO Policy', w: '5', ty: 'page', u: '/ag/policies/using_spnego_policy.htm', d: 'Learn how to use the SPNEGO policy to authenticate a downstream service.', nn: '', nc: '', sn: '', sc: 'Security'} , { t: 'Using the CORS Policy', nt: 'Using the CORS Policy', w: '5', ty: 'page', u: '/ag/policies/using_the_cors_policy.htm', d: 'Learn how to manage cross-origin requests for REST APIs using the CORS (Cross Origin Resource Sharing) Policy.', nn: '', nc: '', sn: '', sc: 'Security'} , { t: 'Using the Cross Site Scripting Detection Policy in Policy Manager 7.x', nt: 'Using the Cross Site Scripting Policy', w: '5', ty: 'page', u: '/ag/policies/using_the_cross_site_scripting_policy.htm', d: 'Learn how configure a tag white list to protect your web service from being exploited by cross site scripting.', nn: '', nc: '', sn: '', sc: 'Security'} , { t: 'Using the HTTP Caching Policy in Policy Manager 7.x', nt: 'Using the HTTP Caching Policy', w: '5', ty: 'page', u: '/ag/policies/using_the_http_caching_policy.htm', d: 'Learn how to enhance performance of  message processing through  caching responses to previously made service requests using the HTTP Caching Policy.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Using the Metrics Policy in Policy Manager 7.x', nt: 'Using the Metrics Policy', w: '5', ty: 'page', u: '/ag/policies/using_the_metrics_policy.htm', d: 'Learn how to collect rollup data on specific services/operations using a Metrics Policy.', nn: '', nc: '', sn: '', sc: 'Monitoring'} , { t: 'Using the Paging Policy', nt: 'Using the Paging Policy', w: '5', ty: 'page', u: '/ag/policies/using_the_paging_policy.htm', d: 'Learn how to configure XPath expressions in a Paging Policy to manage the paging of results in web service responses.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Using the Schema Validation Policy', nt: 'Using the Schema Validation Policy', w: '5', ty: 'page', u: '/ag/policies/using_the_schema_validation_policy.htm', d: 'Learn about the Schema Validation Policy Assertion and policy configuration options.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Using the WS-Schema Validation Policy', nt: 'Using the WS-Schema Validation Policy', w: '5', ty: 'page', u: '/ag/policies/using_the_ws_schema_validation_policy.htm', d: 'Learn about the WS-Schema Validation Policy Assertion and policy configuration options.', nn: '', nc: '', sn: '', sc: ''} , { t: 'Using the SOA Software Tomcat Agent Feature', nt: 'Using the SOA Software Tomcat Agent Feature', w: '6', ty: 'page', u: '/ag/admin_console/using_tomcat_agent_feature.htm', d: 'Learn how to install and configure a Tomcat Agent in Policy Manager 6.x and  7.x', nn: '', nc: '', sn: '', sc: 'Agents'} , { t: 'Using the User-Defined DataPower Component (Pipeline)', nt: 'Using the User-Defined DataPower Component (Pipeline)', w: '10', ty: 'page', u: '/ag/dp_policies/using_userdefined_dp_policy_component_pipeline.htm', d: 'Learn how to add a processing rule defined in the WebSphere DataPower Appliance to the User-Defined DataPower Component.', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Using the DataPower WTX Transformation Component (Pipeline)', nt: 'Using the DataPower WTX Transformation Component (Pipeline)', w: '10', ty: 'page', u: '/ag/dp_policies/using_wtx_transformation_component_pipeline.htm', d: 'Learn how to modify a web service message using a WTX (WebSphere Transformation Extender).', nn: '', nc: '', sn: '', sc: 'DataPower'} , { t: 'Workflow Conditions', nt: 'Workflow Conditions', w: '6', ty: 'page', u: '/ag/workflow/workflow_conditions.htm', d: 'Description of built-in workflow condition types that can be used with Policy Manager workflow.', nn: '', nc: '', sn: '', sc: 'Workflow'} , { t: 'Default Workflow', nt: 'Default Workflows', w: '6', ty: 'page', u: '/ag/workflow/workflow_default.htm', d: 'Description of Policy Manager service, contract, and policy default workflows.', nn: '', nc: '', sn: '', sc: 'Workflow'} , { t: 'Workflow Functions', nt: 'Workflow Functions', w: '6', ty: 'page', u: '/ag/workflow/workflow_functions.htm', d: 'Description of built-in Workflow Functions that can be used to perform specific actions relative to a service, contract, or policy.', nn: '', nc: '', sn: '', sc: 'Workflow'} , { t: 'Workflow Library', nt: 'Workflow Library', w: '6', ty: 'page', u: '/ag/workflow/workflow_library.htm', d: 'Learn about the workflow components used to perform service, contract, and policy management in Policy Manager.', nn: '', nc: '', sn: '', sc: 'Workflow'} , { t: 'Managing Workflow', nt: 'Managing Workflow', w: '6', ty: 'page', u: '/ag/workflow/workflow_management.htm', d: 'Description of functions and tools for managing service, contract, and policy workflow definitions.', nn: '', nc: '', sn: '', sc: 'Workflow'} , { t: 'Workflow Portlets', nt: 'Workflow Portlets', w: '6', ty: 'page', u: '/ag/workflow/workflow_portlets.htm', d: 'Description of Service, Contract, and Policy Workflow Portlets in the Policy Manager Management Console.', nn: '', nc: '', sn: '', sc: 'Workflow'} , { t: 'Workflow Reserved Actions', nt: 'Workflow Reserved Actions', w: '6', ty: 'page', u: '/ag/workflow/workflow_reserved_actions.htm', d: 'Description of reserved  states and actions  that can be defined in a workflow definition.', nn: '', nc: '', sn: '', sc: 'Workflow'} , { t: 'Workflow States', nt: 'Workflow States and Task List', w: '6', ty: 'page', u: '/ag/workflow/workflow_states_tasklist.htm', d: 'Description of special workflow state and workflow task list.', nn: '', nc: '', sn: '', sc: 'Workflow'} , { t: 'Workflow Variables', nt: 'Workflow Variables', w: '6', ty: 'page', u: '/ag/workflow/workflow_variables.htm', d: 'Description of built-in Workflow Variables that can be referenced in a Workflow Definition.', nn: '', nc: '', sn: '', sc: 'Workflow'} , { t: 'WS-Schema Validation Policy Use Cases for Policy Manager 7.x', nt: 'WS-Schema Validation Policy Use Cases', w: '6', ty: 'pdf', u: '/ag/ws_schema_validation_use_cases.html', d: 'Usage Scenarios for the WS-Schema Validation Policy', nn: '', nc: '', sn: '', sc: ''} ,  
		]};
</script>
<!-- end filtered pages for product and category list script -->
		<!-- left nav script -->
<script>
	function leftnav()
    {
        var i = 0, snClasses = [];
        var pages = unsorted_pages_prod_cat.pages.filter(function(a) {
            return (a.nn != 'true' && a.nn != 'api' && a.sc == '');
        }).sort(function CustomSort(a, b) {
            if ( ! a["w"] ) { a["w"] = 1000 ;}
            if ( ! b["w"] ) { b["w"] = 1000 ;}
            var weighta = a['w'];
            var weightb = b['w'];
            if(weighta != weightb){
                return (weighta - weightb);
            }
            else{
                return (a.nt.localeCompare(b.nt));
            }
        });
        var snpages = unsorted_pages_prod_cat.pages.filter(function(a) {
            return (a.nn != 'true' && a.nn != 'api' && a.sc != '');
        }).sort(function CustomSort(a, b) {
            if ( ! a["w"] ) { a["w"] = 1000 ;}
            if ( ! b["w"] ) { b["w"] = 1000 ;}
            var weighta = a['w'];
            var weightb = b['w'];
            if(weighta != weightb){
                return (weighta - weightb);
            }
            else{
                return (a.nt.localeCompare(b.nt));
            }
        });

        // Get the value of the sc query string (if present)
        var scParam = $.url().param('sc') || 'null';

        if (snpages.length == 0) {
            var ObjUl = $('<ul></ul>').hide();
            ObjUl.addClass("soa-ui-dc-container-main-left-nav");

            for (i = 0; i < pages.length; i++)
            {
                var Objli = $('<li></li>');
                var Obja = $('<a></a>');
                var Objp = $('<p></p>');

                Objli.attr("role", "menuitem");

                if ( pages[i].u == '/ag/dp_policies/using_userdefined_dp_policy_component_pipeline.htm' ) {
                    Obja.addClass("soa-ui-dc-container-main-left-nav-item-selected soa-ui-dc-container-main-left-nav-item-link");
                } else {
                    Obja.addClass("soa-ui-dc-container-main-left-nav-item-link");
                }

                if ( "/docs-test" ) {
                    Obja.attr("href", "/docs-test".concat(pages[i].u) );
                } else {
                    Obja.attr("href", pages[i].u );
                }
                if ( pages[i].ty == 'pdf' ) {
                    Obja.attr("target", "_blank");
                }
                if (pages[i].nt) {
                    Obja.html(pages[i].nt.replace("&amp;nbsp;", " "));
                } else {
                    Obja.html(pages[i].t.replace("&amp;nbsp;", " "));
                }

                Objli.addClass("soa-ui-dc-container-main-left-nav-item");
                Objli.append(Obja);

                ObjUl.append(Objli);
            }
            $('.soa-ui-dc-container-main-left').append(ObjUl);
        } else {
            for (; i < snpages.length; i++) {
                if (snClasses.indexOf(snpages[i].sc) < 0) {
                    snClasses.push(snpages[i].sc);
                }
            }
            snClasses.sort();

            var ObjUl = $('<ul></ul>').hide();
            ObjUl.addClass("soa-ui-dc-container-main-left-nav");

            // Iterate through the sub-nav-classes
            for (i = 0; i < snClasses.length; i++)
            {
                // Get the subnav for this class
                var classsnpages = snpages.filter(function(a) {
                    return (a.sc == snClasses[i]);
                });

                var ObjInnerUl = $('<ul></ul>');
                ObjInnerUl.addClass("soa-ui-dc-container-main-left-nav soa-ui-dc-container-main-left-nav-inner");
                for (j = 0; j < classsnpages.length; j++)
                {
                    var ObjInnerli = $('<li></li>');
                    var ObjInnera = $('<a></a>');
                    var ObjInnerp = $('<p></p>');

                    ObjInnerli.attr("role", "menuitem");

                    if ( classsnpages[j].u == '/ag/dp_policies/using_userdefined_dp_policy_component_pipeline.htm' ) {
                        ObjInnera.addClass("soa-ui-dc-container-main-left-nav-item-selected soa-ui-dc-container-main-left-nav-item-link");
                    } else {
                        ObjInnera.addClass("soa-ui-dc-container-main-left-nav-item-link");
                    }

                    if ( "/docs-test" ) {
                        ObjInnera.attr("href", "/docs-test".concat(classsnpages[j].u) );
                    } else {
                        ObjInnera.attr("href", classsnpages[j].u );
                    }
                    if ( classsnpages[j].ty == 'pdf' ) {
                        ObjInnera.attr("target", "_blank");
                    }
                    if (classsnpages[j].nt) {
                        ObjInnera.html(classsnpages[j].nt.replace("&amp;nbsp;", " "));
                    } else {
                        ObjInnera.html(classsnpages[j].t.replace("&amp;nbsp;", " "));
                    }

                    ObjInnerli.addClass("soa-ui-dc-container-main-left-nav-item");
                    ObjInnerli.append(ObjInnera);
                    ObjInnerUl.append(ObjInnerli);          
                }

                var Objli = $('<li></li>');
                var Obja = $('<a></a>');
                var Objp = $('<p></p>');

                if ( ('DataPower' == snClasses[i]) || (scParam == snClasses[i]) ) {
                    Objli.addClass("soa-ui-dc-container-main-left-nav-item-selected");
                }

                Obja.addClass("soa-ui-dc-container-main-left-nav-item-link");

                // Construct the URL for the subnav heading entry link
                var subnavLink = "";

                // Start with the product
                if ( "/docs-test" ) {
                    subnavLink = "/docs-test/".concat('ag');
                } else {
                    subnavLink = "/".concat('ag');
                }
                // Add the category
                switch ( 'learn' ) {
                    case "gs":
                        subnavLink += "/getting-started.html";
                        break;
                    case "learn":
                        subnavLink += "/learning.html";
                        break;
                    case "ref":
                        subnavLink += "/reference.html";
                        break;
                }
                // And put the subnav-class as a query param
                subnavLink += "?sc=" + snClasses[i];
                Obja.attr("href", subnavLink);

                Obja.html(snClasses[i]);

                Objli.addClass("soa-ui-dc-container-main-left-nav-item");

                Objli.append(Obja);

                if (classsnpages.length > 0) {
                    Objli.append(ObjInnerUl);
                }

                ObjUl.append(Objli);
            }
            // And now add the miscellaneous (uncategorized) entries
            var ObjInnerUl = $('<ul></ul>');
            ObjInnerUl.addClass("soa-ui-dc-container-main-left-nav soa-ui-dc-container-main-left-nav-inner");
            for (j = 0; j < pages.length; j++)
            {
                var ObjInnerli = $('<li></li>');
                var ObjInnera = $('<a></a>');
                var ObjInnerp = $('<p></p>');

                ObjInnerli.attr("role", "menuitem");

                if ( pages[j].u == '/ag/dp_policies/using_userdefined_dp_policy_component_pipeline.htm' ) {
                    ObjInnera.addClass("soa-ui-dc-container-main-left-nav-item-selected soa-ui-dc-container-main-left-nav-item-link");
                } else {
                    ObjInnera.addClass("soa-ui-dc-container-main-left-nav-item-link");
                }

                if ( "/docs-test" ) {
                    ObjInnera.attr("href", "/docs-test".concat(pages[j].u) );
                } else {
                    ObjInnera.attr("href", pages[j].u );
                }
                if ( pages[j].ty == 'pdf' ) {
                    ObjInnera.attr("target", "_blank");
                }
                if (pages[j].nt) {
                    ObjInnera.html(pages[j].nt.replace("&amp;nbsp;", " "));
                } else {
                    ObjInnera.html(pages[j].t.replace("&amp;nbsp;", " "));
                }

                ObjInnerli.addClass("soa-ui-dc-container-main-left-nav-item");
                ObjInnerli.append(ObjInnera);
                ObjInnerUl.append(ObjInnerli);          
            }

            var Objli = $('<li></li>');
            var Obja = $('<a></a>');
            var Objp = $('<p></p>');

            if ( ('DataPower' == '' && 'page' == 'page') ||
                (scParam == "undefined") ) {
                Objli.addClass("soa-ui-dc-container-main-left-nav-item-selected");
            }

            Obja.addClass("soa-ui-dc-container-main-left-nav-item-link");

            // Construct the URL for the subnav heading entry link
            var subnavLink = "";

            // Start with the product
            if ( "/docs-test" ) {
                subnavLink = "/docs-test/".concat('ag');
            } else {
                subnavLink = "/".concat('ag');
            }
            // Add the category
            switch ( 'learn' ) {
                case "gs":
                    subnavLink += "/getting-started.html";
                    break;
                case "learn":
                    subnavLink += "/learning.html";
                    break;
                case "ref":
                    subnavLink += "/reference.html";
                    break;
            }
            // And put the subnav-class as a query param
            subnavLink += "?sc=" + snClasses[i];
            Obja.attr("href", subnavLink);

            Obja.html("Miscellaneous");

            Objli.addClass("soa-ui-dc-container-main-left-nav-item");

            Objli.append(Obja);

            if (pages.length > 0) {
                Objli.append(ObjInnerUl);
            }

            ObjUl.append(Objli);

            $('.soa-ui-dc-container-main-left').append(ObjUl);
        }
    }
    $(document).ready(function() {
        leftnav();
        $(".soa-ui-dc-container-main-left").find("ul").first().show();
        $(".soa-ui-dc-container-main").removeClass("soa-ui-dc-before-load");
    });
</script>
<!-- End left nav script -->
	</head>
	<body>
		<div class="soa-ui-dc-top-bar-wrapper">
	<div class="top-bar">

					<h2 class="soa-ui-dc-logo-container">
				<a href="/docs-test/index.html" class="soa-ui-dc-logo">
					<img src="/docs-test/style/images/SOA-Logo.png" alt="SOA Software &trade;, Powering the API Economy" width="215" height="62">
				</a><!-- logo link, replace href -->
			</h2>


		<div class="soa-ui-dc-topnav-wrapper">
			<div class="soa-ui-dc-topnav-container">
				<!-- top nav starts here -->
				<ul class="soa-ui-dc-topnav soa-ui-dc-clearthis">
					<li class="soa-ui-dc-topnav-item ">
						<a href="/docs-test/sp/index.html" class="soa-ui-dc-topnav-item-link soa-ui-dc-icon soa-ui-dc-topnav-item-link-soaplatform"><span class="soa-ui-dc-topnav-item-link-firstword">DEPLOYMENT</span> PLATFORM</a><!-- replace href -->
					</li>					
					<li class="soa-ui-dc-topnav-item ">
						<a href="/docs-test/cm/index.html" class="soa-ui-dc-topnav-item-link soa-ui-dc-icon soa-ui-dc-topnav-item-link-communitymanager"><span class="soa-ui-dc-topnav-item-link-firstword">COMMUNITY</span> MANAGER</a><!-- replace href -->
					</li>
					<li class="soa-ui-dc-topnav-item soa-ui-dc-topnav-item-active">
						<a href="/docs-test/ag/index.html" class="soa-ui-dc-topnav-item-link soa-ui-dc-icon soa-ui-dc-topnav-item-link-apigateway"><span class="soa-ui-dc-topnav-item-link-firstword">API</span> GATEWAY</a><!-- replace href -->
					</li>
					<li class="soa-ui-dc-topnav-item ">
						<a href="/docs-test/lm/index.html" class="soa-ui-dc-topnav-item-link soa-ui-dc-icon soa-ui-dc-topnav-item-link-lifecyclemanager"><span class="soa-ui-dc-topnav-item-link-firstword">LIFECYCLE</span> MANAGER</a><!-- replace href -->
					</li>
				</ul>
				<!-- top nav ends here -->
			</div>
			<div class="soa-ui-dc-subnav-container">
				<!-- sub nav starts here -->
				<ul class="soa-ui-dc-subnav soa-ui-dc-clearthis">
					<li class="soa-ui-dc-subnav-item">
						<a href="/docs-test/ag/getting-started.html" class="soa-ui-dc-subnav-item-link soa-ui-dc-icon soa-ui-dc-icon-action-dark">Getting Started</a>
					</li>
					<li class="soa-ui-dc-subnav-item">
						<a href="/docs-test/ag/learning.html" class="soa-ui-dc-subnav-item-link soa-ui-dc-icon soa-ui-dc-icon-action-dark soa-ui-dc-subnav-item-link-active">Learning</a><!-- replace href -->
					</li>
					<li class="soa-ui-dc-subnav-item">
						<a href="/docs-test/ag/reference.html" class="soa-ui-dc-subnav-item-link soa-ui-dc-icon soa-ui-dc-icon-action-dark">Reference</a><!-- replace href -->
					</li>
				</ul>
				<!-- sub nav ends here -->
			</div>
		</div>

					<div class="soa-ui-dc-topsearch-container">
				<form class="soa-ui-dc-topsearch">
					<label for="soa-control-dc-search" class="soa-ui-dc-label soa-ui-dc-label-hidden">Enter Search Text</label>
					<input type="text" id="soa-control-dc-search-query" name="q" placeholder="Search" autocomplete="off" class="soa-ui-dc-topsearch-input">
					<button class="soa-ui-dc-topsearch-button soa-ui-dc-icon-imgtxt soa-ui-dc-icon-magnifying-glass" type="button">Search</button>
				</form>
				<div id="soa-control-dc-search-results" class="soa-ui-dc-inline-search-div soa-ui-dc-icon" style="display: none;">
					<ul class="soa-ui-dc-buttons">
						<li>
							<button id="soa-control-dc-close-results" type="button" class="soa-ui-dc-icon-imgtxt soa-ui-dc-button soa-ui-dc-button-borderless soa-ui-dc-button-close">Close</button>
						</li>
					</ul>
					<h3 class="soa-ui-dc-content-header">Search Results</h3>
					<div id="soa-control-dc-search-result-entries">
					</div>
				</div>
			</div>

		    
		    <script id="soa-control-dc-search-results-template" type="text/x-handlebars-template">
				{{#entries}}
					<div class="soa-ui-dc-content-catalog">
						<ul class="soa-ui-dc-content-catalog-items">
							<li class="soa-ui-dc-content-catalog-item soa-ui-dc-2col-with-avatar soa-ui-dc-clearthis">
								<div class="soa-ui-dc-avatar-box">
									<h4 class="soa-ui-dc-icon-imgtxt soa-ui-dc-document-type soa-ui-dc-icon-{{ type }}">
									Document
									</h4>
								</div>
								<div class="soa-ui-dc-details-box">
									<div class="soa-ui-dc-section">
										<h3 class="soa-ui-dc-section-header">
											<a href="/docs-test{{ url }}"{{#if_eq type "pdf"}} target="_blank"{{/if_eq}}>{{ title }}</a>
										</h3>
										<p class="soa-ui-dc-section-paragraph">
										{{ description }}
										</p>
									</div>
								</div>
							</li>
						</ul>
					</div>
				{{/entries}}
		    </script>
		    
		
	</div>
</div>
		<div class="soa-ui-dc-container-main soa-ui-dc-clearthis">
			<!-- left nav -->
			<div class="soa-ui-dc-container-main-left">
				<h3 class="soa-ui-dc-container-main-left-header">
					
					<a href="/docs-test/ag/learning.html" class="soa-ui-dc-container-main-left-header-link">Learning</a>
								
				</h3>

			</div>
<!-- End left nav -->
			<div class="soa-ui-dc-container-main-content"><!-- main content starts here -->
				<div class="documentation supportContent">
					  <h2 name="top">Using the User-Defined DataPower Component (Pipeline)</h2>
  <p>Learn how to add a processing rule defined in the WebSphere DataPower Appliance to the User-Defined DataPower Component. </p>

 <a href="datapower_policies.htm" class="button secondary">DataPower Policies</a>

<a href="../policies/policy_management.htm" class="button secondary">Managing Policies</a>

  <p></p>

  <div class = "divider1"></div>
  <h3 style="color: gray;">Table of Contents</h3>

   <ol class="table_of_contents">

 <li><a href="#introduction">Introduction</a></li>
<li><a href="#using_contexts">Using Contexts with User-Defined DataPower Policy</a></li>

<li><a href="#using_auth">Using User Defined Authentication Policy with Contract Authorization</a></li>

  <li><a href="#configuration">Configuration</a></li>

  </ol>
  <div class = "divider1"></div><p></p>

<a name="introduction">
<h3>Introduction</h3></a>

<p>The "User-Defined DataPower Policy Component" is a Policy  Manager pipeline component that references a policy defined in IBM WebSphere  DataPower in the form of reusable user-defined processing rules located on the  WebSphere DataPower Appliance. A processing rule must first be defined on the  WebSphere DataPower Appliance before it can be used with this component. The  "Rule Name" assigned to the processing rule in the WebSphere DataPower Appliance  must match the name specified in the "DataPower Processing Rule Name" field of  this component. DataPower rule content can also be uploaded directly to the component. </p>
<p>This component is used if you have performed a DataPower  Integration by installing the "SOA Software Platform" and installing and  configuring the "SOA Software Policy Manager for IBM WebSphere DataPower"  feature.
  </p>
<a name="using_contexts">
<h3>Using Contexts with User-Defined DataPower Policy</h3></a>
<p>When enforcing the User-Defined DataPower Policy Component,  DataPower will call out to a user defined processing rule previously defined as  a "Processing Rule" object in the DataPower domain being governed. This rule  will perform an important user-defined function such as security processing or  transformation.</p>
<p>When authoring this rule, the proper use of DataPower  contexts is critical to the functioning of the rule and the larger service.</p>
<p>The following lists the key points that should be followed  for the proper use of contexts.</p>
<ul class="usingOrderedList">
  <li>
  If actions in the user defined  processing rule need to read the current request or response message, their  input context should be set to &lsquo;INPUT&rsquo;</li>
  <li>The &lsquo;INPUT&rsquo; context within the  user defined processing rule contains the request or response message as it has  been modified over the course of DataPower processing up to the invocation of  the user defined rule. It does not contain the original message as received by  DataPower.</li>
  <li>If actions in the user defined  processing rule need to modify the current request or response message, their  input context should be set to &lsquo;OUTPUT&rsquo;. The context written to this output will  be represented in the response message to DataPower&rsquo;s consumer.</li>
  <li>The &lsquo;OUTPUT&rsquo; context within  the user defined processing rule will be used as the OUTPUT context of the  larger transaction once the user defined processing policy completes. That  content will be available to other downstream user defined processing rules via  the &lsquo;INPUT&rsquo; context for that rule as per normal functionality.</li>
  <li>If a user defined processing  rule action does not need access to the &lsquo;INPUT&rsquo; context for the action&rsquo;s input  or &lsquo;OUTPUT&rsquo; context for the action&rsquo;s output, it should use the &lsquo;NULL&rsquo; context  instead.</li>
</ul>

<p><a href="#top">Back to top</a></p>

<a name="using_auth">
<h3>Using User Defined Authentication Policy with Contract Authorization</h3></a>
<p>The &quot;User-Defined DataPower Policy Component&quot; can be used to include an AAA authentication policy in your Policy Manager for DataPower deployed services. If you want the authenticated identity resulting from this policy to be the identity used when DataPower performs contract authorization, you must make DataPower aware of this identity.</p>
<p>
  This can be done by setting two DataPower variables as part of the post processing of your AAA authentication policy. These variables should be set as follows:</p>

<ul class="usingOrderedList">
  <li>var://context/soa/authenticatedidentities/consumer/identity/username –a string value containing the username of the authenticated identity. For example 'johndoe'.</li>
  <li>var://context/soa/authenticatedidentities/consumer/identity/domain –a string value containing the Policy Manager domain that the username is a part of. For example 'Local Domain'.</li>
</ul>
<p>For example, the following code sets the identity information:</p>
<p>dp:set-variable name=&quot;'var://context/soa/authenticatedidentities/consumer/identity/username'&quot; value=&quot;'johndoe'&quot; /&gt;</p>
  <p>dp:set-variable name=&quot;'var://context/soa/authenticatedidentities/consumer/identity/domain'&quot; &nbsp;&nbsp;value=&quot;'Local Domain'&quot; /&gt;</p>

<a name="configuration">
<h3>Configuration</h3></a>



<p>Let's take a quick walkthrough of the  User-Defined DataPower Policy Component configuration process to get your started.</p>
<p><em>Note: A  User-Defined DataPower Policy (non-pipeline) version must be  added using the Add Policy Wizard and defined and configured prior to this  configuration as the User-Defined Category from this policy is referenced in the  pipeline version of the policy.</em></p>
<h5>Step 1: Add Policy</h5>
<p>You can create a Pipeline Policy instance using <strong>Add Policy</strong> in the <em>Policies &gt; Operational Policies</em> section.</p>
<h5>Step 2: Modify Policy</h5>
<p>When you <strong>Modify</strong> the Pipeline Policy, and use <strong>Add Component</strong> to add the  User-Defined DataPower Policy Component, the<strong> Modify Pipeline Policy</strong> will look like this:</p>
<p><img src="images/modify_pipeline_userdefined_dp_policy.jpg" width="566" height="393"></p>
<p>This policy  is used  in the Request Configuration, Response Configuration, and Fault Configuration and can be positioned anywhere in the request, response, or fault. </p>
<h5>Step 3: Configure  </h5>


<p>The process of configuring the User-Defined DataPower  Policy Component involves adding a processing rule that is defined in the WebSphere DataPower appliance. </p>
<p>To configure the User-Defined DataPower Policy Component , select the policy and click <strong>Modify Component</strong> and configure the following options on the <em>Modify User-Defined DataPower Policy Component</em> screen. </p>
<ul class="usingOrderedList">
  <li> <strong>DataPower Processing Rule Name</strong> - Add a &quot;Rule Name&quot;assigned to the processing  rule in the WebSphere DataPower Appliance. Note that &quot;Rule  Name&quot; specified in the "DataPower Processing Rule Name" field must match the  "Rule Name" assigned to the WebSphere DataPower Appliance. </li>
  <li><strong>Authenticate Consumer Identity</strong> - Select if you would like the rule to perform authentication of the consumer identity. </li>
  <li><strong>Use Uploaded DataPower Configuration</strong> - If you would like to store the rule configuration in Policy Manager, select this option and upload the rule content. Note that the DataPower Processing Rule Name must still be specified in the &quot;DataPower Processing Rule Name&quot; field when using this option. </li>
</ul>
<p><img src="images/modify_userdefined_dp_policy1.jpg" width="458" height="417"><br>
  Figure. Specify DataPower Processing Rule Name
</p>
<p><img src="images/modify_userdefined_dp_policy2.jpg" width="488" height="298"><br>
  Figure. Enable Upload DataPower Configuration Option
</p>
<p><img src="images/modify_userdefined_dp_policy3.jpg" width="445" height="367"><br>
  Figure. Upload DataPower Processing Rule and View Rule Data </p>
<h5>Step 4: Attach Policy</h5>
<p>After you have saved your policy you can  attach it to a web service  or you can attach the policy at the Organization level and the policy will be active for all services defined within the organization. </p>
<p><img src="images/userdefined_dp_policy_attach.jpg" width="651" height="219"></p>


<p><a href="#top">Back to top</a></p>



				</div>
				<!-- main content ends here -->
			</div>
			</div>			
</div>			
			<!-- starts footer -->

			<footer id="footer">
			  <div class="container">
			    <div class="row" id="div0">
			      <div class="col-sm-3 top48">
			        <div class="wrapper" id="div1">
			          <ul id="ul0">
			            <li><strong>Solutions</strong></li>
			            <li><a href="http://soa.com/solution/api-management">API Management</a></li>
			            <li><a href="http://soa.com/solutions/api-security">API Security</a></li>
			            <li><a href="http://soa.com/solutions/mobile-application-gateway">Mobile Application Gateway</a></li>
			            <li><a href="http://soa.com/solutions/integrated_soa_governance">Integrated SOA Governance</a></li>
			            <li><a href="http://soa.com/solutions/application-services-governance">Application Services Governance</a></li>
			            <li><a href="http://soa.com/solution/reinvent-datacenter-with-apis">DataCenter API Platform</a></li>
			            <li><a href="http://soa.com/solutions/microsoft_and_soa_software">Microsoft APIs &amp; SOA</a></li>
			            <li><a href="http://soa.com/solutions/ibm_datapower_governance">IBM APIs &amp; SOA</a></li>
			            <li><a href="http://soa.com/solutions/sola/enterprise_soa_and_the_mainframe_solutions">Mainframe APIs &amp; SOA</a></li>
						<li><a href="http://soa.com/solutions/semantics-management">Metadata Management</a></li>
			          </ul>
			        </div>
			      </div>
			      <div class="col-sm-3 top48">
			        <div class="wrapper" id="div2">
			          <ul id="ul1">
			            <li><strong>Products</strong></li>
			 	    <li><a href="http://soa.com/solutions/api-gateway">API Gateway</a></li>
			            <li><a href="http://soa.com/products/community-manager">Community Manager</a></li>
			            <li><a href="http://soa.com/products/lifecycle_manager">Lifecycle Manager</a></li>
			            <li><a href="http://soa.com/products/policy_manager">Policy Manager</a></li>
			            <li><a href="http://soa.com/products/oauth-server">OAuth Server</a></li>
			          </ul>
			        </div>
			      </div>
			      <div class="col-sm-2 top48">
			        <div class="wrapper" id="div3">
			          <ul id="ul2">
			            <li><strong>Resources</strong></li>
			            <li><a href="http://resource.soa.com/">Resource Center</a></li>
			            <li><a href="http://resource.soa.com/resource/whitepaper/ebook-building-successful-apis">API eBook</a></li>
			            <li><a href="http://resource.soa.com/resource/White-Papers">White Papers</a></li>
			            <li><a href="http://resource.soa.com/resource/datasheets">Datasheets</a></li>
			            <li><a href="http://resource.soa.com/resource/Videos">Videos</a></li>
			            <li><a href="http://docs.soa.com" rel="external">Documentation</a></li>

			                                               <li class="partners-footer-holder"><strong>Support</strong></li>
									<li><a href="http://support.soa.com">Customer Support</a></li>
								
			          </ul>
			        </div>
			      </div>
			      <div class="col-sm-2 top48">
			        <div class="wrapper" id="div4">
			          <ul id="ul3">
			            <li><strong>News &amp; Events</strong></li>
			            <li><a href="http://soa.com/news/press-releases">Press releases</a></li>
			            <li><a href="http://soa.com/news/in_the_news">In the News</a></li>
			               

			 <li class="partners-footer-holder"><strong>Partners</strong></li>
			            <li><a href="http://soa.com/partners/soa_software_partners">Partner program</a></li>
			            <li><a href="http://soa.com/partners/partners_distribute_resell_consult">Distributors and Resellers</a></li>
			</ul>



			        </div>
			      </div>




			      <div class="col-sm-2 top48">
			        <div class="wrapper" id="div5">
			          <ul id="ul4">
			            <li><strong>Company</strong></li>
			            <li><a href="http://soa.com/company/executive_list">Executive Team</a></li>
			            <li><a href="http://soa.com/company/board_list">Board of Directors</a></li>
			            <li><a href="http://soa.com/company/customers">Customers</a></li>
			            <li><a href="http://soa.com/company/awards">Awards</a></li>
			            <li><a href="http://soa.com/company/careers">Careers</a></li>
			            <li><a href="http://soa.com/company/contact_us">Contact Us</a></li>
			            <li><a href="http://blog.soa.com/">Blog</a></li>
			          </ul>
			        </div>
			      </div>
			    </div>
			  </div>
			  <div class="row credits" id="div6">
			    <div class="col-md-12">
			      <div class="row social">
			        <div class="col-md-12"> <a href="https://www.facebook.com/SOASoftware" class="facebook"> <span class="socialicons ico1"></span> </a> <a href="https://twitter.com/SOASoftwareInc" class="twitter"> <span class="socialicons ico2"></span> </a>  <a href="https://www.linkedin.com/company/soa-software" class="pinterest"> <span class="socialicons ico5"></span> </a>  <a href="http://www.youtube.com/soasoftware" class="behance"> <span class="socialicons ico7"></span> </a> </div>
			      </div>
			      <div class="row copyright" id="div7">
			       
			        <div class="col-md-12"> &copy; 2014 SOA Software, Inc. All rights reserved </div>
			      </div>
			    </div>
			  </div>
			</footer>
			<!-- Scripts -->

			<script>								


			/* do we need this script below? */
			$(".balls").click(function(e) {
			    $("html, body").bind("scroll mousedown DOMMouseScroll mousewheel keyup", function(){
			       $('html, body').stop();
			   });
			    var elem;
			    e.preventDefault();
			    var id = $(this).attr("id");
			    if(id == "scrollBtn1") {
			        elem = "#box-top";
			 }else if(id == "scrollBtn2"){
			     elem = "#box-middle";
			 }else if(id == "scrollBtn3"){
			     elem = "#box-bottom";
			     
			 }
			 $('html, body').animate({
			        scrollTop: $(elem).offset().top - 96
			    }, 1500);
			    return false;
			});


			</script>
			<!--
			<script type="text/javascript"> 
			var debugMode=true;
			var bt_config_project_id = 114;
			var bt_config_default_location = "Home Page";
			var bt_config_btn_placement = "topLeft";
			var bt_config_btn_style = "trans";
			</script>
			<script type="text/javascript" src="http://bugtracker.ripemedia.com/widget/js/embed.js"></script> -->
			<!-- RipeTracker Button END -->
			<div id="soa-control-dc-overlay" class="soa-ui-dc-overlay"></div>
			<script type="text/javascript">
				$(function() {
					$('#soa-control-dc-search-query').lunrSearch({
						indexUrl: '/docs-test/search.json',
						results:  '#soa-control-dc-search-results',
						entries:  '#soa-control-dc-search-result-entries',
						template: '#soa-control-dc-search-results-template'
					});
					$("#soa-control-dc-close-results").click(function(e){
						e.preventDefault();
						$('#soa-control-dc-search-results').hide();
						$('#soa-control-dc-overlay').removeClass('soa-ui-dc-overlay-visible');
					});
					$("#soa-control-dc-overlay").click(function(e){
						e.preventDefault();
						$('#soa-control-dc-search-results').hide();
						$('#soa-control-dc-overlay').removeClass('soa-ui-dc-overlay-visible');
					});
					$(".soa-ui-dc-container-main-left-nav-item-link").click(function(e){
						if ( ! $(this).closest(".soa-ui-dc-container-main-left-nav-inner").length ) {
							$(".soa-ui-dc-container-main-left-nav-item").removeClass('soa-ui-dc-container-main-left-nav-item-selected');
							$(this).parent().addClass('soa-ui-dc-container-main-left-nav-item-selected');
							// $(this).addClass('soa-ui-dc-container-main-left-nav-item-selected');
						}
					});
				});
			</script>

		</div>
	</body>
</html>
