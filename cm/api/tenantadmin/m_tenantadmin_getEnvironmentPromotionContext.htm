---
layout: apipage
title: Get Environment Promotion Context | Tenant Administration Service | Akana API Platform API
description: Returns information about the dependencies that exist in the specified environment, such as APIs, services, policies, scripts, processes, resources, and businesses.
product: cm
category: ref
nav-title: Get Environment Promotion Context 
no-nav: api
sub-nav: true
sub-nav-class: tenantadmin
no-catalog: true
---

<div class="apidocContent">
<!-- InstanceBeginEditable name="Heading" -->
<h2 id="top">GET&nbsp;/api/tenants/{FedMemberID}/{environment}/promotion/context</h2>
<!-- InstanceEndEditable -->

<!-- InstanceBeginEditable name="Intro_AuthRoles" -->
<p><!-- #BeginLibraryItem "/Library/desc_getEnvironmentPromotionContext.lbi" -->Returns information about the dependencies that exist in the specified environment, such as APIs, services, policies, scripts, processes, resources, and businesses.<!-- #EndLibraryItem --></p>
<p>In a scenario where information cannot be transferred electronically between tenants&#8212;for example, for security reasons&#8212;a user would need to invoke this operation to retrieve a document, which is then passed to Lifecycle Coordinator. You would perform these two steps:</p>
<ol>
	<li>Call <a href="m_tenantadmin_getEnvironmentPromotionContext.htm"><span class="apidoc_code">GET&nbsp;/api/tenants/{FedMemberID}/{environment}/promotion/context</span></a> (this operation) which returns an <strong>EnvironmentContext</strong> object.</li>
	<li>Pass the response <strong>EnvironmentContext</strong> object to the Topology API to update the environment context (<span class="apidoc_code">PUT /{topology-name}/environments/{environment-name}/context). G</span>o to the generated REST API documentation for your version (see <a href="../../../ag/apidoc_restApiDocs.htm">REST API Documentation</a>) and review the Topology API generated documentation.</li>
</ol>
<p>For more information, see <a href="../../promotion/promotion_users_guide.htm#env_decoupled_00">Support for Decoupled Environments in a Topology</a> (Lifecycle Coordinator Promotion Guide).</p>
<p id="id_roles"><strong>Authorization Roles/Permissions</strong>: Must have Modify permission for the tenant; <a href="../aaref/Ref_AuthorizationRolesOnThePlatform.htm#authroles_siteadmin">Site Admin</a></p>
<!-- InstanceEndEditable --><!-- #BeginLibraryItem "/Library/_whatdoyouwanttoreadabout.lbi" -->
<p>This topic includes the following sections:</p>
<div class="relatedlinks">
<ul>
	<li><a href="#httpmethod">HTTP Method</a></li>
	<li><a href="#endpoint">URL</a></li>
	<li><a href="#samplerequest">Sample Request</a></li>
	<li><a href="#requestheaders">Request Headers</a></li>
	<li><a href="#requestparameters">Request Parameters</a></li>
</ul>
<ul>
	<li><a href="#response">Response</a></li>
	<li><a href="#sampleresponse">Sample Response</a></li>
	<li><a href="#responseheaders">Response Headers</a></li>
	<li><a href="#responsebody">Response Body</a></li>
	<li><a href="#errorcodes">Error Codes/Messages</a></li>
</ul>
</div><!-- #EndLibraryItem --><h3 id="httpmethod">HTTP Method</h3>
<!-- InstanceBeginEditable name="HTTP Method" -->
GET
<!-- InstanceEndEditable -->
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>

<h3 id="endpoint">URL</h3>
<!-- InstanceBeginEditable name="URL" -->
<pre class="soaapidoc_endpoint"><!-- #BeginLibraryItem "/Library/_endpointbase.lbi" -->https://{hostname}/api/<!-- #EndLibraryItem -->tenants/{TenantFedMemberID}/{environment}/promotion/context</pre>
<!-- InstanceEndEditable -->
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>


<!-- InstanceBeginEditable name="Sample Request" -->
<h3 id="samplerequest">Sample Request</h3>
<p id="id_samplerequest">The example below shows a request for information about the resources and dependencies for <strong>tenant3</strong> in the <strong>production</strong> environment.</p>
<p><strong>Request URL</strong></p>
<pre><!-- #BeginLibraryItem "/Library/_endpointbase.lbi" -->https://{hostname}/api/<!-- #EndLibraryItem -->tenants/tenant3/production/promotion/context?includeServiceInfo=true&amp;includeAPIInfo=true</pre>
<p><strong>Sample request headers</strong></p>
<pre>Accept: application/json
<!-- #BeginLibraryItem "/Library/hdr_xcsrf.lbi" -->X-Csrf-Token_acmepaymentscorp":"TokenID%3D8ed70a13-8469-11e8-b37a-b155e4eabeb8%2CexpirationTime%3D153...<!-- #EndLibraryItem --></pre>
<p><strong>Sample request body</strong></p>
<p>Not applicable.</p>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Request Headers" -->
<h3 id="requestheaders">Request Headers</h3>
<p>For general information on request header values, refer to <a href="../aaref/Ref_HTTPHeaders.htm#ref_httprequestheaders">HTTP Request Headers</a>.</p>
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Header</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><a href="../aaref/Ref_HTTPHeaders.htm#acceptheader">Accept</a></td>
			<td><!-- #BeginLibraryItem "/Library/hdrval_appjson.lbi" --><strong>application/json</strong><!-- #EndLibraryItem -->,<!-- #BeginLibraryItem "/Library/hdrval_appxml.lbi" --><strong>application/xml</strong><!-- #EndLibraryItem --></td>
		</tr>
		<tr>
			<td><a href="../aaref/Ref_CookiesOnThePlatform.htm#cookie_atmoauthtoken">AtmoAuthToken_{fedmemberid}</a></td>
			<td>The platform cookie. This is the&nbsp;<!-- #BeginLibraryItem "/Library/_PlatformName.lbi" -->Akana API Platform<!-- #EndLibraryItem -->&nbsp;authorization token, and must be sent with every API request that requires login.</td>
		</tr>
		<tr>
			<td><a href="../aaref/Ref_HTTPHeaders.htm#csrf_token_request">X-Csrf-Token_{fedmemberID}</a></td>
			<td><!-- #BeginLibraryItem "/Library/hrdval_csrf.lbi" -->The CSRF prevention header; may or may not be required, depending on platform settings. See <a href="../aaref/Ref_CSRFPreventionOnThePlatform.htm">CSRF Prevention on the Platform</a>. By default, the CSRF header is not required for GET operations and is required for all others, with a few exceptions relating to user login.<!-- #EndLibraryItem --></td>
		</tr>
	</tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Request Parameters" -->
<h3 id="requestparameters">Request Parameters</h3>
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Parameter</th>
			<th>Parm Type</th>
			<th>Data Type</th>
			<th>Required</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><a href="../aaref/Ref_IDsOnThePlatform.htm#id_fedmemberid">FedmemberID</a></td>
			<td>Path</td>
			<td>String</td>
			<td>Required</td>
			<td><!-- #BeginLibraryItem "/Library/o_ID_FedMemberID.lbi" -->Unique ID for a specific tenant, in a federation (multi-tenant) scenario; for example, <strong>acmepaymentscorp</strong>.<!-- #EndLibraryItem --></td>
		</tr>
		<tr>
			<td>Environment</td>
			<td>Path</td>
			<td>String</td>
			<td>Required</td>
			<td>The environment, within the lifecycle topology, for which information is requested; for example, Dev, Test, Production.</td>
		</tr>
		<tr>
			<td>includeServiceInfo</td>
			<td>Query</td>
			<td>Boolean</td>
			<td>Optional</td>
			<td>Indicates whether services should be included in the response. Default: <strong>false</strong>.</td>
		</tr>
		<tr>
			<td>includeAPIInfo</td>
			<td>Query</td>
			<td>Boolean</td>
			<td>Optional</td>
			<td>Indicates whether APIs should be included in the response. Default: <strong>false</strong>.</td>
		</tr>
	</tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Description" -->
<h3 id="response">Response</h3>
<p id="id_successstatement">If successful, this operation returns HTTP status code 200, with information about the resources and dependencies in the specified environment.</p>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Sample Response" -->
<h3 id="sampleresponse">Sample Response</h3>
<p id="id_sampleresponse">The sample response below shows successful completion of this operation.</p>
<p><strong>Sample response headers: application/json</strong></p>
<pre>Status Code: 200 OK
Content-Type: application/json</pre>
<p><strong>Sample response body: application/json</strong></p>
<pre>{
  "properties":[

  ],
  "policies":[
    {
      "policyId":"Tenant3-AtmosphereApplicationSecurityPolicy",
      "policyName":"AtmosphereApplicationSecurityPolicy",
      "organizationId":"uddi:soa.com:atmosphere:tenant:tenant3",
      "policyType":"Operational Policy",
      "policySubType":"policy.apisec"
    },
    {
      "policyId":"Tenant3-BasicAuditing",
      "policyName":"BasicAuditing",
      "organizationId":"uddi:soa.com:atmosphere:tenant:tenant3",
      "policyType":"Operational Policy",
      "policySubType":"policy.auditservice"
    },
    {
      "policyId":"urn:uuid:4a8bdd24-c104-11e8-9fdf-f6bb767bad96",
      "policyName":"CommonAuditing",
      "organizationId":"uddi:soa.com:atmosphere:tenant:tenant3",
      "policyType":"Operational Policy",
      "policySubType":"policy.auditxmlmessage"
    },
    {
      "policyId":"Tenant3-CORSAllowAll",
      "policyName":"CORSAllowAll",
      "organizationId":"uddi:soa.com:atmosphere:tenant:tenant3",
      "policyType":"Operational Policy",
      "policySubType":"policy.cors"
    },
    {
      "policyId":"Tenant3-DetailedAuditing",
      "policyName":"DetailedAuditing",
      "organizationId":"uddi:soa.com:atmosphere:tenant:tenant3",
      "policyType":"Operational Policy",
      "policySubType":"policy.auditservice"
    },
    {
      "policyId":"Tenant3-OAuthSecurity",
      "policyName":"OAuthSecurity",
      "organizationId":"uddi:soa.com:atmosphere:tenant:tenant3",
      "policyType":"Operational Policy",
      "policySubType":"policy.oauth"
    }
  ],
  "resources":[

  ],
  "services":[
    {
      "serviceId":"uddi:dfd219f3-c038-11e8-a2a4-8705fbac063e",
      "serviceName":"Local_Design",
      "serviceQname":"{Local_0.0.0}Local",
      "organizationId":"uddi:dfbbd2d2-c038-11e8-a2a4-8705fbac063e",
      "virtual":false,
      "lastUpdated":1537821119000
    },
    {
      "serviceId":"uddi:e06188c8-c038-11e8-a2a4-8705fbac063e",
      "serviceName":"Local_v1_Live",
      "serviceQname":"{Local_0.0.0}svc_8f78770b-886a-4de6-b0f6-131b4967ad57.tenant3.live",
      "organizationId":"uddi:dfbbd2d2-c038-11e8-a2a4-8705fbac063e",
      "virtual":true,
      "lastUpdated":1537821119000
    },
    {
      "serviceId":"uddi:e04240ed-c038-11e8-a2a4-8705fbac063e",
      "serviceName":"Local_v1_Live_Target",
      "serviceQname":"{Local_0.0.0}svc_8f78770b-886a-4de6-b0f6-131b4967ad57.tenant3.live.target",
      "organizationId":"uddi:dfbbd2d2-c038-11e8-a2a4-8705fbac063e",
      "virtual":false,
      "lastUpdated":1537821119000
    },
    {
      "serviceId":"uddi:bd425d60-c5ac-11e8-8c5d-b89f19d7a05f",
      "serviceName":"Swagger_Petstore_Design",
      "serviceQname":"{Swagger_Petstore_1.0.0}Swagger_Petstore",
      "organizationId":"uddi:bd15f62f-c5ac-11e8-8c5d-b89f19d7a05f",
      "virtual":false,
      "lastUpdated":1538421231000
    },
    {
      "serviceId":"uddi:be5e2dfa-c5ac-11e8-8c5d-b89f19d7a05f",
      "serviceName":"Swagger_Petstore_v1_Live",
      "serviceQname":"{Swagger_Petstore_1.0.0}svc_9aa5ec0b-75bc-4619-a7c8-18d22adc25e3.tenant1.live",
      "organizationId":"uddi:bd15f62f-c5ac-11e8-8c5d-b89f19d7a05f",
      "virtual":true,
      "lastUpdated":1538421223000
    },
    {
      "serviceId":"uddi:bddd176c-c5ac-11e8-8c5d-b89f19d7a05f",
      "serviceName":"Swagger_Petstore_v1_Live_Target",
      "serviceQname":"{Swagger_Petstore_1.0.0}svc_9aa5ec0b-75bc-4619-a7c8-18d22adc25e3.tenant1.live.target",
      "organizationId":"uddi:bd15f62f-c5ac-11e8-8c5d-b89f19d7a05f",
      "virtual":false,
      "lastUpdated":1538421228000
    },
    {
      "serviceId":"uddi:69cea433-c104-11e8-b402-bca640698897",
      "serviceName":"TestDecoupled9_Design",
      "serviceQname":"{TestDecoupled9_0.0.0}TestDecoupled9",
      "organizationId":"uddi:69b21b82-c104-11e8-b402-bca640698897",
      "virtual":false,
      "lastUpdated":1537908774000
    },
    {
      "serviceId":"uddi:6a7bd438-c104-11e8-b402-bca640698897",
      "serviceName":"TestDecoupled9_v1_Live",
      "serviceQname":"{TestDecoupled9_0.0.0}svc_ffc4ba19-c5cb-4e9d-ae39-78ab6e0efc84.tenant1.live",
      "organizationId":"uddi:69b21b82-c104-11e8-b402-bca640698897",
      "virtual":true,
      "lastUpdated":1537908774000
    },
    {
      "serviceId":"uddi:6a5bc90d-c104-11e8-b402-bca640698897",
      "serviceName":"TestDecoupled9_v1_Live_Target",
      "serviceQname":"{TestDecoupled9_0.0.0}svc_ffc4ba19-c5cb-4e9d-ae39-78ab6e0efc84.tenant1.live.target",
      "organizationId":"uddi:69b21b82-c104-11e8-b402-bca640698897",
      "virtual":false,
      "lastUpdated":1537908774000
    },
    {
      "serviceId":"uddi:f4c380d2-c587-11e8-b40d-f49544e3b9e8",
      "serviceName":"Another2_Design",
      "serviceQname":"{Another2_0.0.0}Another2",
      "organizationId":"uddi:f498ee61-c587-11e8-b40d-f49544e3b9e8",
      "virtual":false,
      "lastUpdated":1538405090000
    },
    {
      "serviceId":"uddi:f59e0268-c587-11e8-b40d-f49544e3b9e8",
      "serviceName":"Another2_v1_Live",
      "serviceQname":"{Another2_0.0.0}svc_92cd8fc6-b49a-4071-a027-ddf12f4be03e.tenant1.live",
      "organizationId":"uddi:f498ee61-c587-11e8-b40d-f49544e3b9e8",
      "virtual":true,
      "lastUpdated":1538405091000
    },
    {
      "serviceId":"uddi:f55f99cd-c587-11e8-b40d-f49544e3b9e8",
      "serviceName":"Another2_v1_Live_Target",
      "serviceQname":"{Another2_0.0.0}svc_92cd8fc6-b49a-4071-a027-ddf12f4be03e.tenant1.live.target",
      "organizationId":"uddi:f498ee61-c587-11e8-b40d-f49544e3b9e8",
      "virtual":false,
      "lastUpdated":1538405091000
    }
  ],
  "apiVersions":[
    {
      "apiVersionId":"8f78770b-886a-4de6-b0f6-131b4967ad57.tenant3",
      "apiId":"8dd07cc8-5a98-4f6d-a798-a2559262f602.tenant3",
      "apiName":"Local",
      "apiVersion":"v1",
      "businessId":"tenantbusiness.tenant3",
      "organizationId":"uddi:dfbbd2d2-c038-11e8-a2a4-8705fbac063e",
      "lastUpdated":1537821115000
    },
    {
      "apiVersionId":"ffc4ba19-c5cb-4e9d-ae39-78ab6e0efc84.tenant3",
      "apiId":"3a5b365b-0970-4bc2-9e4e-1f342db39477.tenant3",
      "apiName":"TestDecoupled9",
      "apiVersion":"v1",
      "businessId":"tenantbusiness.tenant3",
      "organizationId":"uddi:69b21b82-c104-11e8-b402-bca640698897",
      "lastUpdated":1537908774000
    },
    {
      "apiVersionId":"92cd8fc6-b49a-4071-a027-ddf12f4be03e.tenant3",
      "apiId":"671e8f3e-5439-417c-bf1c-472afa99cfde.tenant3",
      "apiName":"Another2",
      "apiVersion":"v1",
      "businessId":"tenantbusiness.tenant3",
      "organizationId":"uddi:f498ee61-c587-11e8-b40d-f49544e3b9e8",
      "lastUpdated":1538405090000
    },
    {
      "apiVersionId":"9aa5ec0b-75bc-4619-a7c8-18d22adc25e3.tenant3",
      "apiId":"04232f09-b2be-46e0-b666-2667e6f6eada.tenant3",
      "apiName":"Swagger_Petstore",
      "apiVersion":"v1",
      "businessId":"tenantbusiness.tenant3",
      "organizationId":"uddi:bd15f62f-c5ac-11e8-8c5d-b89f19d7a05f",
      "lastUpdated":1538421219000
    }
  ],
  "businesses":[
    {
      "name":"Tenant - Tenant3",
      "id":"tenantbusiness.tenant3",
      "organizationId":"uddi:soa.com:atmosphere:tenant:tenant3"
    }
  ],
  "scripts":[

  ],
  "processes":[

  ],
  "links":[

  ]
}</pre>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Headers" -->
<h3 id="responseheaders">Response Headers</h3>
<p>For general information on response header values, refer to <a href="../aaref/Ref_HTTPHeaders.htm#ref_httpresponseheaders">HTTP Response Headers</a>.</p>
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Header</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><a href="../aaref/Ref_HTTPHeaders.htm#contenttype_response">Content-Type</a></td>
			<td><!-- #BeginLibraryItem "/Library/hdrval_appjson.lbi" --><strong>application/json</strong><!-- #EndLibraryItem -->,<!-- #BeginLibraryItem "/Library/hdrval_appxml.lbi" --><strong>application/xml</strong><!-- #EndLibraryItem --></td>
		</tr>
	</tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Body" -->
<h3 id="responsebody">Response Body</h3>
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Name</th>
			<th>Type</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>EnvironmentContext</td>
			<td>EnvironmentContext</td>
			<td><p>Contains information about the dependencies that exist in the specified environment:</p>
				<ul class="apidoctable_ul">
					<li>properties</li>
					<li>policies</li>
					<li>resources</li>
					<li>services</li>
					<li>apiVersions</li>
					<li>businesses</li>
					<li>scripts</li>
					<li>processes</li>
					<li>links</li>
				</ul></td>
		</tr>
	</tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<h3 id="errorcodes">Error Codes/Messages</h3>
<p>If the call is unsuccessful an error code/message is returned. One or more examples of possible errors for this operation are shown below.</p>
<!-- InstanceBeginEditable name="Error Messages" -->
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Item</th>
			<th>Value</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><a href="../aaref/Ref_HTTPStatusCodes.htm#http401">401</a></td>
			<td><!-- #BeginLibraryItem "/Library/401_CSRF.lbi" -->Unauthorized. For example, you would get this response if you didn't include the custom <a href="../Ref_Glossary_CommunityPlatform.htm#gl_xcsrf_token_fedmemberid">X-Csrf-Token_{fedmemberID}</a> header in the request, when it was required by the platform settings; or if you included an invalid or expired value for this header. You would also get this response for any operation that requires login (almost all) if the login cookie was missing.<!-- #EndLibraryItem --></td>
		</tr>
		<tr>
			<td><a href="../aaref/Ref_HTTPStatusCodes.htm#http500">500</a></td>
			<td>An error occurred processing the call.</td>
		</tr>
	</tbody>
</table>
<!-- InstanceEndEditable -->
<p><a href="../aaref/Ref_ErrorMessages.htm">More information about&nbsp;<!-- #BeginLibraryItem "/Library/_PlatformName.lbi" -->Akana API Platform<!-- #EndLibraryItem -->&nbsp;API error messages.</a></p>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>


<h3 id="relatedtopics">Related Topics</h3><!-- #BeginLibraryItem "/Library/_RelatedTopics.lbi" -->
<div class="relatedlinks">
<ul>
	<li><a href="../index.htm">Akana API Platform API: Overview</a></li>
	<li><a href="../Ref_Glossary_CommunityPlatform.htm">Glossary of Terms</a></li>
	<li><a href="../Ref_DocConventions.htm">Documentation Conventions</a></li>
</ul>
<ul>
	<li><a href="../Ref_AuthenticationAndSecurity.htm">Authentication and Security</a></li>
	<li><a href="../Ref_TroubleshootingAndSupport.htm">Troubleshooting and Support</a></li>
	<li><a href="../Ref_API_Reference.htm">Akana API Platform API: Reference Material</a></li>
	<li><a href="../aaex/Ref_Ex_Overview.htm">Examples: Overview</a></li>
</ul> 
</div><!-- #EndLibraryItem --></div>
