---
layout: apipage
title: Create API | APIs Service | Akana API Platform API
description: Defines an API from scratch, based on an existing service, or based on an API description document.
product: cm
category: ref
nav-title: Create API 
no-nav: api
sub-nav: true
sub-nav-class: apis
no-catalog: true
---

<!-- InstanceBeginEditable name="Heading" -->
<h2><a name="top" id="top"></a>POST&nbsp;/api/apis</h2>
<!-- InstanceEndEditable -->

<!-- InstanceBeginEditable name="Intro_AuthRoles" -->
<p><!-- #BeginLibraryItem "/Library/desc_createAPI.lbi" -->Defines an API from scratch, based on an existing service, or based on an API description document.<!-- #EndLibraryItem --></p>
<p>The API can be defined in three ways:</p>
<ul>
  <li>With only API name (API details to be added later)</li>
  <li>Based on an existing service</li>
  <li>Based on an API description document at a referenced URL or in a file (individual file or part of a ZIP file) previously uploaded to the Dropbox using the <span class="apidoc_code"><a href="../dropbox/m_dropbox_readFileDetails.htm">POST&nbsp;/api/dropbox/readfiledetails</a></span> operation (Swagger 2.0, RAML, WADL, or WSDL).</li>
</ul>
<p>To make changes to the API once you've created it, use one of the following:</p>
<ul>
  <li>Update information about the API version, such as name and description: <span class="apidoc_code"><a href="m_apis_updateAPIVersionInfo.htm">PUT&nbsp;/api/apis/versions/{ApiVersionID}/info</a></span></li>
  <li>Update the API design: <span class="apidoc_code"><a href="m_apis_modifyAPIVersionDesign.htm">PUT&nbsp;/api/apis/versions/{APIVersionID}/design</a></span></li>
</ul>
<h5 class="stamp">New in API Platform Version: 8.1</h5>
<p class="apidoc_note"><strong>Note</strong>: When creating an API using this API operation, you can specify deployment zones for the new API. This functionality isn't currently covered by the user interface (as of version 8.3) but is supported by the API. See <a href="#samplerequest06">Sample Request Body #6</a> below.</p>
<p id="id_roles"><strong>Authorization Roles/Permissions: </strong>Must have permission to add an API. The user who adds the API automatically becomes the first API Administrator.</p>
<!-- InstanceEndEditable --><!-- #BeginLibraryItem "/Library/_whatdoyouwanttoreadabout.lbi" -->
<p>This topic includes the following sections:</p>
<table width="600" border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td width="200"><ul>
  <li><a href="#httpmethod">HTTP Method</a></li>
  <li><a href="#endpoint">URL</a></li>
  <li><a href="#samplerequest">Sample Request</a></li>
  <li><a href="#requestheaders">Request Headers</a></li>
  <li><a href="#requestparameters">Request Parameters</a></li>
</ul>
</td>
    <td width="400"><ul>
  <li><a href="#response">Response</a></li>
  <li><a href="#sampleresponse">Sample Response</a></li>
  <li><a href="#responseheaders">Response Headers</a></li>
  <li><a href="#responsebody">Response Body</a></li>
  <li><a href="#errorcodes">Error Codes/Messages</a></li>
</ul>
</td>
  </tr>
</table><!-- #EndLibraryItem --><h3 id="httpmethod">HTTP Method</h3>
<!-- InstanceBeginEditable name="HTTP Method" -->
<p class="httpverb">POST</p>
<!-- InstanceEndEditable -->
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>

<h3 id="endpoint">URL</h3>
<!-- InstanceBeginEditable name="URL" -->
<pre class="soaapidoc_endpoint"><!-- #BeginLibraryItem "/Library/_endpointbase.lbi" -->https://{hostname}/api/<!-- #EndLibraryItem -->apis</pre>
<!-- InstanceEndEditable -->
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>


<!-- InstanceBeginEditable name="Sample Request" -->
<h3 id="samplerequest">Sample Request</h3>
<p id="id_samplerequest">The examples below show several variations of adding an API by providing different optional values.</p>
<p><strong>Request URL</strong></p>
<pre><!-- #BeginLibraryItem "/Library/_endpointbase.lbi" -->https://{hostname}/api/<!-- #EndLibraryItem -->apis</pre>
<p><strong>Sample request headers</strong></p>
<pre>POST /api/apis HTTP/1.1
Host: {hostname}
Accept: application/vnd.soa.v81+json
Content-Type: application/vnd.soa.v81+json; charset=UTF-8
<!-- #BeginLibraryItem "/Library/hdr_xcsrf.lbi" -->X-Csrf-Token_{tenant}: {TokenID}<!-- #EndLibraryItem --></pre>
<p><strong>Sample request body #1</strong></p>
<p>Creates an API by uploading a Swagger document, previously uploaded to the Dropbox using the <span class="apidoc_code"><a href="../dropbox/m_dropbox_readFileDetails.htm">POST&nbsp;/api/dropbox/readfiledetails</a></span> operation.</p>
<!--<p>Date: Tue, 05 Jul 2016 14:27:47 GMT</p>-->
<pre>{
  "DLDescriptor":{
    "ServiceDescriptorReference":{
      "ServiceName":"Swagger_Petstore",
      "FileName":"swagger_petstore.json",
      "DropboxFileId":1053
    }
  }
}</pre>

<!--<p><strong>Sample request body #2</strong></p>
<p>In this example, rather than uploading a description document, the request includes the content of the API description file, as the value for DLContent. Note that in the JSON content of the API description file, all double quotes were escaped with the backslash character so they could be included as part of the string value. The content shown below in a Swagger document. It has paragraph breaks, and is abbreviated, for the sake of visual display.</p>
<pre>
{
  "APIVersionInfo" : {
    "Name" : "Swagger Petstore Subset"
  },
  "DLDescriptor" : {
    "DLContent" : "{\"swagger\":\"2.0\",\"info\":{\"description\":\"This is a subset of the Swagger Petstore API.\",\"version\":\"1.0.0\",
\"title\":\"Swagger Petstore\",\"termsOfService\":\"http://swagger.io/terms/\",\"contact\":{\"email\":\"apiteam@swagger.io\"},
\"license\":{\"name\":\"Apache 2.0\",\"url\":\"http://www.apache.org/licenses/LICENSE-2.0.html\"}},\"host\":\"petstore.swagger.io\",
\"basePath\":\"/v2\",\"tags\":[{\"name\":\"pet\",\"description\":\"Everything about your Pets\",\"externalDocs\":{\"description\":\"Find out more\",
\"url\":\"http://swagger.io\"}},{\"name\":\"store\",\"description\":\"Access to Petstore orders\"},
{\"name\":\"user\",\"description\":\"Operations about user\",\"externalDocs\":{\"description\":\"Find out more about our store\",
\"url\":\"http://swagger.io\"}}],\"schemes\":[\"http\"],\"paths\":{\"/pet\":{\"post\":{\"tags\":[\"pet\"],\"summary\":\"Add a new pet to the store\",
\"description\":\"\",\"operationId\":\"addPet\",\"consumes\":[\"application/json\",\"application/xml\"],\"produces\":[\"application/xml\",
\"application/json\"],\"parameters\":[{\"in\":\"body\",\"name\":\"body\",\"description\":\"Pet object that needs to be added to the store\",

...

{\"description\":\"Find out more about Swagger\",\"url\":\"http://swagger.io\"}}"
  }
}
</pre>
-->
<p><strong>Sample request body #2</strong></p>
<p>Creates an API with only the API name provided, so the API Admin can add the details later. Corresponds to the &quot;Create API from Scratch&quot; option in the UI. No target endpoint specified.</p>
<!--<p>Date: Tue, 05 Jul 2016 14:22:32 GMT</p>-->
<pre>{
  "APIVersionInfo":{
    "Name":"ACME Payments API"
  },
  "AddAPIImplementationRequest":{
    "CreateMechanism":"PROXY"
  }
}</pre>

<p><strong>Sample request body #3</strong></p>
<p>Creates an API with only the API name provided, so the API Admin can add the details later. Corresponds to the &quot;Create API from Scratch&quot; option in the UI. This example includes the optional target endpoint URL.</p>
<!--<p>Date: Tue, 05 Jul 2016 14:06:27 GMT</p>-->
<pre>{
  "APIVersionInfo":{
    "Name":"ACME Payments API"
  },
  "AddAPIImplementationRequest":{
    "ProxyImplementationRequest":{
      "TargetEndpointURL":[
        "http://www.acmepayments.com/api"
      ]
    }
  }
}</pre>

<p><strong>Sample request body #4: Upload RAML file</strong></p>
<p>Creates an API by referencing a specific RAML file previously uploaded to the Dropbox using the <span class="apidoc_code"><a href="../dropbox/m_dropbox_readFileDetails.htm">POST&nbsp;/api/dropbox/readfiledetails</a></span> operation.</p>
<pre>{
  "DLDescriptor":{
    "ServiceDescriptorReference":{
      "DropboxFileId":1024,
      "FileName":"ACMEPaymentsCorpAPI.raml",
      "ServiceName":"ACME_Payments_Corp_API"
    }
  }
}</pre>

<p><strong>Sample request body #5: Upload RAML file in ZIP file</strong></p>
<p>Creates an API by referencing a specific RAML file in a ZIP file previously uploaded to the Dropbox using the <span class="apidoc_code"><a href="../dropbox/m_dropbox_readFileDetails.htm">POST&nbsp;/api/dropbox/readfiledetails</a></span> operation.</p>
<pre>{
  "DLDescriptor":{
    "ServiceDescriptorReference":{
      "ServiceName":"Aria_API",
      "FileName":"RAMLDocs/ACMEPaymentsCorpAPI.raml",
      "DropboxFileId":1054
    }
  }
}</pre>

<p id="samplerequest06"><strong>Sample request body #6: Include deployment zone specifications</strong></p>
<p>Specifies two deployment zones for the API.</p>
<pre>{
  "APIVersionInfo": {
    "Name": "NewAPI_WithDZ"
  },
  "AddAPIImplementationRequest": {
    "ProxyImplementationRequest": {
      "TargetEndpointURL": "http://httpstat.us"
    },
    "APIImplementationDeployments": {
      "DeploymentZonesHostingInfo": [{
        "DeploymentZoneEndpoint": [{
          "DeploymentZoneID": "83c0f1b8-b0fb-4195-86db-e9f2a95132f5.acmepaymentscorp",
          "EndpointPath": "/",
          "Protocol": "https",
          "Public": true
        }, {
          "DeploymentZoneID": "83c0f1b8-b0fb-4195-86db-e9f2a95132f5.acmepaymentscorp",
          "Protocol": "http",
          "ListenerName": "httplistener2",
          "EndpointHostName": "acmepaymentscorp",
          "EndpointPath": "/http"
        }],
        "DeploymentZoneID": "83c0f1b8-b0fb-4195-86db-e9f2a95132f5.acmepaymentscorp"
      }]
    },
    "CreateMechanism": "PROXY"
  },
  "classifiers": {}
}</pre>

<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Request Headers" -->
<h3 id="requestheaders">Request Headers</h3>
<p>For general information on request header values, refer to <a href="../aaref/Ref_HTTPHeaders.htm#ref_httprequestheaders">HTTP Request Headers</a>.</p>
<table class="tableparmsresponse" width="100%" cellspacing="0" cellpadding="2">
  <thead>
    <tr>
      <th width="20%">Header</th>
      <th width="80%">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="../aaref/Ref_HTTPHeaders.htm#acceptheader">Accept</a></td>
      <td><!-- #BeginLibraryItem "/Library/hdrval_appjson_81.lbi" --><strong>application/vnd.soa.v81+json</strong><!-- #EndLibraryItem -->, <!-- #BeginLibraryItem "/Library/hdrval_appxml_81.lbi" --><strong>application/vnd.soa.v81+xml</strong><!-- #EndLibraryItem --></td>
    </tr>
    <tr>
      <td><a href="../aaref/Ref_HTTPHeaders.htm#contenttype_request">Content-Type</a></td>
      <td><p>Any one of the following media types is valid for the request Content-Type:</p>
        <p><!-- #BeginLibraryItem "/Library/hdrval_appjson_81.lbi" --><strong>application/vnd.soa.v81+json</strong><!-- #EndLibraryItem --> or <!-- #BeginLibraryItem "/Library/hdrval_appxml_81.lbi" --><strong>application/vnd.soa.v81+xml</strong><!-- #EndLibraryItem --></p></td>
    </tr>
    <tr>
      <td><a href="../aaref/Ref_HTTPHeaders.htm#csrf_token_request">X-Csrf-Token_{fedmemberID}</a></td>
      <td>The CSRF prevention header; may or may not be required, depending on platform settings. See <a href="../aaref/Ref_CSRFPreventionOnThePlatform.htm">CSRF Prevention on the Platform</a>.</td>
    </tr>
  </tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Request Parameters" -->
<h3 id="requestparameters">Request Parameters</h3>
<table class="tableparmsresponse" width="100%" cellspacing="0" cellpadding="2">
  <thead>
    <tr>
      <th width="11%">Parameter</th>
      <th width="9%">Parm Type</th>
      <th width="11%">Data Type</th>
      <th width="11%">Required</th>
      <th width="58%">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>addAPIRequest</td>
      <td>Body</td>
      <td><a href="../obj/o_apis_AddAPIRequest.htm">addAPIRequest</a></td>
      <td>Required</td>
      <td><p><!-- #BeginLibraryItem "/Library/o_apis_addAPIRequest.lbi" -->Contains information about a request to add an API.<!-- #EndLibraryItem --></p>
        <p>The only property required is the API name.</p>
        <p>Properties supported in the <strong>AddAPIImplementRequest</strong> (part of this object) when creating an API are:</p>
        <ul class="apidoctable_ul">
          <li>ImplementationCode</li>
          <li>CreateMechanism</li>
          <li>ProxyImplementationRequest (if <strong>CreateMechanism</strong> is <strong>PROXY</strong>)</li>
        </ul>
        <p>The DropboxFileId is returned by the <span class="apidoc_code"><a href="../dropbox/m_dropbox_readFileDetails.htm">POST&nbsp;/api/dropbox/readfiledetails</a></span> operation which is run first to upload an individual or ZIP file.</p></td>
    </tr>
  </tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Description" -->
<h3 id="response">Response</h3>
<p id="id_successstatement">If successful, this operation returns HTTP status code 200, with information about the API that was added.</p>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Sample Response" -->
<h3 id="sampleresponse">Sample Response</h3>
<p id="id_sampleresponse">The sample response below shows successful completion of this operation.</p>
<p><strong>Sample response headers: application/vnd.soa.v81+json</strong></p>
<pre>HTTP/1.1 200 OK
Date: Tue, 05 Jul 2016 14:49:13 GMT
Content-Type: application/vnd.soa.v81+json
Atmo-Renew-Token: renew
Set-Cookie: Csrf-Token_acmepaymentscorp=TokenID%3Dde5b2e6a-d040-11e5-82f9-a0de4d4...</pre>
<p><strong>Sample response body: application/vnd.soa.v81+json (response to sample request #3)</strong></p>
<pre>{
  "APIID" : "420b17dd-f733-464c-9353-8f71467c7bae.acmepaymentscorp",
  "Name" : "ACME Payments API2",
  "Description" : "ACME Payments API2",
  "Visibility" : "Public",
  "LatestVersionID" : "3fbbf104-cacd-443b-b539-f86dd545bfad.acmepaymentscorp",
  "RatingSummary" : {
    "Five" : 0,
    "Four" : 0,
    "Three" : 0,
    "Two" : 0,
    "One" : 0
  },
  "APIVersion" : {
    "APIVersionID" : "3fbbf104-cacd-443b-b539-f86dd545bfad.acmepaymentscorp",
    "APIID" : "420b17dd-f733-464c-9353-8f71467c7bae.acmepaymentscorp",
    "Name" : "v1",
    "Description" : "ACME Payments API2",
    "Environment" : "Production",
    "Visibility" : "Public",
    "Created" : "2016-07-05T14:49:15Z",
    "Updated" : "2016-07-05T14:49:15Z",
    "State" : "com.soa.api.state.open",
    "ProductionEndpointAccessAutoApproved" : false,
    "SandboxEndpointAccessAutoApproved" : false,
    "RatingSummary" : {
      "Five" : 0,
      "Four" : 0,
      "Three" : 0,
      "Two" : 0,
      "One" : 0
    },
    "SandboxAnonymousAccessAllowed" : false,
    "ProductionAnonymousAccessAllowed" : false,
    "ResourceLevelPermissionsSupported" : false,
    "APIOwnedImplementations" : true,
    "APIDesign" : {
      "CommonDesign" : false
    }
  },
  "AdminGroupID" : "apiadmin-420b17dd-f733-464c-9353-8f71467c7bae.acmepaymentscorp",
  "Created" : "2016-07-05T14:49:15Z",
  "Updated" : "2016-07-05T14:49:15Z"
}</pre>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>



<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Headers" -->
<h3 id="responseheaders">Response Headers</h3>
<p>For general information on response header values, refer to <a href="../aaref/Ref_HTTPHeaders.htm#ref_httpresponseheaders">HTTP Response Headers</a>.</p>
<table class="tableparmsresponse" width="100%" cellspacing="0" cellpadding="2">
  <thead>
    <tr bgcolor="#DDDDDD">
      <th width="20%">Header</th>
      <th width="80%">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="../aaref/Ref_HTTPHeaders.htm#contenttype_response">Content-Type</a></td>
      <td><!-- #BeginLibraryItem "/Library/hdrval_appjson_81.lbi" --><strong>application/vnd.soa.v81+json</strong><!-- #EndLibraryItem -->, <!-- #BeginLibraryItem "/Library/hdrval_appxml_81.lbi" --><strong>application/vnd.soa.v81+xml</strong><!-- #EndLibraryItem --></td>
    </tr>
    <tr>
      <td><a href="../aaref/Ref_HTTPHeaders.htm#atmorenewtoken">Atmo-Renew-Token</a></td>
      <td><strong>renew</strong></td>
    </tr>
  </tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Body" -->
<h3 id="responsebody">Response Body</h3>
<table class="tableparmsresponse" width="100%" cellspacing="0" cellpadding="2">
  <thead>
    <tr bgcolor="#DDDDDD">
      <th width="20%">Name</th>
      <th width="15%">Type</th>
      <th width="65%">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>API</td>
      <td><a href="../obj/o_apis_API.htm">API</a></td>
      <td><!-- #BeginLibraryItem "/Library/o_apis_API.lbi" --> Includes information about an API.<!-- #EndLibraryItem --></td>
    </tr>
  </tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<h3 id="errorcodes">Error Codes/Messages</h3>
<p>If the call is unsuccessful an error code/message is returned. One or more examples of possible errors for this operation are shown below.</p>
<!-- InstanceBeginEditable name="Error Messages" -->
<table class="tableparmsresponse" width="100%" cellspacing="0" cellpadding="2">
  <thead>
    <tr bgcolor="#DDDDDD">
      <th width="20%">Item</th>
      <th width="80%">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="../aaref/Ref_HTTPStatusCodes.htm#http401">401</a></td>
      <td><!-- #BeginLibraryItem "/Library/401_CSRF.lbi" -->Unauthorized. For example, you would get this response if you didn't include the custom <a href="../Ref_Glossary_CommunityPlatform.htm#gl_xcsrf_token_fedmemberid">X-Csrf-Token_{fedmemberID}</a> header in the request, when it was required by the platform settings; or if you included an invalid or expired value for this header.<!-- #EndLibraryItem --></td>
    </tr>
    <tr>
      <td><a href="../aaref/Ref_HTTPStatusCodes.htm#http500">500</a></td>
      <td>An error occurred processing the call. </td>
    </tr>
  </tbody>
</table>
<!-- InstanceEndEditable -->
<p><a href="../aaref/Ref_ErrorMessages.htm">More information about&nbsp;<!-- #BeginLibraryItem "/Library/_PlatformName.lbi" -->Akana API Platform<!-- #EndLibraryItem -->&nbsp;API error messages.</a></p>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>


<h3 id="relatedtopics">Related Topics</h3><!-- #BeginLibraryItem "/Library/_RelatedTopics.lbi" -->
<table width="700" border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td width="300"><ul>
  <li><a href="../index.htm">Akana API Platform API: Overview</a></li>
  <li><a href="../Ref_Glossary_CommunityPlatform.htm">Glossary of Terms</a></li>
  <li><a href="../Ref_DocConventions.htm">Documentation Conventions</a></li>
</ul>
</td>
    <td width="400"><ul>
  <li><a href="../Ref_AuthenticationAndSecurity.htm">Authentication and Security</a></li>
  <li><a href="../Ref_TroubleshootingAndSupport.htm">Troubleshooting and Support</a></li>
  <li><a href="../Ref_API_Reference.htm">Akana API Platform API: Reference Material</a></li>
</ul>
</td>
  </tr>
</table><!-- #EndLibraryItem -->