---
layout: apipage
title: Resolve Login Pending Task | Login Service | Akana API Platform API
description: Used if a custom user workflow is in use in the platform that requires custom tasks; for example, entering a two-factor verification code. In this scenario, this operation allows a user to log in, guiding the user through any pending tasks that are needed, including custom tasks, such as 2FA verification, and any standard tasks, such as accepting a legal agreement or changing the password.
product: cm
category: ref
nav-title: Resolve Login Pending Task 
no-nav: api
sub-nav: true
sub-nav-class: login
no-catalog: true
---

<div class="apidocContent">
<!-- InstanceBeginEditable name="Heading" -->
<h1 id="top">POST&nbsp;/api/login/pendingtasks</h1>
<!-- InstanceEndEditable -->

<!-- InstanceBeginEditable name="Intro_AuthRoles" -->
<p><!-- #BeginLibraryItem "/Library/desc_resolveLoginPendingTask.lbi" -->Used if a custom user workflow is in use in the platform that requires custom tasks; for example, entering a two-factor verification code. In this scenario, this operation allows a user to log in, guiding the user through any pending tasks that are needed, including custom tasks, such as 2FA verification, and any standard tasks, such as accepting a legal agreement or changing the password.<!-- #EndLibraryItem --></p>
<p>With the platform's default workflow, the <span class="apidoc_code"><a href="m_login_login.htm">POST&nbsp;/api/login</a></span> operation initiates the login process. If a custom workflow is in effect with custom pending tasks, the <span class="apidoc_code">POST&nbsp;/api/login/pendingtasks</span> operation manages the custom task.</p>
<p>This operation links the user request into a workflow action in a custom user workflow controlling the custom login tasks. Multiple custom login tasks can be introduced, as long as the workflow is updated to reflect each task. This provides an API layer that links into the workflow action to resolve login pending tasks.</p>
<p>This operation links into the <strong>@ResolveLoginPendingTask</strong> workflow initial action.</p>
<p id="id_roles"><strong>Authorization Roles/Permissions</strong>: To complete this operation successfully, a user must be registered on the platform or be in process of registering.</p>
<!-- InstanceEndEditable --><!-- #BeginLibraryItem "/Library/_whatdoyouwanttoreadabout.lbi" -->
<p>This topic includes the following sections:</p>
<div class="relatedlinks">
<ul>
	<li><a href="#httpmethod">HTTP Method</a></li>
	<li><a href="#endpoint">URL</a></li>
	<li><a href="#samplerequest">Sample Request</a></li>
	<li><a href="#requestheaders">Request Headers</a></li>
	<li><a href="#requestparameters">Request Parameters</a></li>
</ul>
<ul>
	<li><a href="#response">Response</a></li>
	<li><a href="#sampleresponse">Sample Response</a></li>
	<li><a href="#responseheaders">Response Headers</a></li>
	<li><a href="#responsebody">Response Body</a></li>
	<li><a href="#errorcodes">Error Codes/Messages</a></li>
</ul>
</div><!-- #EndLibraryItem --><h2 id="httpmethod">HTTP Method</h2>
<!-- InstanceBeginEditable name="HTTP Method" -->
<p class="httpverb">POST</p>
<!-- InstanceEndEditable -->
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>

<h2 id="endpoint">URL</h2>
<!-- InstanceBeginEditable name="URL" -->
<pre class="soaapidoc_endpoint"><!-- #BeginLibraryItem "/Library/_endpointbase.lbi" -->https://{hostname}/api/<!-- #EndLibraryItem -->login/pendingtasks</pre>
<!-- InstanceEndEditable -->
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>


<!-- InstanceBeginEditable name="Sample Request" -->
<h2 id="samplerequest">Sample Request</h2>
<p id="id_samplerequest">The example below shows the response to this operation. In this example, a two-factor authentication task is pending (implemented with a custom workflow).</p>
<p><strong>Request URL</strong></p>
<pre><!-- #BeginLibraryItem "/Library/_endpointbase.lbi" -->https://{hostname}/api/<!-- #EndLibraryItem -->/login/pendingtasks</pre>
<p><strong>Sample request headers</strong></p>
<pre>POST {hostname}/api/login/pendingtasks HTTP/1.0
Host: {hostname}
Accept: application/json
Content-Type: application/json; charset=UTF-8</pre>
<p><strong>Sample request body</strong></p>
<p> In the example below, a two-factor authentication task is pending (implemented with a custom workflow). The requests message includes the two-factor authentication code.</p>
<pre>{
  &quot;parameters&quot;:{
    &quot;2fa.verification.code&quot;:&quot;298810&quot;,
    &quot;Action&quot;:&quot;validate&quot;
  },
  &quot;taskID&quot;:&quot;2fa.required&quot;
}</pre>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Request Headers" -->
<h2 id="requestheaders">Request Headers</h2>
<p>For general information on request header values, refer to <a href="../aaref/Ref_HTTPHeaders.htm#ref_httprequestheaders">HTTP Request Headers</a>.</p>
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Header</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><a href="../aaref/Ref_HTTPHeaders.htm#acceptheader">Accept</a></td>
			<td><!-- #BeginLibraryItem "/Library/hdrval_appjson.lbi" --><strong>application/json</strong><!-- #EndLibraryItem -->, <!-- #BeginLibraryItem "/Library/hdrval_appjson_72.lbi" --><strong>application/vnd.soa.v72+json</strong><!-- #EndLibraryItem --></td>
		</tr>
		<tr>
			<td><a href="../aaref/Ref_HTTPHeaders.htm#contenttype_request">Content-Type</a></td>
			<td><!-- #BeginLibraryItem "/Library/hdrval_appjson.lbi" --><strong>application/json</strong><!-- #EndLibraryItem -->, <!-- #BeginLibraryItem "/Library/hdrval_appjson_72.lbi" --><strong>application/vnd.soa.v72+json</strong><!-- #EndLibraryItem --></td>
		</tr>
	</tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Request Parameters" -->
<h2 id="requestparameters">Request Parameters</h2>
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Parameter</th>
			<th>Parm Type</th>
			<th>Data Type</th>
			<th>Required</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>ResolveLoginPendingTaskRequest</td>
			<td>Body</td>
			<td><a href="../obj/o_login_ResolveLoginPendingTaskRequest.htm">ResolveLoginPendingTaskRequest</a></td>
			<td>Required</td>
			<td><!-- #BeginLibraryItem "/Library/o_users_ResolveLoginPendingTaskRequest.lbi" -->Contains information about a custom login task that is pending for the current user.<!-- #EndLibraryItem --></td>
		</tr>
	</tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Description" -->
<h2 id="response">Response</h2>
<p id="id_successstatement">If successful, this operation returns HTTP status code 200, with the login response showing the next pending login task. If there are no pending login tasks, the user is fully logged in with a login status of <strong>login.complete</strong>.</p>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Sample Response" -->
<h2 id="sampleresponse">Sample Response</h2>
<p id="id_sampleresponse">The sample response below shows successful completion of this operation.</p>
<p><strong>Sample response headers</strong></p>
<pre>HTTP/1.1 200 OK
Content-Type: application/json
Expires: Wed, 09 Sep 2015 13:30:45 GMT</pre>
<p><strong>Sample response body #1</strong></p>
<p>In the example below, the user must also accept the platform's legal agreement as part of the login process.</p>
<pre>{
  &quot;pendingAgreements&quot; : [ &quot;signupagrmtv1.acmepaymentscorp&quot; ],
  &quot;pendingTasks&quot; : [ &quot;force.accept.agreements&quot; ],
  &quot;loginState&quot; : &quot;login.inprocess&quot;,
  &quot;pendingNotifications&quot; : 0
}</pre>
<p><strong>Sample response body #2</strong></p>
<p>In the example below, the user has completed all login tasks and is fully logged in.</p>
<pre>{
  &quot;loginState&quot; : &quot;login.complete&quot;,
  &quot;pendingNotifications&quot; : 0
}</pre>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Headers" -->
<h2 id="responseheaders">Response Headers</h2>
<p>For general information on response header values, refer to <a href="../aaref/Ref_HTTPHeaders.htm#ref_httpresponseheaders">HTTP Response Headers</a>.</p>
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Header</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><a href="../aaref/Ref_HTTPHeaders.htm#contenttype_response">Content-Type</a></td>
			<td><!-- #BeginLibraryItem "/Library/hdrval_appjson.lbi" --><strong>application/json</strong><!-- #EndLibraryItem -->, <!-- #BeginLibraryItem "/Library/hdrval_appjson_72.lbi" --><strong>application/vnd.soa.v72+json</strong><!-- #EndLibraryItem --></td>
		</tr>
	</tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Body" -->
<h2 id="responsebody">Response Body</h2>
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Name</th>
			<th>Type</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>LoginResponse</td>
			<td><a href="../obj/o_login_LoginResponse.htm">LoginResponse</a></td>
			<td><p><!-- #BeginLibraryItem "/Library/o_login_LoginResponse.lbi" -->Contains information returned as a result of logging in.<!-- #EndLibraryItem --></p>
				<p>Depending on the scenario, the response might include information on the next login task the user must complete, or might include user name and FDN, along with an authorization token and the pending notifications count for the user.</p></td>
		</tr>
	</tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<h2 id="errorcodes">Error Codes/Messages</h2>
<p>If the call is unsuccessful an error code/message is returned. One or more examples of possible errors for this operation are shown below.</p>
<!-- InstanceBeginEditable name="Error Messages" -->
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Item</th>
			<th>Value</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><a href="../aaref/Ref_HTTPStatusCodes.htm#http500">500</a></td>
			<td>An error occurred processing the call.</td>
		</tr>
	</tbody>
</table>
<!-- InstanceEndEditable -->
<p><a href="../aaref/Ref_ErrorMessages.htm">More information about&nbsp;<!-- #BeginLibraryItem "/Library/_PlatformName.lbi" -->Akana API Platform<!-- #EndLibraryItem -->&nbsp;API error messages.</a></p>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>


<h2 id="relatedtopics">Related Topics</h2><!-- #BeginLibraryItem "/Library/_RelatedTopics.lbi" -->
<div class="relatedlinks">
<ul>
	<li><a href="../index.htm">Akana API Platform API: Overview</a></li>
	<li><a href="../Ref_Glossary_CommunityPlatform.htm">Glossary of Terms</a></li>
	<li><a href="../Ref_DocConventions.htm">Documentation Conventions</a></li>
</ul>
<ul>
	<li><a href="../Ref_AuthenticationAndSecurity.htm">Authentication and Security</a></li>
	<li><a href="../Ref_TroubleshootingAndSupport.htm">Troubleshooting and Support</a></li>
	<li><a href="../Ref_API_Reference.htm">Akana API Platform API: Reference Material</a></li>
	<li><a href="../aaex/Ref_Ex_Overview.htm">Examples: Overview</a></li>
</ul> 
</div><!-- #EndLibraryItem --></div>
