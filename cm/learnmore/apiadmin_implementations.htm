---
layout: page
title: Managing API Implementations | API Admin | Akana API Platform Help
description: Add or modify one or more implementations for your API. Manage deployment zones and policies
product: cm
category: learn
sub-nav-class: API Admin
weight: 2616
type: page
nav-title: Managing API Implementations
---
<h2 id="top">Managing API Implementations</h2>

<p>Add or modify one or more <a href="basics_glossary.htm#gl_implementation">implementations</a> for your API. Manage deployment zones and policies for each implementation.</p>
<h5 class="stamp">API Platform Version: 8.1</h5>

<div class = "divider1"></div>

<h3 style="color: gray;">Table of Contents</h3>



<h5 style="color: gray;"><a href="#h_implementations">Implementations:</a></h5>


<ol class="table_of_contents">
  <li><a href="#api_impl_what_is">What is an API implementation?</a></li>
  <li><a href="#api_impl_how_add">How do I add an API implementation?</a></li>
  <li><a href="#api_impl_how_add_sbox">How do I add a Sandbox implementation?</a></li>
  <li><a href="#api_impl_pattern">What is an implementation pattern and which one should I choose?</a></li>
  <li><a href="#api_impl_how_many">How many API implementations can I have?</a></li>
  <li><a href="#api_impl_how_edit">How do I edit an API implementation?</a></li>
  <li><a href="#api_impl_how_delete">How do I delete an API implementation?</a></li>
  <li><a href="#api_impl_add_modify_target_endpoint">How do I add or modify a target endpoint for an implementation?</a></li>
  <li><a href="#api_impl_delete_target_endpoint">How do I delete a target endpoint for an implementation?</a></li>
  <li><a href="#api_impl_process_editor">How do I manage orchestration for my implementation?</a></li>
  </ol>


<h5 style="color: gray;"><a href="#h_deployment_zones">Managing Deployment Zones for an API:</a></h5>


<ol class="table_of_contents">
  <li><a href="#api_dz_what_is">What is a deployment zone?</a></li>
  <li><a href="#api_dz_how_see">How do I see which deployment zones my API is deployed to?</a></li>
  <li><a href="#api_dz_how_add">How do I add an API deployment zone?</a></li>
  <li><a href="#api_dz_how_many">How many API deployment zones can I have?</a></li>
  <li><a href="#api_dz_how_edit">How do I edit an API deployment zone?</a></li>
  <li><a href="#api_dz_how_add_new_protocol">How do I add a new protocol for an API deployment zone?</a></li>
  <li><a href="#api_dz_how_delete">How do I delete an API deployment zone?</a></li>
</ol>


<h5 style="color: gray;"><a href="#h_policies">Managing Policies for an API:</a></h5>

<ol class="table_of_contents">
  <li><a href="#api_impl_policies_available">What types of policies are available for my API?</a></li>
  <li><a href="#what_security_and_monitoring_policies_are_supported">What security and monitoring policies are available for my API?</a></li>
  <li><a href="#api_impl_policies_choose">Which policies should I choose?</a></li>
  <li><a href="#api_impl_policies_view_details">How can I see details about a policy?</a></li>
  <li><a href="#what_is_the_minimum_policy_requirement_for_my_api">What is the minimum policy requirement for my API?</a></li>
  <li><a href="#api_impl_policies_how_assign">How do I assign policies to my API implementation?</a></li>
  <li><a href="#api_impl_policies_how_view">How do I see which policies are assigned to my API implementation?</a></li>
  <li><a href="#how_do_i_set_up_my_api_to_support_cors">How do I set up my API to support CORS?</a></li>
</ol>


<h5 style="color: gray;"><a href="#h_keys_certificates">Managing Keys and Certificates for an API:</a></h5>

<ol class="table_of_contents">
  <li><a href="#api_impl_keys_certs">How do I manage keys and certificates for my API?</a></li>
  <li><a href="#api_impl_sni">How do I set up my API to support SNI?</a></li>
</ol>





<div class = "divider1"></div>
<h3><a name="h_implementations"></a>Implementations:</h3>




<a name="api_impl_what_is"></a><h3>What is an API implementation?</h3>
<p>Different implementations of an API represent the different endpoints of the API in the same <a href="basics_glossary.htm#gl_lifecyclestage">lifecycle stage</a>. For example, it is common for an API to have <strong>Sandbox</strong> and <strong><!-- #BeginLibraryItem "/library/environ_live.lbi" -->Live<!-- #EndLibraryItem --></strong> implementations.</p>
<p>When you create your initial API definition, the API platform creates the <strong><!-- #BeginLibraryItem "/library/environ_live.lbi" -->Live<!-- #EndLibraryItem --></strong> implementation automatically. You can create a second implementation for Sandbox, if needed.</p>
<p>If an existing implementation is deleted, you can create another; however, you cannot have more than two implementations of an API at the same lifecycle stage.</p>
<h5>Implementation Summary</h5>
<p>The Implementations page for your API (API Details &gt; Implementations) will look something like the below:</p>
<p><img src="assets/api_implementations_summary.jpg" alt="API Implementations page" /></p>
<p>In this example, there are three <a href="basics_glossary.htm#gl_deploymentzone">deployment zones</a> available and active for each implementation; therefore, each implementation has three endpoints, one for each deployment zone. You can modify as needed. For more information, see <a href="#h_deployment_zones">Managing Deployment Zones for an API</a>.</p>
<h5>Implementation Details</h5>
<p>When you click through on a specific implementation, you'll see the implementation details, something like the below:</p>
<p><img src="assets/api_implementations_details.jpg" alt="API Implementations page" /></p>
<p>Here, you can manage all aspects of the implementation:</p>
<ul>
  <li><strong>Top section</strong>: modify metadata about the implementation such as description and proxy URL.</li>
  <li><strong>Middle section</strong>: modify the technical details about the implementation such as deployment zones and vanity hostname.</li>
  <li><strong>Bottom section</strong>: specify policies to be applied to API traffic for this implementation.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_how_add"></a><h3>How do I add an API implementation?</h3>
<p>If you create your API by importing an API description document, the platform creates the <!-- #BeginLibraryItem "/library/environ_live.lbi" -->Live<!-- #EndLibraryItem --> implementation as part of creating the API. In this scenario, it's best to review the API implementation definition, and modify if needed. See <a href="#api_impl_how_edit">How do I edit an API Implementation?</a> below.</p>
<p>If you created your API from scratch, or you want a second implementation for an existing API, you'll need to add a new implementation. Follow the steps below.</p>
<h5><a name="proc_impl_add"></a>To add an API implementation</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click <strong>Add</strong>.</li>
  <li>Provide the following:
    <ul>
      <li><strong>Implementation Name</strong>: choose from the drop-down list available. You can have one implementation for each option available on the list.</li>
      <li><strong>Description</strong>: a short description of the implementation. This field supports Markdown, so you can add formatting. Click the <strong>?</strong> sign for help with Markdown, if needed.</li>
      <li><strong>Pattern</strong>: Choose <strong>Proxy</strong> for a simple scenario where the API implementation has a 1:1 relationship with a back-end physical service/API; then provide the API endpoint that you want to set up a proxy for. Choose <strong>Orchestration</strong> for a more complex API implementation that might include one or more services, processes, or additional steps.</li>
      </ul>
    </li>
<!--  <li>Choose a pattern. This determines how you want to create the new implementation. Choices: Proxy, Clone, Existing Service, Mock Service, or Orchestration. For more information, see <a href="#api_impl_pattern">What is an implementation pattern and which one should I choose?</a> below.</li>-->
  <li>Click <strong>Save</strong>.</li>
  <li>At the Implementations page, click the link for the new implementation to add additional values. See <a href="#proc_impl_edit">To edit an API implementation</a> below.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_how_add_sbox"></a><h3>How do I add a Sandbox implementation?</h3>
<p>If you're designing your API from scratch, there are no implementations until you create them. In this scenario, to add a Sandbox implementation, follow the instructions in <a href="#proc_impl_add">To add a new API implementation</a> above.</p>
<p>If you create the API from an API description document, the first implementation is automatically created as a <!-- #BeginLibraryItem "/library/environ_live.lbi" -->Live<!-- #EndLibraryItem --> implementation.</p>
<p>If you want to add an additional implementation for Sandbox, follow the instructions in <a href="#proc_impl_add">To add a new API implementation</a> above.</p>
<p>If you want <strong>only</strong> a Sandbox implementation, first add the new Sandbox implementation, and then delete the <!-- #BeginLibraryItem "/library/environ_live.lbi" -->Live<!-- #EndLibraryItem --> implementation following the instructions in <a href="#api_impl_how_delete">How do I delete an API implementation?</a> below.</p>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_pattern"></a><h3>What is an implementation pattern and which one should I choose?</h3>
<p>When you're setting up an implementation, you'll need to specify the <a href="basics_glossary.htm#gl_implementationpattern">implementation pattern</a> and then provide additional details.</p>
<p>The implementation pattern determines how you want to go about creating the implementation and/or what existing service you want to use or to base the new service on.</p>
<p>Generally, <strong>Proxy</strong> is the default. It  is appropriate for a simple scenario where the API  implementation has a 1:1 relationship with a back-end physical  service/API.</p>
<p>For a more complex API implementation, that might include  one or more services, processes, or additional steps, choose  <strong>Orchestration</strong>. Later, you can use the built-in Process Editor to  fine-tune the process.</p>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_how_many"></a><h3>How many API implementations can I have?</h3>
<p>You can have two API implementations for each  <a href="basics_glossary.htm#gl_lifecyclestage">lifecycle stage</a>. Each implementation represents a different endpoint; generally, <strong><!-- #BeginLibraryItem "/library/environ_live.lbi" -->Live<!-- #EndLibraryItem --></strong> and <strong>Sandbox</strong>.</p>
<p>When you create your initial API definition, by default the <strong><!-- #BeginLibraryItem "/library/environ_live.lbi" -->Live<!-- #EndLibraryItem --></strong> implementation is created. You can create a second implementation for Sandbox, if needed.</p>
<p>If an existing implementation is deleted, you can create another; however, you cannot have more than two implementations of an API at the same lifecycle stage.</p>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_how_edit"></a><h3>How do I edit an API implementation?</h3>
<h5><a name="proc_impl_edit"></a>To edit an API implementation</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click the implementation you want to edit. The summary page for the implementation is displayed. There are several sections to the page:
    <ul>
      <li>General information about the implementation</li>
      <li>Deployment zone data</li>
      <li>Policies</li>
      <li>Certificate</li>
      <li>Resources</li>
    </ul>
  </li>
  <li>Optional: edit implementation summary values:
    <ul>
      <li> In the top section, click <strong>Edit</strong>.</li>
      <li>Add or modify the description. You can use Markdown if needed.</li>
      <li>Check or clear the <strong>Allow Anonymous Access</strong> check box.</li>
      <li>Check or clear the <strong>Approval Required</strong> check box (applicable only if anonymous access is not allowed).</li>
      <li>In the <strong>Pattern</strong> field, change the <a href="basics_glossary.htm#gl_implementationpattern">implementation pattern</a> if needed. Choose <strong>Proxy</strong> for a simple scenario where the API implementation has a 1:1 relationship with a back-end physical service/API. Choose <strong>Orchestration</strong> for a more complex API implementation that might include one or more services, processes, or additional steps.</li>
      <li>When done, click <strong>Save</strong>.</li>
    </ul>
    </li>
  <li>Optional: edit deployment zone details:
    <ul>
    <li>In the middle section, click <strong>Edit</strong>.</li>
    <li><strong>Zone</strong>: choose a different deployment zone out of the valid values available.</li>
    <li><strong>Enable Zone</strong>: To add or remove deployment zones for the implementation, click the zone on the left and then check or clear the <strong>Enable Zone</strong> box on the right.</li>
    <li>Add protocol: click the <strong>+</strong> tab. At the <strong>Add Endpoints</strong> overlay, choose the protocol and click <strong>Add</strong>.
    <p><strong>Note</strong>: If you want to use SNI to serve up the implementation's key/certificate, in the HTTPS tab, check the <strong>Use Implementation's Key/Certificate for SSL</strong> box (requires that API Clients are SNI-compliant).</p></li>
    <li><a href="basics_glossary.htm#gl_contextpath">Context Path</a>: defaults to a single forward slash (<strong>/</strong>) but you can change it.</li>
  </ul>
  </li>
  <li>Optional: edit certificate information for the implementation:
    <ul>
      <li>In the Certificate section, click <strong>Edit</strong>.</li>
      <li>On the Keys and Certificates page, manage keys and certificates. You can upload, download, or delete. When you're done, click <strong>Save</strong>. For more information, see <a href="#api_impl_keys_certs">How do I manage keys and certificates for my API?</a></li>
    </ul>
  </li>
  <li>Optional: edit policies:
    <ul>
      <li>In the Policies section, click <strong>Edit</strong>.</li>
      <li>Choose to attach or remove policies, and then click <strong>Save</strong>.</li>
    </ul>
  </li>
  <li>Optional: edit resources:
    <ul>
      <li>Choose the resources you want to edit. In the Actions column, click the arrow. The Process Editor opens.</li>
      <li>Edit the process for the resource, and then click <strong>Save</strong>.  For information on using the features of the Process Editor, refer to the standalone Process Editor help: <a href="http://docs.akana.com/ag/processes/process_reference_pm8x.htm" target="_blank">http://docs.akana.com/ag/processes/process_reference_pm8x.htm</a>. For a tutorial video showing an example of using the Process Editor, see <a href="https://www.youtube.com/watch?v=VdiYPH4YP0A" target="_blank">Add an API using orchestration</a> (external link).</li>
    </ul>
  </li>
</ol>
<p>The changes are effective immediately.</p>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_how_delete"></a><h3>How do I delete an API implementation?</h3>
<p>You can delete one or more implementations for an API.</p>
<p><strong>Note</strong>: When you delete an implementation, all apps are disconnected from the implementation, and all process configuration, policies, and endpoints are deleted. This action is not reversible. To set up the implementation again you'd need to recreate from scratch, including policies, process configuration, and endpoints, and apps would need to connect to the new implementation.</p>
<h5>To delete an API implementation:</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click the implementation you want to delete. The summary page for the implementation is displayed.</li>
  <li>At the top right, click <strong>Delete</strong>.</li>
  <li>At the confirmation prompt, click <strong>OK</strong>. The implementation is deleted.</li>
</ol>
<p>The changes are effective immediately.</p>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_add_modify_target_endpoint"></a><h3>How do I add or modify a target endpoint for an implementation?</h3>
<p>After your API is set up, you might need to change the target endpoint for a specific implementation, or add a new target endpoint. You can add or change a target endpoint at any time.</p>
<h5>To add or modify a target endpoint for an API implementation:</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click the implementation you want to modify. The summary page for the implementation is displayed.</li>
  <li>In the top section, under <strong>Pattern</strong>, click the <strong>Modify target endpoints</strong> link.</li>
  <li>On the Endpoints page, you have two options:
    <ul>
      <li>Edit an existing endpoint: click the Expand icon (...) to expand, and then click the Edit icon (pencil).</li>
      <li>Add an endpoint: click <strong>Add</strong>.</li>
    </ul>
    </li>
  <li>Set values for the following fields:
    <ul>
      <li><strong>Location</strong>: enter the full URL for the target endpoint (the actual endpoint for your API; the proxy endpoint relays traffic to the target endpoint).</li>
      <li><strong>Protocol version</strong>: Leave as <strong>Unspecified</strong>, the default, or specify <strong>HTTP 1.0</strong> or <strong>HTTP 1.1</strong>.
        <br />
  <p><strong>Note</strong>: When <strong>Unspecified</strong> is selected, the API Gateway takes the HTTP version in the request message and uses it in the downstream request message to the target endpoint. If another version is specified, the API Gateway always uses the specified version for downstream requests.</p></li>
    <li><strong>Require Content-Length Header</strong>: Check this box if the proxy endpoint should send a Content-Length header to the target endpoint, to indicate the message length.
        <br />
  <p><strong>Note</strong>: If the protocol version is HTTP 1.0, the Requires Content-Length Header field is checked by default and cannot be changed; it is required.</p></li>
</ul></li>
  <li>Click <strong>Finish</strong> to save the endpoint.</li>
  <li>Click <strong>Finish</strong> to exit from the Endpoints page.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_delete_target_endpoint"></a><h3>How do I delete a target endpoint for an implementation?</h3>
<p>You can delete a target endpoint. In case the endpoint is in use, make sure users are notified before deleting the endpoint.</p>
<h5>To delete a target endpoint for an API implementation:</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click the implementation you want to delete. The summary page for the implementation is displayed.</li>
  <li>In the top section, under <strong>Pattern</strong>, click the <strong>Modify target endpoints</strong> link.</li>
  <li>On the Endpoints page, find the endpoint you want to delete. Click the Expand icon (...) to expand, and then click the Delete icon (X).</li>
  <li>At the confirmation message, click <strong>OK</strong>.</li>
  <li>On the Endpoints page, click <strong>Finish</strong> (if you don't confirm on this page, the endpoint is not deleted).</li>
</ol>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_process_editor"></a>
<h3>How do I manage orchestration for my implementation?</h3>
<p>If your API implementation is more complex, and might include one or more services, processes, or additional steps, choose an <a href="basics_glossary.htm#gl_implementationpattern">implementation pattern</a> of Orchestration. Then, you'll be able to use all the features of the built-in Process Editor to fine-tune the orchestration of your API.</p>
<p>To access and use the Process Editor, follow the procedure below. If you need more details about the specific activities available and how you can configure them, refer to the full standalone Process Editor documentation (links below).</p>
<p>For a tutorial video showing an example of using the Process Editor, see <a href="https://www.youtube.com/watch?v=VdiYPH4YP0A" target="_blank">Add an API using orchestration</a> (external link).</p>
<h5>To access the Process Editor to manage orchestration for your implementation</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click the implementation you want to edit. The summary page for the implementation is displayed. There are several sections to the page:
    <ul>
      <li>General information about the implementation</li>
      <li>Deployment zone data</li>
      <li>Policies</li>
      <li>Certificate</li>
      <li>Resources</li>
    </ul>
    </li>
  
  <li>In the bottom section, find the resource that you want to manage the process for.</li>
  <li>In the right column, Actions, click and choose Edit Process. The Process Editor opens.</li>
  <li>Edit the process for the resource, and then click <strong>Save</strong>.  For information on using the features of the Process Editor, refer to the standalone Process Editor help: <a href="http://docs.akana.com/ag/processes/process_reference_pm8x.htm" target="_blank">http://docs.akana.com/ag/processes/process_reference_pm8x.htm</a>. For an example procedure of adding a Script activity to an operation, see <a href="http://docs.akana.com/ag/processes/getting_started_with_processes_pm8x.htm#process_editor_example" target="_blank">Getting Started Example: Adding a Script Activity</a>.</li>
</ol>
<h5>To use the Process Editor</h5>
<ul>
  <li>The Activity Palette on the left includes a selection of tools that you can use to manage orchestration.</li>
  <li>Drag and drop activities onto the grid as needed.</li>
  <li>Double-click any activity to open up the Activity Edit page, which offers additional settings and values to customize the behavior of the activity.</li>
  <li>Be sure to save any work you do in the Process Editor by clicking the disk icon on the left. Before exiting the Process Editor, save changes and make sure you see the confirmation message.</li>
  <li>To close the Process Editor and return to the Implementation page, click <strong>Finish</strong>.</li>
  <li>For detailed information about all the available features of the Process Editor, see <a href="http://docs.akana.com/ag/processes/process_reference_pm8x.htm" target="_blank">http://docs.akana.com/ag/processes/process_reference_pm8x.htm</a>.</li>
  <li>For a tutorial video showing an example of using the Process Editor, see <a href="https://www.youtube.com/watch?v=VdiYPH4YP0A" target="_blank">Add an API using orchestration</a> (external link).</li>
</ul>
<p><a href="#top">Back to top</a></p>




<div class = "divider1"></div>
<h3><a name="h_deployment_zones"></a>Managing Deployment Zones for an API:</h3>




<a name="api_dz_what_is"></a><h3>What is a deployment zone?</h3>
<p>A deployment zone is a physical location, such as a geographical area or a specific data center, that the API endpoint uses to proxy the API, if the API is hosted on the platform and is using the proxy capability.</p>
<p>One or more deployment zones are configured as part of the platform setup. When the API Admin creates the API, either from scratch or by uploading an API description document, the platform matches the API against the deployment zones that are defined. The API is deployed to all matching deployment zones.</p>
<p>For example, a deployment zone might be defined as being for live implementations only. An API sandbox implementation would not be deployed to this deployment zone.</p>
<p><a href="#top">Back to top</a></p>



<a name="api_dz_how_see"></a><h3>How do I see which deployment zones my API is deployed to?</h3>
<p>Once you've added your API, it is automatically deployed to any of the API Platform deployment zones with criteria that match your API definition.</p>
<p>The deployment zones for your API are displayed in a map-like chart, as shown below:</p>
<p><img src="assets/api_dz.jpg" alt="Deployment zones" /></p>
<p>Deployment zones are assigned to each API implementation when the implementation is created. You can then fine-tune as needed.</p>
<p><strong>Note</strong>: If a physical location hasn't been specified for the deployment zone, it shows on the map as <strong>Unknown</strong>, and the dot appears on the top left of the map.</p>
<h5><a name="proc_dz_view"></a>To view the deployment zones for a specific implementation</h5>
<ol>
  <li>Log in to the Akana API Platform.</li>
  <li>Choose the API.</li>
  <li>On the left menu, click <strong>Implementations</strong>.</li>
  <li>Click the link for the implementation you want to view.</li>
  </ol>
<p><strong>Note</strong>: If your API implementation meets the criteria for multiple deployment zones, it has a unique endpoint for each deployment zone.</p>
<p><a href="#top">Back to top</a></p>



<a name="api_dz_how_add"></a><h3>How do I add an API deployment zone?</h3>
<p>You cannot specifically add a deployment zone to an API. Deployment zones are set up by the Administrator; when you add an implementation, deployment zones are assigned automatically based on the criteria for the API and the deployment zones.</p>
<p>However, there are a couple of scenarios that allow you to make an additional deployment zone available to your API:</p>
<ul>
  <li>if you disable a deployment zone from your API implementation, you can re-enable it.</li>
  <li>If a new deployment zone becomes available on the platform, and it matches the criteria for your API, you can then add it to your API.</li>
</ul>
<p>When you create your API from an API description document, the platform automatically matches up your API definition against the existing deployment zones, and deploys the API to all deployment zones for which it matches the criteria.</p>
<p>Note that <strong><!-- #BeginLibraryItem "/library/environ_live.lbi" -->Live<!-- #EndLibraryItem --></strong> and <strong>Sandbox</strong> implementations are likely to be deployed to different deployment zones.</p>
<p><a href="#top">Back to top</a></p>



<a name="api_dz_how_many"></a><h3>How many API deployment zones can I have?</h3>
<p>An API can have many deployment zones.</p>
<p>The number of deployment zones for an API is determined by these factors:</p>
<ul>
  <li>The number of deployment zones defined on the platform.</li>
  <li>The eligibility requirements for each deployment zone; for example, a specific deployment zone might be limited to <!-- #BeginLibraryItem "/library/environ_live.lbi" -->Live<!-- #EndLibraryItem --> implementations, so an API's Sandbox implementation would not have access to it.</li>
  <li>The API definition.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<a name="api_dz_how_edit"></a><h3>How do I edit an API deployment zone?</h3>
<p>When you're adding a new implementation, or editing an implementation that was manually added or automatically generated for your API, you can fine-tune the deployment zone assignments by modifying the settings. You can:</p>
<ul>
  <li>Disable/enable one or more deployment zones from the API's implementation.</li>
  <li>Add a protocol for an existing deployment zone, if additional protocols are available for the specific deployment zone.</li>
  <li>Add a vanity hostname.</li>
  <li>Add a <a href="basics_glossary.htm#gl_contextpath">context path</a>.</li>
  <li>Set up a new protocol for the deployment zone, or modify an existing one (from available protocols)</li>
  <li>Specify whether the deployment zone is included in automatically-generated API documentation.</li>
</ul>
<p><strong>Note</strong>: By default, when the implementation is added for a specific deployment zone, a unique hostname is created; for example, <strong>api11192live.developer.acmepaymentscorp.com</strong>. Each API has a unique hostname for each valid zone it's deployed in. Your API users can use either the unique hostname generated by the platform or the vanity hostname you provide yourself.</p>
<p><img src="assets/api_designer_dzs.jpg" alt="Editing deployment zones for an API" /></p>
<h5><a name="proc_impl_dz_edit"></a>To edit an API's deployment zone assignment for a specific implementation</h5>
<ol>
  <li>Follow the steps in <a href="#proc_dz_view">To view the deployment zones for a specific implementation</a> to get to the Deployment Zones page.</li>
  <li>In the <strong>Deployments</strong> section (second section of the page), on the right, click <strong>Edit</strong>.</li>
  <li>Choose the deployment zone to edit by clicking  in the map view or choosing from the drop-down list.</li>
  <li>Choose the protocol to edit by clicking the applicable tab on the right. To add an available protocol, click <strong>+</strong> and then, in the <strong>Add Endpoint</strong> dialog, choose the protocol. Available protocols are determined by how the deployment zone is defined; if you don't have the protocol you need, ask a Site Admin or Business Admin.
    <p><strong>Note</strong>: If you want your API to support SNI, choose HTTPS and click the <strong>Use Implementation's Key/Certificate for SSL</strong> checkbox, as shown below.</p>
  <p><img src="assets/api_impl_dz_https.jpg" alt="Using HTTPS" /></p>
  </li>
  <li>Change values as needed. For help with the field definitions, see <a href="#fieldvalues_parameter_add_edit">Add Deployment Zone / Edit Deployment Zone Dialog: Field Values</a> below.</li>
  <li>Click <strong>Save</strong>.<br />
  </li>
</ol>
<p><strong>Note</strong>: If you are not using a vanity hostname, you don't need to provide a <a href="basics_glossary.htm#gl_contextpath">context path</a>; the path is already unique to the API implementation.</p>


<h5><a name="fieldvalues_parameter_add_edit"></a>Add Deployment Zone / Edit Deployment Zone Dialog: Field Values</h5>
<p>The Add Deployment Zone / Edit Deployment Zone dialog provides the following:</p>
<dl class="apidoc_dl">
  <dt>Map view</dt>
  <dd>To view information about a deployment zone, click the zone on the map.</dd>
  <dt>Zone</dt>
  <dd>Choose from the drop-down list. The list shows all deployment zones that are valid for the specific API implementation.</dd>
  <dt>Enable Zone</dt>
  <dd>Check or clear the box to enable or  disable the deployment zone.</dd>
  <dt>Protocol tabs</dt>
  <dd>To add a protocol, click the <strong>+</strong> sign and choose from additional protocols available (if any; determined by the deployment zone definition as set up by the Site Admin or Business Admin).</dd>
  <dt>Hostname</dt>
  <dd>The generated, unique hostname for the API implementation is displayed.</dd>
  <dt>Use Implementation's Key/Certificate for SSL (HTTPS only)</dt>
  <dd>Check the box if you want to use SNI to serve up the implementation's key/certificate. Requires that API Clients are SNI-compliant.</dd>
  <dd>To support SNI, you must also upload a certificate for the implementation (see <a href="#api_impl_keys_certs">How do I manage keys and certificates for my API?</a>).</dd>
  <dt>Provide Vanity Hostname</dt>
  <dd>Check the box if you want to give the implementation a vanity hostname that's easy to remember and in a different domain (for example, <strong>api.acmepaymentscorp.com</strong>) rather than the unique hostname assigned by the platform. Make sure the vanity hostname is configured in the DNS server as a CNAME to the unique hostname assigned by the platform.</dd>
  <dt>Vanity Hostname (CNAME)</dt>
  <dd>Provide the vanity hostname; for example, <strong>acmepaymentscorp.com</strong>. Make sure it is mapped to a valid CNAME in the DNS server of the domain for the vanity host.</dd>
  <dt>Context Path</dt>
  <dd>To make the URL unique, use the <a href="basics_glossary.htm#gl_contextpath">context path</a> if necessary. The generated hostname is unique to each API implementation, so if you're using the unique hostname you don't need a context path. If you're using a vanity hostname, use the path to make the URL for each API unique.</dd>
  <dt>Calculated Endpoint</dt>
  <dd>The full endpoint for the API implementation is generated based on the settings provided, and is displayed. It is a composite of values: protocol, generated URL or vanity URL, and context path. If the implementation doesn't use a vanity hostname, the calculated endpoint is composed of protocol, assigned URL, and context path if specified.</dd>
  <dt>Publish in API Documentation</dt>
  <dd>You might want to restrict use of a specific endpoint with a generated hostname, for private or internal use. To do this, clear the check box. Only URLs that have this box checked (the default) are included in the API documentation and displayed to users who are not API Admins.</dd>
</dl>
<p><a href="#top">Back to top</a></p>



<a name="api_dz_how_add_new_protocol"></a><h3>How do I add a new protocol for an API deployment zone?</h3>
<p>You can add an additional protocol supported by the deployment zone your API implementation is using.</p>
<h5>To add a new protocol to an existing deployment zone</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click the implementation you want to edit. </li>
  <li>In the middle section, click <strong>Edit</strong> to edit the deployment zone details.</li>
  <li>In the protocol section on the right,  click the <strong>+</strong> tab.</li>
  <li>At the <strong>Add Endpoints</strong> overlay, choose the protocol and click <strong>Add</strong>.
  <p><strong>Note</strong>: the list of protocols available is determined by the properties of the deployment zone that the implementation is using. Deployment zones are defined by the Site Admin or Business Admin.</p></li>
  <li>Click <strong>Save</strong>.</li>
</ol>

<p><a href="#top">Back to top</a></p>



<a name="api_dz_how_delete"></a><h3>How do I delete an API deployment zone?</h3>
<p>Deployment zones are set up by the Site Admin and are assigned to your API automatically based on the deployment zone criteria and the API definition. You cannot delete a deployment zone; however, you can disable a specific deployment zone for your API, which achieves the same result.</p>
<p>Any customization of settings is lost when you disable a deployment zone.</p>
<h5>To disable a deployment zone for an API</h5>
<ol>
  <li>Follow the steps in <a href="#proc_dz_view">To view the deployment zones for a specific implementation</a> to get to the Deployment Zones page.</li>
  <li>In the Deployments section, on the right, click <strong>Edit</strong>.</li>
  <li>Choose the deployment zone you want to disable, either by clicking in the map view or choosing from the drop-down list.</li>
  <li>Clear the <strong>Enable Zone</strong> check box.</li>
  <li>Click <strong>Save</strong>.</li>
</ol>
<p><strong>Note</strong>: If you previously disabled a deployment zone, you can re-enable it by going back in and checking the box, then editing the settings as needed.</p>
<p><a href="#top">Back to top</a></p>




<div class = "divider1"></div>
<h3><a name="h_policies"></a>Managing Policies for an API:</h3>




<a name="api_impl_policies_available"></a><h3>What types of policies are available for my API?</h3>
<p>The platform allows you to secure and monitor your APIs with policies. A selection of policies is available to apply different rules to your API.</p>
<p>There are three main policy categories:</p>
<ul>
  <li><strong>Simple Header Security</strong>&#8212;Used to identify (authenticate) the application that is attempting to consume an API to determine if it is authorized or not.&nbsp;This policy type supports multiple mechanisms for the App to present its identity, including plain text App Id, signed header with X.509 or a shared secret, or OAuth (1.0a or 2.0).</li>
  <li><strong>Monitoring</strong>&#8212;Collects transaction details including recorded messages for every transaction.</li>
  <li><strong>OAuth</strong>&#8212;Provides support for applications performing authentication and authorization using OAuth.</li>
</ul>
<p>For details, see below.</p>
<p><a href="#top">Back to top</a></p>



<a name="what_security_and_monitoring_policies_are_supported"></a><h3>What security and monitoring policies are supported?</h3>
<p>The platform offers the preconfigured policies listed below.</p>

<dl class="apidoc_dl">
  <dt>AtmosphereApplicationSecurityPolicy</dt>
  <dd>This is a default security policy for Enterprise API Platform applications. It provides support for SHA1 (Shared Secret), allowing the API to authenticate the app.</dd>
  <dd>For full documentation about this type of policy, refer to: <a href="http://docs.akana.com/ag/cm_policies/using_api_consumer_app_sec_policy.htm" target="_blank">Using the API Consumer Application Security Policy</a> (Akana docs site).</dd>
  <dd><strong>Policy Category</strong>: Simple Header Security</dd>

  <dt>BasicAuditing</dt>
  <dd>Provides basic auditing of messages. Message metrics are recorded in the Usage Logs Monitoring tab. The messages themselves are not audited. For message auditing, use the DetailedAuditing policy.</dd>
  <dd>For full documentation about this type of policy, refer to: <a href="http://docs.akana.com/ag/policies/using_the_basic_auditing_policy.htm" title="" target="_blank">Using the Basic Auditing Policy</a> (Akana docs site).</dd>
  <dd><strong>Policy Category</strong>: Monitoring</dd>

  <dt>CORSAllowAll</dt>
  <dd><a href="basics_glossary.htm#gl_cors">CORS</a> (cross-origin resource sharing) enables users to access resources from within the browser serving a web page, and defines a way in which the browser and the server can interact to determine whether or not to allow the cross-origin request.</dd>
  <dd>The CORSAllowAll policy allows all cross-origin requests.</dd>
  <dd>If you are using the platform as a proxy, you can add the CORSAllowAll policy to allow cross-origin requests to the proxy service.</dd>
  <dd>For full documentation about this type of policy, refer to: <a href="http://docs.akana.com/ag/policies/using_the_cors_policy.htm" target="_blank">Using the CORS policy</a> (Akana docs site).</dd>

  <dt>DetailedAuditing</dt>
  <dd>Provides detailed auditing of messages. Message metrics are recorded in the Usage Logs Monitoring tab as well as the entire message for each exchange.</dd>
  <dd>For full documentation about this type of policy, refer to: <a href="http://docs.akana.com/ag/policies/using_the_detailed_auditing_policy.htm" target="new">Using the Detailed Auditing Policy</a> (Akana docs site).</dd>
  <dd><strong>Policy Category</strong>: Monitoring</dd>

  <dt>OAuthSecurity</dt>
  <dd>The OAuthSecurity Policy uses the OAuth configuration assigned to an API when enforcing OAuth tokens in the received request. </dd>
  <dd><strong>Note</strong>: If you're applying this policy, remember to also specify OAuth details for the API. On the <strong>API Details</strong> page, from the drop-down on the right, click <strong>OAuth Details</strong>.</dd>
  <dd>For full documentation about this type of policy, refer to: <a href="http://docs.akana.com/ag/cm_policies/using_oauth_security_policy.htm" target="_blank">Using the OAuth Security Policy</a> (Akana docs site).</dd>
  <dd><strong>Policy Category</strong>: OAuth</dd>
</dl>

<p>For more information about policies, see <a href="api_admin_policy_list.htm">Policy List</a>.</p>
<p><strong>Note</strong>: In some cases, such as an on-premise installation, the Site Admin has the ability to create and manage additional policies. In this scenario:</p>
<ul>
  <li>If you require a policy that isn't on the default list, ask the Site Admin.</li>
  <li>If you see policies on the list that are not explained above, ask the Site Admin for information.</li>
</ul>
<p><a href="#top">Back to top</a></p>


<a name="api_impl_policies_choose"></a><h3>Which policies should I choose?</h3>
<p>Your selection of one or more policies for a specific API will be determined by the level of security required, whether monitoring is required, whether the API supports OAuth, and other factors.</p>
<p>If the API doesn't allow anonymous requests, you'll need to have the <strong>AtmosphereApplicationSecurityPolicy</strong> in place so that the API can authenticate app requests.</p>
<p>If the API allows anonymous requests, do not specify any policies.</p>
<p><strong>Note</strong>: We don't recommend accepting anonymous requests. At minimum, particularly for a <!-- #BeginLibraryItem "/library/environ_live.lbi" -->Live<!-- #EndLibraryItem --> implementation, it's best to include at least the <strong>AtmosphereApplicationSecurityPolicy</strong>.</p>
<p>If you want to have monitoring for your API, choose one of the monitoring policies also.</p>
<p>If you want your API to support OAuth, enable the OAuthSecurity policy.</p>
<p>For more information about policies, see <a href="api_admin_policy_list.htm">Policy List</a>.</p>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_policies_view_details"></a>
<h3>How can I see details about a policy?</h3>
<p>When you're adding policies to your implementation, you just see the policy title, not the details about how the policy is configured.</p>
<p>If you want to know more, you can click the title of the policy. Policy details are displayed in a pop-up window. This information is view-only; if you want any changes to the available policies, check with the Business Admin.</p>
<p>You can also review a brief description of the policy and click through for more details about each type of policy (see <a href="#what_security_and_monitoring_policies_are_supported">What security and monitoring policies are supported?</a> above).</p>
<h5>To view details for a policy</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click the link for the implementation. The summary page for the implementation is displayed.  </li>
  <li>In the Policies section, click <strong>Edit</strong>.</li>
  <li>Find the policy and click the policy icon. Policy details are displayed in a pop-up window.</li>
  <li>Change the policy assignments, if desired, or cancel out of the window.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<a name="what_is_the_minimum_policy_requirement_for_my_api"></a><h3>What is the minimum policy requirement for my API?</h3>
<p>There is no minimum policy requirement for an API. However, it's best to at minimum select the <strong>AtmosphereApplicationSecurityPolicy</strong>, which gives you basic security.</p>
<p>If you want to see charts and logs, you must also select a monitoring policy.</p>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_policies_how_assign"></a>
<h3>How do I assign policies to my API implementation?</h3>
<p>Policy assignments are specific to an API version implementation. Follow the steps below.</p>

<h5><a name="proc_impl_policy_add"></a>To assign a policy to an API implementation</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click the implementation you want to edit. The summary page for the implementation is displayed. There are several sections to the page:
    <ul>
      <li>General information about the implementation</li>
      <li>Deployment zone data</li>
      <li>Policies</li>
      <li>Certificate</li>
      <li>Resources</li>
    </ul>
  </li>
  <li>In the Policies section, click <strong>Edit</strong>.</li>
  <li>In the Available Policies section, choose the policy you want to add and click <strong>Attach</strong>.</li>
  <li>Click <strong>Save</strong>.</li>
</ol>

<h5><a name="proc_impl_policy_remove"></a>To remove a policy from an API implementation</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click the implementation you want to edit. The summary page for the implementation is displayed. There are several sections to the page:
    <ul>
      <li>General information about the implementation</li>
      <li>Deployment zone data</li>
      <li>Policies</li>
      <li>Certificate</li>
      <li>Resources</li>
    </ul>
  </li>
  <li>In the Policies section, click <strong>Edit</strong>.</li>
  <li>In the <strong>Attached Policies</strong> section, choose the policy and click <strong>Remove</strong>.</li>
  <li>Click <strong>Save</strong>.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<a name="api_impl_policies_how_view"></a><h3>How do I see which policies are assigned to my API implementation?</h3>
<p>When you assign policies to an API implementation, they're displayed in the summary view for the implementation, in the bottom section.</p>
<h5><a name="proc_impl_policy_remove"></a>To see which policies are assigned to an API implementation</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click the implementation.</li>
  <li>In the Policies section of the page, review which policies are assigned. If needed, click <strong>Edit</strong> to change the policy assignments.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<a name="how_do_i_set_up_my_api_to_support_cors"></a><h3>How do I set up my API to support CORS?</h3>
<p>If you want your API to support cross-origin resource sharing (<a href="basics_glossary.htm#gl_cors">CORS</a>), you can do that in your API implementation in the platform.</p>
<p>In your API setup, choose the implementation and then add the <strong>CorsAllowAll</strong> policy. </p>
<p>When the API definition includes this policy, the proxy endpoint will accept request messages that come from a different domain, in the context of a browser.</p>
<p><a href="#top">Back to top</a></p>




<div class = "divider1"></div>
<h3><a name="h_keys_certificates"></a>Managing Keys and Certificates for an API:</h3>




<a name="api_impl_keys_certs"></a><h3>How do I manage keys and certificates for my API?</h3>
<h5 class="stamp">API Platform Version: 8.2</h5>
<p>When you upload a private key and certificate for an API implementation, the key and certificate pair can be used for encrypting content for the API implementation through mechanisms such as:</p>
<ul>
  <li> WS-Security encryption (see the specification at: <a href="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/ws-securitypolicy-1.2-spec-os.html" target="_blank">http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/ws-securitypolicy-1.2-spec-os.html</a>)</li>
  <li>JSON Web Encryption (see <a href="http://docs.akana.com/ag/policies/using_the_jose_security_policy.htm" target="_blank">Using the JOSE Security Policy</a>)</li>
  <li>HTTPS (see <a href="#api_impl_sni">How do I set up my API to support SNI?</a>)</li>
</ul>
<p>You can manage trusted keys and certificates separately for each implementation, including uploading new certificates, uploading trusted certificates, downloading existing certificates, and assigning aliases.</p>
<p>The key is unique for each service identity (implementation).</p>
<p>The key/certificate must already be trusted. If it isn't yet trusted, ask the Policy Manager Admin to add it to the Trust Store.</p>
<p class="apidoc_note"><strong>Note</strong>: For information about setting up keys and certificates in Policy Manager, which includes the same functionality, see <a href="http://docs.akana.com/sp/key_management/key_management.htm" target="_blank">Managing Keys</a> (Akana docs site).</p>
<h5><a name="proc_impl_manage_keys_certs"></a>To manage keys and certificates for an API implementation</h5>
<ol>
  <li>Log in to the Akana API Platform and go to the overview page for your API.</li>
  <li>From the left menu bar, choose <strong>Implementations</strong>.</li>
  <li>Click the implementation.</li>
  <li>In the <strong>Certificate</strong> section of the page, click <strong>Edit</strong>.</li>
  <li>On the Keys and Certificates page, choose one of these options:
    <ul>
      <li><strong>Download</strong>: see <a href="#proc_impl_manage_keys_certs_download">To download a certificate for an implementation</a> below.</li>
      <li><strong>Upload New</strong>: see <a href="#proc_impl_manage_keys_certs_upload">To upload a new private key and certificate for an implementation</a> below.</li>
      <li><strong>Delete</strong>: to delete a certificate that's been uploaded. See <a href="#proc_impl_manage_keys_certs_delete">To delete a trusted certificate for an implementation</a> below. </li>
    </ul>
    </li>
  <li>When done, click <strong>Save</strong>.</li>
</ol>

<h5><a name="proc_impl_manage_keys_certs_upload"></a>To upload a new private key and certificate for an implementation</h5>
<p>Go to the Keys and Certificates for your implementation (see <a href="#proc_impl_manage_keys_certs">To manage keys and certificates for an API implementation</a> above).</p>
<ol>
  <li>Click <strong>Upload New</strong>.</li>
  <li>Browse for the file, such as a JKS file.</li>
  <li>Enter keystore password, key alias, and key password.</li>
  <li>Click <strong>Finish</strong>. The certificate details are displayed in the Keys and Certificates page.</li>
  <li>Click <strong>Go back to Implementation Details</strong>. The new certificate details are displayed on the Implementation Details page. An example is shown below.
    <p><img src="assets/api_impl_cert.jpg" alt="Certificate details for an implementation" /></p></li>
</ol>

<h5><a name="proc_impl_manage_keys_certs_download"></a>To download a certificate for an implementation</h5>
<ol>
  <li>Go to the Keys and Certificates for your implementation (see <a href="#proc_impl_manage_keys_certs">To manage keys and certificates for an API implementation</a> above). The existing certificate is displayed. An example is shown below.
  <p><img src="assets/api_impl_keys_certs.jpg" alt="Keys and  Certificates page" /></p>
  </li>
  <li>Click <strong>Download</strong>.</li>
  <li>Choose to open or save the certificate file.</li>
</ol>

<h5><a name="proc_impl_manage_keys_certs_delete"></a>To delete a trusted certificate for an implementation</h5>
<ol>
  <li>Go to the Keys and Certificates for your implementation (see <a href="#proc_impl_manage_keys_certs">To manage keys and certificates for an API implementation</a> above).</li>
  <li>Click <strong>Delete</strong>.</li>
  <li>At the prompt, click <strong>OK</strong> to confirm the deletion.</li>
</ol>

<p><a href="#top">Back to top</a></p>



<a name="api_impl_sni"></a><h3>How do I set up my API to support SNI?</h3>
<h5 class="stamp">API Platform Version: 8.2</h5>
<p>The API platform's support of <a href="basics_glossary.htm#gl_sni">SNI</a> means that multiple keys/certificates can be used for one HTTPS endpoint. You can have individual identity keys/certificates per API implementation. Each implementation can use its own key/certificate for its own clients.</p>
<p>The deployment zone must support HTTPS, and you must have two things in place in your API implementation:</p>
<ul>
  <li>There must be a certificate in place for the implementation. This is set up on the API Implementation page, in the Certificates section. See <a href="#proc_impl_manage_keys_certs_upload">To upload a new private key and certificate for an implementation</a>.</li>
  <li>The API implementation must have the <strong>Use Implementation's Key/Certificate for SSL</strong> option checked in the HTTPS tab for the deployment. See <a href="#proc_impl_dz_edit">To edit an API's deployment zone assignment for a specific implementation</a>.</li>
</ul>
<p>The platform uses the appropriate certificate based on the requested hostname.</p>
<p><a href="#top">Back to top</a></p>



<div class = "divider1"></div>



<h3 id="relatedtopics">Related Topics</h3>
<table width="700" border="0" cellspacing="0" cellpadding="2" class="doctable">
  <tr>
    <td width="300"><ul>
  <li><a href="apiadmin_.htm">API Administration Summary Page</a></li>
  <li><a href="apiadmin_getting_started.htm">Getting Started for API Developers</a></li>
  <li><a href="basics_glossary.htm">Glossary of Terms</a></li>

    </ul>
</td>
    <td width="400"><ul>
  <li><a href="apiadmin_overview.htm">API Administration: Overview</a></li>
  <li><a href="apiadmin_api_add.htm">Adding an API</a></li>
  <li><a href="apiadmin_api_design.htm">Add or Modify an API Using API Designer</a></li>
<!--  <li><a href="apiadmin_impls.htm">Manage API Implementations</a></li>-->
  <li><a href="api_admin_testing_tc.htm">API Testing with Test Client</a></li>
    </ul>
</td>
  </tr>
</table>
<hr />
