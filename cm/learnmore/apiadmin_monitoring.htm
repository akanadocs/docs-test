---
layout: page
title: API Analytics | API Admin | Akana API Platform Help
description: Use platform analytics to monitor your API's performance.
product: cm
category: learn
sub-nav-class: API Analytics
weight: 2636
type: page
nav-title: API Analytics
---
<h1 id="top">Monitoring API Analytics </h1>
<p>Use analytics to monitor your API's performance.</p>
<p>Analytics information is available:</p>
<ul>
	<li>For APIs via<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong>.</li>
	<li>For apps via<!-- #BeginLibraryItem "/Library/hdr_myapps_nav_all.lbi" -->&#160;<strong>Apps</strong> &gt; <strong>My Apps</strong> &gt; choose app &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong>.</li>
</ul>
<p>The information on the Analytics pages is very similar for both apps and APIs, but there are some differences. For example, certain information is only available in the API charts.</p>
<p><strong>Video content</strong>: <a href="https://rogue-wave-software.wistia.com/medias/2ntz41n386" title="Learn how to use Akana to monitor your APIs for performance, availability, and proper function." target="_blank">Learn how to use Akana to monitor your APIs for performance, availability, and proper function.</a></p>
<p><strong>Note</strong>: You can also create a high-level view of your favorite APIs using the My Dashboard feature. See <a href="apiadmin_mydashboard.htm">Monitoring APIs with the My Dashboard Feature</a>.</p>
<hr class="divide_hr" />


<h2 style="color: gray;">Table of Contents</h2>
<ol class="table_of_contents">
	<li><a href="#analytics_api_options">What API analytics information is available?</a></li>
	<li><a href="#analytics_api_overview">How can I see an overview of my API's performance?</a>
		<ul>
			<li><a href="#analytics_api_overview_dials">API Analytics Overview dials</a></li>
			</ul>
		</li>
	<li><a href="#analytics_api_charts">What information can I see on the API Charts page?</a>
		<ul>
			<li><a href="#api_charts_dataset">API Charts: Data set</a></li>
			<li><a href="#api_charts_types">API Charts: Types</a></li>
			<li><a href="#api_charts_filters">API Charts: Filters</a></li>
			<li><a href="#api_charts_zoom">API Charts: Using Zoom</a></li>
			<li><a href="#api_charts_export">Exporting API charts</a></li>
			<li><a href="#api_charts_logs">Viewing logs on the Charts page</a></li>
			</ul>
		</li>
	<li><a href="#analytics_api_logs">What information can I see on the API Logs page?</a>
		<ul>
			<li><a href="#api_logs_view_summary">Viewing the logs summary</a></li>
			<li><a href="#api_logs_use_filters">Using filters on the logs list</a></li>
			<li><a href="#api_logs_view_details">View details</a></li>
			<li><a href="#api_logs_export">Exporting API logs</a></li>
			<li><a href="#api_logs_http_status">Specifying HTTP status in the logs</a></li>
			<li><a href="#api_custom_date_range">Specifying a custom date range</a></li>
			<li><a href="#api_logs_ttfb">Viewing the time to first byte (TTFB) metrics</a> (2020.1.0 and later)</li>
		</ul>
		</li>
	<li><a href="#analytics_api_licenses">What information can I see on the API Licenses page?</a></li>
	<li><a href="#analytics_api_roles">Who can see my API's performance metrics?</a></li>
	<li><a href="#api_monitoring_by_contract_howto">How do I monitor my API's performance for a specific app/API contract?</a></li>
	<li><a href="#api_analytics_missing">Why is some of my analytics information missing?</a></li>
</ol>
<hr class="divide_hr" />




<h2 id="analytics_api_options">What API analytics information is available?</h2>
<p>The platform includes a number of charts and logs to help you monitor your API's performance from different views. Chart data can be used to monitor API usage over time or to troubleshoot errors with API operation. Usage logs that include request and response message data for API, App, and Contract activity can be queried and viewed.</p>
<p><strong>Note</strong>: To gather detailed analytics info, you'll need to make sure the Detailed Auditing policy is attached to the API. See <a href="#api_analytics_missing">Why is some of my analytics information missing?</a></p>
<p>Go to:<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong>.</p>
<p>The options available are summarized in the table below.</p>
<table class="doctable">
	<thead>
	<tr>
		<th>This option...</th>
		<th>Shows this information...</th>
	</tr>
</thead>
<tbody>
	<tr>
		<td>Overview</td>
		<td><p>Charts:</p>
			<ul>
				<li>Throughput</li>
				<li>Average <a href="basics_glossary.htm#gl_latency">Latency</a></li>
				<li>Fault</li>
				</ul>
			<p>Additional charts available for APIs only:</p>
			<ul>
				<li>Geographical Distribution (of API usage for the past week)</li>
				<li>Usage by App</li>
				<li>Usage by Operation</li>
				<li>Top Contributors: shows which users contributed most to the API forum: submissions and comments.</li>
			</ul>
			<p>For more information, see <a href="#analytics_api_overview">How can I see an overview of my API's performance?</a></p></td>
	</tr>
	<tr>
		<td>Charts</td>
		<td>Performance charts. See <a href="#analytics_api_charts">What information can I see on the API Charts page?</a></td>
	</tr>
	<tr>
		<td>Logs</td>
		<td>Transaction logs. See <a href="#analytics_api_logs">What information can I see on the API Logs page?</a></td>
	</tr>
	<tr>
		<td>Licenses</td>
		<td><p>Charts for licenses:</p>
			<ul>
				<li>API Usage by License</li>
				<li>API Usage by App</li>
				<li>API Quota Usage</li></ul>
			<p>For more information, see <a href="#analytics_api_licenses">What information can I see on the API Licenses page?</a></p></td>
	</tr>
</tbody>
</table>
<p><a href="#top">Back to top</a></p>




<h2 id="analytics_api_overview">How can I see an overview of my API's performance?</h2>
<p>The API Analytics Overview page presents a summary view of your API's performance.</p>
<p>Go to:<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Overview</strong>.</p>
<p>An example is shown below. The main sections are:</p>
<ol>
	<li>The visual dials at the top of the page summarize activity. See <a href="#analytics_api_overview_dials">API Analytics Overview dials</a>.</li>
	<li>The next section shows the <strong>Usage by App</strong> breakdown, as a pie chart.</li>
	<li>Additional charts, depending on the data set: for example, the <strong>Usage by Operation</strong> pie chart, shown below.</li>
</ol>
<p><img src="assets/analytics_api_overview_01.png" alt="API Analytics Overview page" /></p>
<p>Additional charts available for APIs only:</p>
<ul>
	<li>Geographical Distribution (of API usage for the past week)</li>
	<li>Usage by App</li>
	<li>Usage by Operation (shown below)</li>
	<li>Top Contributors: shows which users contributed most to the API forum: submissions and comments.</li>
</ul>
<p><strong>Usage by Operation chart:</strong></p>
<p><strong>Note</strong>: This chart is only available in API Analytics. The App Analytics section does not include Usage by Operation.</p>
<p><img src="assets/analytics_api_overview_02.png" alt="API Analytics Overview page: Usage by Operation chart" /></p>
<p>Top Contributors chart:</p>
<p><img src="assets/analytics_api_overview_topcontrib.png" alt="API Analytics Overview page: Top Contributors chart" /></p>


<h3 id="analytics_api_overview_dials">API Analytics Overview dials</h3>
<p>The API Analytics Overview section includes a set of barometer-style dials to give you an overview of your API's throughput, <a href="basics_glossary.htm#gl_latency">latency</a>, and success rate.</p>
<p>You can narrow down the data by the following:</p>
<ul>
	<li>Implementation: Sandbox or <!-- #BeginLibraryItem "/Library/environ_live.lbi" -->Live<!-- #EndLibraryItem --></li>
	<li>Interval: 1 Sec or 1 Min</li>
</ul>
<p>An example is shown below.</p>
<p><img src="assets/analytics_api_overview_dashboard.png" alt="API Analytics Dashboard" /></p>
<p>The API Analytics Overview dials give a summarized data representation of the following:</p>
<ul>
	<li><strong>Throughput (tps):</strong> Summarizes maximum throughput per second over the last 24 hours, and the total number of requests.</li>
	<li><strong>Average Latency:</strong> Provides low and high message <a href="basics_glossary.htm#gl_latency">latency</a> values, in milliseconds.</li>
	<li><strong>Fault (fps):</strong> Summarizes the number of fault messages per second in the specified period.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<h2 id="analytics_api_charts">What information can I see on the API Charts page?</h2>
<p> You can use performance charts to monitor API usage over time or to troubleshoot errors.</p>
<p>The Charts page allows you to set criteria and view activity on three charts. You can also query usage and performance data in the Logs section on the same page. For more information about the logs, which you can also see on a separate page, see <a href="#analytics_api_logs">What information can I see on the API Logs page?</a></p>
<p>Go to:<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Charts</strong>.</p>
<p>In this section:</p>
		<ul>
			<li><a href="#api_charts_dataset">API Charts: Data set</a></li>
			<li><a href="#api_charts_types">API Charts: Types</a></li>
			<li><a href="#api_charts_filters">API Charts: Filters</a></li>
			<li><a href="#api_charts_zoom">API Charts: Using Zoom</a></li>
			<li><a href="#api_charts_export">Exporting API charts</a></li>
			<li><a href="#api_charts_logs">Viewing logs on the Charts page</a></li>
	</ul>


<h3 id="api_charts_dataset">API Charts: Data set</h3>
<p>You define the data set represented in the chart by using the filters as needed to specify implementation, app, duration, and time range, as covered in <a href="#api_charts_filters">API Charts: Filters</a> below.</p>
<p>However, charts are populated from usage &quot;roll-up&quot; data that is gathered during message processing. The platform matches the roll-up data sets that most closely match the values specified. For example, if the current time is 17:35 and you choose a duration of&#160;1 day and an interval of 15 mins, the chart shows data from 18:00 the previous day to 18:00 on the current day.</p>


<h3 id="api_charts_types">API Charts: Types</h3>
<p>A sample chart is shown below.</p>
<p><img src="assets/analytics_api_charts_01.png" alt="API Analytics: Charts" /></p>
<p>There are three charts. Hover over any data point in any of the charts to view detail including Date, Time, Average Response, max Response, Min Response, Success Count, Throughput, and Fault Count. All chart data is in milliseconds (ms).</p>
<table class="doctable">
	<thead>
		<tr>
			<th>Chart</th>
			<th>Description</th>
			<th>Example</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Latency</td>
			<td><p>Summarizes <a href="basics_glossary.htm#gl_latency">latency</a> as a line over the time period.</p>
				<p>Drag and drop using the mouse to zoom or move on the chart.</p></td>
			<td><p><img src="assets/analytics_app_charts_02_latency.png" alt="Latency Chart: Detail" /></p></td>
		</tr>
		<tr>
			<td>Fault</td>
			<td><p>Shows fault messages.</p>
				<p>Drag and drop using the mouse to zoom or move on the chart.</p></td>
			<td><img src="assets/analytics_app_charts_02_fault.png" alt="Fault Chart: Detail" /></td>
		</tr>
		<tr>
			<td>Success</td>
			<td><p>Shows success messages.</p>
				<p>Drag and drop using the mouse to zoom or move on the chart.</p></td>
			<td><img src="assets/analytics_app_charts_02_success.png" alt="Success Chart: Detail" /></td>
		</tr>
	</tbody>
</table>


<h3 id="api_charts_filters">API Charts: Filters</h3>
<p>On the <strong>Analytics</strong> &gt; <strong>Charts</strong> page, you can filter by:</p>
<ul>
	<li>Implementation (Live or Sandbox)</li>
	<li>All apps or a specific app that is contracted with the API.</li>
	<li><a href="basics_glossary.htm#gl_monitoring_duration">Duration</a>. Controls the time period to be shown on the chart. You can choose to show the last: 5 Minutes, 15 Minutes, 1 Hour, 1 Day, 1 Week, 1 Year.</li>
	<li><a href="basics_glossary.htm#gl_monitoring_interval">Interval</a>: The time interval determining the data points on the chart. Options adjust based on the value for Duration. For example, if Duration is 5 minutes, Interval is 5 sec. If Duration is 1 year, Interval is 1 week.</li>
</ul>
<p>Chart data is presented based on the selected Duration and Interval, which together represents the total time range displayed.</p>


<h3 id="api_charts_zoom">API Charts: Using Zoom</h3>
<p>When you've defined the data set you want to view, using the filters, there are a couple of other ways you can narrow down the information you need:</p>
<ul>
	<li><a href="#charts_zoom">Zoom feature</a></li>
	<li><a href="#charts_zoom_mouse">Zooming with the mouse</a></li>
	<li><a href="#charts_refresh">Refresh</a></li>
</ul>
<h4 id="charts_zoom">Zoom feature</h4>
<p>The zoom feature is below the filters. An example is shown below.</p>
<p><img src="assets/analytics_api_charts_zoom.png" alt="Charts: Zoom feature" /></p>
<p>Here, you can narrow down the data set that's shown in the chart.</p>
<p>Time increments on the Zoom feature work together with the Duration setting. For example, if Duration is 1 Hour, the Zoom increments are All, 5m, 15m, and 30m, as shown above. If Duration is 1 Day, zoom increments are All, 1h, 3h, 6h, 12h.</p>

<h4 id="charts_zoom_mouse">Zooming with the mouse</h4>
<p>You can zoom with the mouse on a specific area of data in the chart, to examine it more closely.</p>
<p>Place the mouse on one side of the area, then drag to the other side and let go of the mouse, as shown below. The area you defined is enlarged on the chart.</p>
<table class="doctable">
	<tbody>
		<tr>
			<td>Steps 1 and 2: Click on one side, then drag to the other side.</td>
			<td>1) <img src="assets/analytics_api_charts_zoom_mouse_01.png" alt="Charts: Zoom feature" />  <img src="assets/analytics_api_charts_zoom_mouse_02.png" alt="Charts: Zoom feature" /></td>
		</tr>
		<tr>
			<td>Step 3: Release to enlarge</td>
			<td><img src="assets/analytics_api_charts_zoom_mouse_03.png" alt="Charts: Zoom feature" /></td>
		</tr>
	</tbody>
</table>

<h4 id="charts_refresh">Refresh</h4>
<p>After zooming in, click the Refresh icon at the top left to:</p>
<ul>
	<li>Reset the zoom settings on the chart. Filter settings are preserved.</li>
	<li>Refresh the chart data, based on the selected Duration and Interval, which together represent the total time range displayed.</li>
</ul>


<h3 id="api_charts_export">Exporting API charts</h3>
<p>As well as viewing charts, you can export usage data to a .csv file.</p>
<p>Click the <strong>Export</strong> button at the top right, and choose the file location. The file is named <strong>export.csv</strong>.</p>
<h4>To export charts</h4>
<ol>
	<li>Go to<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Charts</strong>. </li>
	<li>Set the filters as needed to define the data set that you want. </li>
	<li>On the right, click <strong>Expo</strong><strong>rt</strong>. The <strong>Opening export.csv</strong> dialog box displays.</li>
	<li>Choose whether to open or save the file:
		<ul>
			<li>To open, choose Excel or specify another program, and then click <strong>OK</strong>.</li>
			<li>To save, click <strong>OK</strong> and specify the download location.</li>
		</ul>
	</li>
</ol>
<p><strong>Note</strong>: You can also export logs. See below and <a href="#api_logs_export">Exporting API logs</a>.</p>


<h3 id="api_charts_logs">Viewing logs on the Charts page</h3>
<p>From the Charts page, after setting criteria and/or using the Zoom feature, click <strong>Get Logs</strong> to view the logs.</p>
<p>Notes:</p>
<ul>
	<li>When you change the criteria, the chart refreshes immediately, but the logs do not. After changing criteria, click Get Logs to refresh the logs list.</li>
	<li>By default, the logs represent information to the end of the specified <a href="basics_glossary.htm#gl_monitoring_interval">interval</a>. In the example below, the interval is 15 min, so the logs include data to the end of the specified 15-minute period.</li>
</ul>
<p><img src="assets/analytics_api_charts_logs.png" alt="Charts: Viewing logs from the Charts page" /></p>
<p><a href="#top">Back to top</a></p>



<h2 id="analytics_api_logs">What information can I see on the API Logs page?</h2>
<p>You can use the Logs page to review details of your API messages. There is a log entry for each message, summarizing message detail such as HTTP verb, resource, app, and message time stamp.</p>
<p>Go to:<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Logs</strong>.</p>
<p>You can:</p>
<ul>
	<li>View the logs: see <a href="#api_logs_view_summary">Viewing the logs summary</a></li>
	<li>Filter the list: see <a href="#api_logs_use_filters">Using filters on the logs list</a></li>
	<li>View details of a specific transaction: see <a href="#api_logs_view_details">View details</a></li>
	<li>Export the logs: see <a href="#api_logs_export">Exporting API logs</a></li>
</ul>


<h3 id="api_logs_view_summary">Viewing the logs summary</h3>
<p>Logs are displayed in a table format, as shown below. Filters and other controls are above the list.</p>
<p><img src="assets/analytics_api_logs_01.png" alt="API Analytics Logs page" /></p>


<h3 id="api_logs_use_filters">Using filters on the logs list</h3>
<p>You can filter by:</p>
<ul>
	<li>Implementation (Live or Sandbox)</li>
	<li>Specifying how much data is shown: the last 1 hour, 1 day, 1 week, 1 month, 1 year, or a custom from/to range in HH:MM:SS values. For details, see <a href="#api_custom_date_range">Specifying a custom date range</a>.</li>
	<li>All apps or a specific app.</li>
	<li>All resources or a specific resource (operation, method) that is part of the API.</li>
	<li>HTTP status: Select one, multi-select, or specify Success or Failure. For a full list, see <a href="#api_logs_http_status">Specifying HTTP status in the logs</a>.</li>
	<li>Response time, in milliseconds. Specify less than, greater than, or a range.</li>
</ul>


<h3 id="api_logs_view_details">Viewing details</h3>
<p>Click the arrow to the left of a log entry to view the transaction detail, as shown below.</p>
<p><strong>Note</strong>: the example below does not show TTFB metrics. See <a href="#api_logs_ttfb">Viewing the time to first byte (TTFB) metrics</a>.</p>
<p><img src="assets/analytics_api_logs_detail.png" alt="API Analytics Logs: viewing details of a log entry" /></p>
<p>Specific details vary according to the message; for example, whether it is a POST or a GET. You can:</p>
<ul>
	<li>Click on any of the magnifying glass icons to view details:
		<p><img src="assets/analytics_api_logs_detail_more.png" alt="API Analytics Logs: viewing debug details" /></p>
	</li>
	<li>Click <strong>Info</strong>, <strong>Body</strong>, and <strong>Headers</strong> tabs for more information. The example below shows the <strong>Headers</strong> tab. You might also see a Next Hop tab. See <a href="#ttfb_04">Additional information on the Next Hops tab</a>.
<p><img src="assets/analytics_api_logs_detail_headers.png" alt="API Analytics Logs: viewing headers" /></p>
	</li>
</ul>
<h3 id="api_logs_export">Exporting API logs</h3>
<p>As well as viewing logs, you can export usage data to a .csv file.</p>
<p>Click the <strong>Export</strong> button at the top right, and choose the file location. The file is named <strong>apilogs.csv</strong>.</p>
<p><strong>Note</strong>: The export file is limited to a maximum of 10,000 records.</p>
<h4>To export logs</h4>
<ol>
	<li>Go to<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Logs</strong>. </li>
	<li>If applicable, change the default settings to narrow down the information you want to export. You can modify <strong>Implementation</strong>, <strong>Duration</strong>, and <strong>All Apps/specific app</strong>, as shown below.
		<p><img src="assets/monitoring_logs_settings.jpg" alt="API monitoring logs, settings" /></p>
	</li>
	<li>On the right, click <strong>Expo</strong><strong>rt</strong>. The <strong>Opening apilogs.csv</strong> dialog box displays.</li>
	<li>Choose whether to open or save the file:
		<ul>
			<li>To open, choose Excel or specify another program, and then click <strong>OK</strong>.</li>
			<li>To save, click <strong>OK</strong> and specify the download location.</li>
		</ul>
	</li>
</ol>
<p><strong>Note</strong>: You can also export chart info. Go to<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Charts</strong>, specify criteria, and click <strong>Export</strong>.</p>


<h3 id="api_logs_http_status">Specifying HTTP status in the logs</h3>
<p>You can filter the logs by specific HTTP status values. Check all the boxes that apply.</p>
<p>You can choose:</p>
<ul>
	<li>One or more HTTP codes out of the 200 series, 300 series, 400 series, or 500 series.</li>
	<li>Success (selects all 200-series HTTP codes) or Failure (selects all 400-series and 500-series HTTP codes).</li>
</ul>
<p><a href="#top">Back to top</a></p>


<h3 id="api_custom_date_range">Specifying a custom date range</h3>
<p>If you have a lot of transactions, you can use the <strong>Custom</strong> date range option to narrow down the time period. Custom date range includes hours, minutes, and seconds, so you can narrow down your logs or license charts to a range of seconds, to help you zero in on specific transactions.</p>
<p><strong>Note</strong>: If you use the <strong>Custom</strong> date range, the platform uses the time values from your local browser settings, converted to <a href="basics_glossary.htm#gl_coordinateduniversaltime">UTC</a> time.</p>

<h4>To specify a custom date range</h4>
<ol>
	<li>Go to<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Logs</strong> or<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Licenses</strong>.</li>
	<li>Choose the environment.</li>
	<li>Click the Interval drop-down and choose <strong>Custom</strong>.</li>
	<li>Define start and end date/time, as shown below.
	<p><img src="assets/analytics_api_logs_datepicker.png" alt="date picker with custom date range" /></p></li>
	<li>Adjust the date range as needed until you have the transaction range you need. The list updates immediately.</li>
</ol>
<p><a href="#top">Back to top</a></p>


<h3 id="api_logs_ttfb">Viewing the time to first byte (TTFB) metrics</h3>
<h4 class="stamp">Valid in Version: 2020.1.0 and later</h4>
<p>In the <strong>Analytics</strong> &gt; <strong>Logs</strong> page, you can view detailed information about the <a href="basics_glossary.htm#gl_ttfb">TTFB</a>.</p>
<p>In this section:</p>
<ul>
	<li><a href="#ttfb_01">TTFB metrics</a></li>
	<li><a href="#ttfb_02">Viewing the TTFB for a single proxied API call</a></li>
	<li><a href="#ttfb_03">Viewing the TTFB for an orchestrated call</a></li>
	<li><a href="#ttfb_04">Additional information on the Next Hops tab</a></li>
<li><a href="#ttfb_05">Message Properties</a></li>
</ul>

<h4 id="ttfb_01">TTFB metrics</h4>
<p>The metric breakdown for TTFB shows how long each hop takes. Rather than just showing the time from when the message is sent to when the response is received, the time is broken down into stages. TTFB metrics include the values listed below.</p>
<dl>
	<dt id="metrics_request_processing">Request Processing</dt>
	<dd>The time from when the Gateway receives the request to when the Gateway initiates the request to the next-hop service.</dd>
	<dd>During this time, the Gateway might be performing multiple activities: for example, retrieving public keys or certificates, validating OAuth tokens.</dd>


	<dt id="metrics_ttfb">Next Hop Response (TTFB)</dt>
	<dd>The time from when the Gateway sends the request to when the first byte of response is received. Includes request write time and time taken by the next-hop service.</dd>


	<dt id="metrics_response_processing">Response Processing</dt>
	<dd>The time from when the Gateway receives the response from the next-hop service to when the Gateway initiates writing the response (writes the first byte back to the client).</dd>


	<dt id="metrics_response_sent">Response Sent</dt>
	<dd>The time the Gateway takes to write the complete response to the client.</dd>


</dl>

<h4 id="ttfb_02">Viewing the TTFB for a single proxied API call</h4>
<p>When you click the arrow to the left of a log entry to view the transaction detail, you can view all the metrics for the API call.</p>
<p>The first few metrics are a breakdown of TTFB, with bars illustrating the various steps, as shown below.</p>
<p><img src="assets/analytics_api_logs_ttfb_oneapi.png" alt="API metrics, TTFB -- example with one proxied API" /></p>
<p>For information on additional message properties, see <a href="#ttfb_05">Message properties</a>.</p>

<h4 id="ttfb_03">Viewing the TTFB for an orchestrated call</h4>
<p>If your API uses <a href="basics_glossary.htm#gl_orchestration">orchestration</a>, where preparing the response to one API call includes separate calls to more than one API, you can see the times for each hop in the API metrics.</p>
<p>In the example below,&#160;it's clear that the first hop takes a lot longer than the second. This information can be useful in debugging a more complex scenario.</p>
<p><img src="assets/analytics_api_logs_ttfb_orchestration.png" alt="API metrics, TTFB -- example with orchestration" /></p>

<h4 id="ttfb_04">Additional information on the Next Hops tab</h4>
<p>If a message represents a call to an API operation that uses <a href="basics_glossary.htm#gl_orchestration">orchestration</a>, there can be multiple hops. In this case, an additional tab, <strong>Next Hops</strong>, is available to give you an information breakdown for each hop, as shown below. This example is an orchestration, with two calls, so there are two sets of metrics.</p>
<p><img src="assets/analytics_api_logs_ttfb_nexthops.png" alt="API metrics, TTFB -- Next Hops tab" /></p>
<p>For each next-hop step, the tab displays the HTTP verb, URL, status, request header size, response header size, and next-hop response time (TTFB).</p>

<h4 id="ttfb_05">Message Properties</h4>
<p>An example of the response properties is shown below, with field descriptions.</p>
<p><img src="assets/analytics_api_logs_ttfb_message_properties.png" alt="API metrics, TTFB -- Message properties" /></p>
<dl>
	<dt>Version Name</dt>
	<dd>The API version.</dd>


	<dt>Method Name</dt>
	<dd>The name of the API method (operation) being called.</dd>


	<dt>Client Host</dt>
	<dd>IP address for the client host.</dd>


	<dt>Request Date</dt>
	<dd>Timestamp for the request.</dd>


	<dt>Response Status Code</dt>
	<dd>HTTP status code for the response.</dd>


	<dt>Request Read Time</dt>
	<dd>The time taken by Gateway to read the request from the client.</dd>


	<dt>Exchange Processing Time</dt>
	<dd>The total time that the Gateway took to process the message: processing time for the inbound message (<a href="#metrics_request_processing">Request Processing</a> time) plus processing time for the outbound message (<a href="#metrics_response_processing">Response Processing</a> time). It is the total time that the message spent in the Gateway.</dd>


	<dt>Response Time</dt>
	<dd>The total time taken for the entire API call, from the receipt of the request until the sending of the last byte of the response.</dd>


	<dt>Request Message Size</dt>
	<dd>Size of the request message.</dd>


	<dt>Response Message Size</dt>
	<dd>Size of the response message.</dd>


	<dt>API URL</dt>
	<dd>The endpoint for the API.</dd>


</dl>
<p><a href="#top">Back to top</a></p>



<h2 id="analytics_api_licenses">What information can I see on the API Licenses page?</h2>
<p>If your API is using the Licenses feature, you might want to monitor the API's performance for each license.</p>
<p>Go to:<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Licenses</strong>.</p>
<p>The platform includes a set of monitoring tools, including pie charts and bar charts, to help you monitor by license.</p>
<p>Three choices are available:</p>
<ul>
	<li>API Usage by License</li>
	<li>API Usage by App</li>
	<li>API Quota Usage</li>
</ul>
<p>From the API <strong>Details</strong> page, click <strong>Analytics</strong> on the left menu, and then click <strong>Licenses</strong>.</p>
<p>There are certain prerequisites that must be in place for monitoring information to be displayed correctly. Make sure:</p>
<ul>
	<li>Your API is using the Licenses feature.</li>
	<li>Your licenses include a quota policy.</li>
	<li>Your time zone is set correctly in the configuration settings for the underlying infrastructure (configuration settings, com.soa.rollup.configuration, monitoring.rollup.configuration.dailyRollupTimeZones setting). The time zone setting affects the way the data is rolled up into increments such as hour and day. If the settings are not correct, ask your Site Admin to adjust the time zone.</li>
</ul>
<p>The options available are summarized in the table below.</p>
<table class="doctable">
	<thead>
		<tr>
			<th>This option...</th>
			<th>Shows this information...</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>API Usage by License</td>
			<td><p>Pie charts that breaks down the total traffic to the API by license. This shows which license is using which portion of the API, out of the total traffic. Pie charts show the breakdown for the following metrics:</p>
				<ul>
					<li>Usage count (total number of messages)</li>
					<li>Request message size</li>
					<li>Response message size</li>
				</ul>
				<p>By default, three charts are generated for each license.</p></td>
		</tr>
		<tr>
			<td>API Usage by App</td>
			<td><p>Bar charts that break down the total traffic to the API by app. This shows metrics for the app's usage of the API, including:</p>
				<ul>
					<li>Usage count (total number of messages)</li>
					<li>Average response time (in milliseconds)</li>
					<li>Response message size</li>
				</ul>
				<p>By default, three charts are generated for each app.</p></td>
		</tr>
		<tr>
			<td>API Quota Usage</td>
			<td>Only valid if a quota policy is attached to a license the API is using. This chart shows app consumption of the API as a bar chart, with each time slot being a bar, and additionally displays the quota threshold as a line across the chart. If the app exceeds the consumption defined by the quota, the bar is shown in red; if the app consumption is within quota, the bar is blue.</td>
		</tr>
	</tbody>
</table>


<h4 id="monitoring_by_license_graph_controls">Analytics by License: Graph Controls</h4>
<p>When you choose <strong>Analytics</strong> &gt; <strong>Licenses</strong>, you can adjust the chart settings so that you see the exact information you need. Settings and their values are shown below.</p>
<table class="doctable">
	<thead>
		<tr>
			<th>Setting</th>
			<th>Values/Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>

			<td>Implementation</td>
			<td>Sandbox or <!-- #BeginLibraryItem "/Library/environ_live.lbi" -->Live<!-- #EndLibraryItem --></td>
		</tr>
		<tr>
			<td>Report period</td>
			<td><p>A drop-down menu that allows you to select the time period to be shown in the chart. When you select a new duration, the Performance Chart data is automatically refreshed. Choices:</p>
				<ul>
					<li>1 hour</li>
					<li>1 day</li>
					<li>1 week</li>
					<li>1 month</li>
					<li>1 year</li>
					<li> Custom (specify From/To for the custom time period, down to hours, minutes, and seconds)</li>
				</ul></td>
		</tr>
		<tr>
			<td>Apps</td>
			<td>Defaults to All Apps, but you can choose a specific app.</td>
		</tr>
		<tr>
			<td>Licenses</td>
			<td>Defaults to All Licenses, but you can choose a specific license.</td>
		</tr>
		<tr>
			<td>Graphs</td>
			<td><p>Options:</p>
				<ul>
					<li>All Graphs</li>
					<li>API Usage by License</li>
					<li>API Usage by App</li>
					<li>API Quota Usage</li>
				</ul>
			</td>
		</tr>
	</tbody>
</table>

<h4 id="proc_api_monitor_license">To monitor API performance for a specific license</h4>
<ol><li>Go to<!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Licenses</strong>.</li>
	<li>Choose values as needed. For details on the options available, refer to <a href="#monitoring_by_license_graph_controls">Analytics by License: Graph Controls</a> above.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<h2 id="analytics_api_roles">Who can see my API's performance metrics?</h2>
<p>To see an API's performance metrics, a user must have one of the following permissions:</p>
<ul>
	<li><strong>API Admin</strong>&#8212;Either the user who created the API, or a user who has been invited to join the API Admin team and has accepted the invitation.</li>
	<li><strong>Business Admin</strong></li>
	<li><strong>Monitor</strong>&#8212;A user who is not an API Admin, but has been assigned Monitor permission, can monitor the API metrics but cannot perform other activities that the API Admin can do, such as modify the API.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<h2 id="api_monitoring_by_contract_howto">How do I monitor my API's performance for a specific app/API contract?</h2>
<p>You can view monitoring charts and logs for any specific contract your API has with an app, as long as monitoring is turned on for your API.</p>
<p class="apidoc_note"><strong>Note</strong>: If the specified time period includes a point where the contract was revised, or suspended and resumed, or the contract was cancelled and a new one created, the chart or graph shows <strong>all</strong> transaction info between the app and the API in the selected time period. However, only in the case where the contract was revised, there is uninterrupted service. In other scenarios, service is suspended or stopped and is then resumed or restarted, with a period in between where the contract is not active.</p>
<h4>To monitor API performance for a specific contract</h4>
<ol>
	<li>Log in and go to the API Details page for your API.</li>
	<li>On the left menu, click <strong>Analytics</strong>.</li>
	<li>Choose one of the following options, to view contract information in different ways:
		<ul>
			<li><strong>Overview</strong>: Choose the environment. Here, in the <strong>Usage by App</strong> pie chart, you can see what portion of your API's total traffic is generated by a specific app.</li>
			<li><strong>Charts</strong>: Choose the environment and the app, and other values as needed. Here, you can view transaction volume, success/fault, and how the traffic measures against min/max average transaction time, if specified. You can also export the chart information.</li>
			<li><strong>Logs</strong>: Choose the environment and the app, and date range if needed. Here, you can view specific transaction logs. You can also export the log information.</li>
			<li><strong>Licenses</strong>: Choose the environment and the app, and other values as needed. Choose <strong>API Usage by App</strong>.</li>
		</ul>
	</li>
</ol>
<p><a href="#top">Back to top</a></p>



<h2 id="api_analytics_missing">Why is some of my analytics information missing?</h2>
<p>The storing of analytic information for app/API usage is controlled by the policies that are attached to the API. For example:</p>
<ul>
	<li>If you don't attach the <strong>AtmosphereApplicationSecurityPolicy</strong> policy to the API, calls to the API endpoint are logged, but there are no records of the app/API interactions, such as the <!-- #BeginLibraryItem "/Library/hdr_myapis_nav_all.lbi" -->&#160;<strong>APIs</strong> &gt; <strong>My APIs</strong> &gt; choose API &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Overview</strong> &gt; <strong>Usage by App</strong> chart or, for app developers, the<!-- #BeginLibraryItem "/Library/hdr_myapps_nav_all.lbi" -->&#160;<strong>Apps</strong> &gt; <strong>My Apps</strong> &gt; choose app &gt;&#160;<!-- #EndLibraryItem --><strong>Analytics</strong> &gt; <strong>Overview</strong> &gt; <strong>Usage by API</strong> chart.</li>
	<li>If you don't attach the <strong>Detailed Auditing</strong> policy to the API, calls to the API endpoint show up in the Overview and Charts section but do not appear in the logs.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />



<h2 id="related_topics">Related Topics</h2>
<div class="relatedlinks" id="api_admin"><!-- #BeginLibraryItem "/Library/relatedtopics_api_admin.lbi" -->
<ul>
	<li><a href="apiadmin_getting_started.htm">Getting Started for API Developers</a></li>
	<li><a href="apiadmin_overview.htm">API Administration: Overview</a></li>
	<li><a href="api_admin_tutorial.htm">Tutorial (API Provider)</a></li>
	<li><a href="api_admin_management.htm">API Admin Management</a></li>
	<li><a href="bus_api_admin_forum.htm">Forum Moderation</a></li>
	<li><a href="apiadmin_promotion.htm">Promoting an API</a></li>
	<li><a href="apiadmin_api_add.htm">Adding an API</a></li>
	<li><a href="apiadmin_api_design.htm">Add or Modify an API Using API Designer</a></li>
</ul>
<ul>
	<li><a href="apiadmin_a_d_d_support.htm">API Description Language Support</a></li>
	<li><a href="apiadmin_implementations.htm">Manage API Implementations</a></li>
	<li><a href="api_admin_testing_tc.htm">API Testing with Test Client</a></li>
	<li><a href="uc_tc_okta.htm">Use Case: API testing in Test Client with Okta</a></li>
	<li><a href="api_admin_managing_contracts.htm">Managing Contracts for your API</a></li>
	<li><a href="apiadmin_monitoring.htm">Monitoring API Analytics</a></li>
	<li><a href="apiadmin_mydashboard.htm">Monitoring APIs with the My Dashboard Feature</a></li>
</ul>
<ul>
	<li><a href="api_admin_api_publishing.htm">API Visibility, Licenses, and Settings</a></li>
	<li><a href="apiadmin_api_phys_svc.htm">Working with Physical Services</a></li>
	<li><a href="api_admin_oauth_support.htm">OAuth Support</a></li>
	<li><a href="api_admin_content_guidelines.htm">Content Development Guidelines</a></li>
	<li><a href="api_admin_documentation_maintenance.htm">API Documentation Maintenance</a></li>
	<li><a href="api_admin_documentation_tagging.htm">API Documentation Tagging</a></li>
	<li><a href="api_admin_legal_agreement_maintenance.htm">Legal Agreement Maintenance</a></li>
	<li><a href="basics_glossary.htm">Glossary of Terms</a></li>
</ul><!-- #EndLibraryItem --></div>