---
layout: page
title: OAuth Support | API Administration | Community Manager Help
description: Configure an API with OAuth.
product: cm
category: learn
subcategory: API Admin
weight: 20
type: page
nav-title: 
no-nav: true
no-catalog: true
---
<h2 id="top">OAuth Support</h2>
<p>Configure an API with OAuth.</p>

<div class = "divider1"></div>


<h3 style="color: gray;">Table of Contents</h3>
<ol class="table_of_contents">
  <li><a href="#what_is_oauth">What is OAuth?</a></li>
  <li><a href="#what_oauth_versions_are_supported">What OAuth versions are supported?</a></li>
  <li><a href="#how_do_i_configure_my_api_with_an_oauth_provider">How do I configure my API with an OAuth Provider?</a></li>
  <li><a href="#whats_the_difference_between_an_oauth_provider_and_a_3rd_party_provider">What's the difference between an OAuth Provider and a Third-Party Provider?</a></li>
  <li><a href="#what_grant_types_does_oauth_support">What grant types does OAuth support?</a></li>
  <li><a href="#how_does_oauth_2legged_and_3legged_authorization_work">How does OAuth 2-Legged and 3-Legged Authorization work?</a></li>
  <li><a href="#how_are_tokens_generated_and_used_in_oauth">How are tokens generated and used in OAuth?</a></li>
  <li><a href="#what_is_a_refresh_token">What is a Refresh Token?</a></li>
  <li><a href="#what_is_an_access_token">What is an Access Token?</a></li>
  <li><a href="#what_is_a_grant_property">What is a Grant Property?</a></li>
  <li><a href="#how_does_resource_owner_authentication_page_login_branding_work">How does Resource Owner Authentication Page Login Branding work?</a></li>
  <li><a href="#what_is_an_authorization_server_and_how_does_it_work">What is an Authorization Server and how does it work?</a></li>
  <li><a href="#what_are_the_oauth_20_endpoints_and_how_do_they_work">What are the OAuth 2.0 Endpoints and how do they work?</a></li>
  <li><a href="#what_are_the_oauth_10a_endpoints">What are the OAuth 1.0a Endpoints?</a></li>
  <li><a href="#what_is_an_authorization_server_client_authentication_policy">What is an Authorization Server Client Authentication Policy?</a></li>
  <li><a href="#how_does_scope_mapping_work">How does Scope Mapping work?</a></li>
  <li><a href="#how_does_proxy_api_send_oauth_headers">How does the proxy API send OAuth-related information to my API?</a></li>
</ol>
<div class = "divider1"></div>



<a name="what_is_oauth"></a><h3>What is OAuth?</h3>
<p>OAuth is an open standard security protocol for authorization that allows you to share private resources stored on one site with another site without having to share credentials.</p>
<p>One advantage of OAuth is that it supports both authentication and authorization in such a way that an application does not need to give access to the user's credentials. For example, in the platform you can sign in using your Facebook&reg; credentials, or on the <em>API Details</em> page you can share an API to Facebook, Twitter, and LinkedIn. These elements of the platform are configured as private resources.</p>
<p>In addition, OAuth can potentially extend the userbase of your APIs and applications by providing a flexible, familiar way to access them. For example, if you have multiple APIs added to the platform repository, and each API has granted access to multiple apps, you then have a broadened developer community, in addition the substantial number of users that are using the applications.</p>
<p>Access permissions are initially established by supplying a Resource that is dictated by the application (for example, username/password, email address). For example, if you supply username and password tokens, each token grants access to a specific site for a specific resource for a defined duration. This allows you to grant a third party site access to their information stored with another service provider, without sharing their access permissions or the full extent of their data.</p>
<p>OAuth 2.0 defines the following roles of users and applications:</p>
<ul>
  <li><strong>Resource Owner</strong>&#8212;The resource owner is the person or application that owns the data that is to be shared. For example, a user on Facebook could be a resource owner. The resource they own is their data. The resource owner is typically a person, but could also be an application.</li>
  <li><strong>Resource Server</strong>&#8212;The resource server is the server hosting the resource owner's data. For example, Facebook is a resource server.</li>
  <li><strong>Client Application</strong>&#8212;The client application is the application requesting access to the resources stored on the resource server. The resources, which are owned by the resource owner. A client application could be a game requesting access to a user's Facebook account.</li>
  <li><strong>Authorization Server</strong>&#8212;The OAuth authorization server is the OAuth service provider's server, which authorizes the client app to access the resources of the resource owner. The authorization server and the resource server might be the same server, but might be different.</li>
</ul>
<p>OAuth in the context of an API in the platform includes the following:</p>
  <ul>
    <li><strong>Client Application</strong>&#8212;The application that wants to access to resource owner's data held in the API. For example, the client application directs user to the OAuth Provider with a request for resource information (for example, username/password).</li>
    <li><strong>OAuth Provider</strong>&#8212;An application that keeps track of which user has given authorization to which application and has the ability to issue tokens to represent authorizations. A single OAuth Provider can support multiple APIs.</li>
    <li><strong>Resource Owner</strong>&#8212;User of an API and application.</li>
    <li><strong>Resource</strong>&#8212;User's credentials (i.e., username / password, email address, etc.)</li>
    <li><strong>API</strong>&#8212;Works closely with OAuth Provider to trust tokens issued by the provider to let the client application access the resource owner's resource held at the API.</li>
  </ul>
<p><a href="#top">Back to top</a></p>



<a name="what_oauth_versions_are_supported"></a><h3>What OAuth versions are supported?</h3>
<p>The platform supports the 1.0a and 2.0 versions of OAuth.</p>
<p><a href="#top">Back to top</a></p>



<a name="how_do_i_configure_my_api_with_an_oauth_provider"></a><h3>How do I configure my API with an OAuth Provider?</h3>
<p>If your API currently supports OAuth it must be associated with an OAuth Provider configuration that represents the OAuth use case that is most appropriate for the intended usage of the API, and resource mapping must be configured for selected operations to establish authorization permissions. This is accomplished using the <strong>OAuth Details </strong> function on the <em>API Detail</em>s page.</p>
<p><strong>Process:</strong></p>
<p><u><strong>A. API Administrator Installs OAuth Provider Features</strong></u></p>
<p>After an API Administrator adds an API, they then define one or more OAuth Provider configurations:</p>
<ul>
  <li>Each configuration is predefined with authentication domain, supported grant and access token types, and resources definitions / permissions (i.e., API operations that applications can map too and can get authorization from).</li>
  <li>The number of OAuth Provider configurations defined is based on the OAuth use cases that the API supports.</li>
  <li>These definitions are available for selection in the &quot;OAuth Provider&quot; drop-down of the <strong>API OAuth Wizard</strong>.</li>
</ul>
<p><u><strong>B. Launch OAuth Details Wizard and Select OAuth Provider</strong></u></p>
<p>The first step is to select an OAuth Provider for both the Production and Sandbox endpoints of your API.</p>
<ol>
  <li>On the <em>API &gt; Detail</em>s page, click <strong> OAuth Details</strong>. The <em>API OAuth Wizard</em> launches and the <em>Provider</em> page displays.</li>
  <li>Based on your API configuration you will have one or more Production or Sandbox endpoints. In the OAuth Provider section select a provider name for each endpoint you would like to configure.
  <ul>
    <li>If you are configuring a Proxy API, select a pre-defined <strong>OAuth Provider.</strong></li>
    <li>If you are configuring the Target API, select <strong>3rd Party Provider</strong>.</li>
    <li>After selecting a provider the wizard updates to reflect the elements that comprise the provider definition.</li>
  </ul>
</li>
</ol>
<p><u><strong>C. Specify Authorization Details</strong></u></p>
<p>Based on the OAuth version supported for the provider selected, specify the details for 1.0a or 2.0 OAuth Versions. If you select OAuth 2.0, the <em>OAuth Options</em> section displays where you can configure Authorization Grant Types.</p>
<p><em>Note: When specifying an <a href="site_admin_domains.htm#what_is_the_authorization_server_url_for_the_platform">Authorization Server URL</a> in the platform, it's important to verify that the client application is authorized to use the grant type that the OAuth Provider is configured to support. </em></p>
<ol>
  <li>Select an OAuth version. Version 2.0 and 1.0a are supported.</li>
  <li>Specify the required endpoint URL's for each OAuth version
    <ul>
      <li>Click <a href="#what_are_the_oauth_20_endpoints_and_how_do_they_work">here</a> for information on OAuth 2.0 endpoints.</li>
      <li>Click <a href="#what_are_the_oauth_10a_endpoints">here</a> for information on OAuth 1.0a endpoints.</li>
    </ul>
</li>
  <li>If you selected OAuth 2.0, select an Authorization Grant Type and Authorization Server Client Authentication Policy.
    <ul>
      <li>Click <a href="#what_grant_types_does_oauth_support">here</a> for information on Authorization Grants.</li>
      <li>Click <a href="#what_are_the_oauth_10a_endpoints">here</a> for information on Client Authentication Policies.</li>
    </ul>
  </li>
  </ol>
<p><u><strong>D. Configure Scope Mapping</strong></u></p>
<p>If you selected a predefined OAuth Provider, the resources (i.e., operations) of the current API have already been defined and authorized for use. On the <em>Scope Mapping</em> page, you identify which the operations your applications will need to get authorization for and the scope.</p>
<p>For example, Application1 includes a calendar and may need access to the API's calendar operation, and Application2 includes an email client and may require access to the API's address operation.</p>
<ol>
  <li>Click the radio button of the Scope Mapping approach you would like to use. <strong>API-wide Mapping</strong> or <strong>Operation Specific Mapping</strong>.</li>
  <li>In the <em>Scope</em> column, click <strong>Select</strong>. The <em>Select Scope</em> popup displays. Click the checkbox of the operations you would like to include in the scope of the current API. Deselect the checkboxes of operations you do not want to include in the configuration.</li>
  <li>After completing your configuration, click <strong>Save</strong>.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<a name="whats_the_difference_between_an_oauth_provider_and_a_3rd_party_provider"></a><h3>What's the difference between an OAuth Provider and a Third-Party Provider?</h3>
<p>An Identity Provider is a central OAuth-enabled provider that provides both user  authentication and user authorization. Using the <strong>API OAuth</strong> function, you can select a pre-defined OAuth Provider or a third-party provider:</p>
<ul>
  <li><em>OAuth Provider</em>&#8212;If you select a pre-defined OAuth Provider the configuration will be applied to the Proxy API only<em>.</em> Pre-defined providers are filtered to contain OAuth versions, grants, policies, and resource mapping information that relate to specific OAuth use cases. Tokens issued by this OAuth Provider could be validated by all agents from SOA Software.<br />
    <strong>Note</strong>: OAuth providers are set up by the Site Admin in Administration / Domains / OAuth Provider. If the OAuth provider you need is not on the drop-down list, contact your Site Admin.</li>
  <li><em>3rd Party Provider</em>&#8212;Choose this option if the physical endpoint will be authorizing the OAuth requests. The app still needs to send the OAuth token as part of the request, but the platform passes the token through to the physical endpoint. This allows us to support the API in the Dev Console so that apps can test against it. Provide all the information needed based on OAuth version and security configuration a specific API supports.</li>
</ul>
<p>Reference: <em>API &gt; API Details &gt; OAuth Details &gt; OAuth Provider</em></p>
<p><a href="#top">Back to top</a></p>



<a name="what_grant_types_does_oauth_support"></a><h3>What grant types does OAuth support?</h3>
<p>Access or permission to use a resource by an OAuth Provider is facilitated using grants.</p>
<p><em>Note: The platform supports all four grant types for OAuth 2.0, and Authentication Code only for OAuth 1.0a.</em></p>
<p>OAuth defines the following grant types that reflect different authorization mechanisms:</p>
<p><strong>2-Legged </strong></p>
<p>The following grant types are used in the 2-Legged OAuth scenario.</p>
<table cellspacing="0px" class="doctable" style="width: 98%;">
  <thead>
  <tr>
    <th width="20%">Grant Type</th>
    <th width="80%">Description</th>
</tr>
</thead>
<tbody>
    <tr class="t2row">
      <td>Client Credentials</td>
      <td>The client presents its own credentials to the OAuth Authorization Server in order to obtain an access token. This access token is either associated with the client&rsquo;s own resources, and not a particular resource owner, or is associated with a resource owner for whom the client is otherwise authorized to act.</td>
    </tr>
  <tr class="t1row">
    <td>Resource Owner Password Credentials</td>
    <td>The client collects the resource owner&rsquo;s password and exchanges it at the OAuth AS for an access token, and often a refresh token (see below). This grant type is suitable in cases where the RO has a trust relationship with the client, such as its computer operation system or a highly privileged application since the client must discard the password after using it to obtain the access token.</td>
  </tr>
  </tbody>
</table>
<p><strong>3-Legged</strong></p>
<p>The following grant types are used in the 3-Legged OAuth scenario.</p>
<table cellspacing="0px" class="doctable" style="width: 98%;">
  <thead>
  <tr>
    <th width="20%">Grant Type</th>
    <th width="80%">Description</th>
</tr>
</thead>
<tbody>
    <tr class="t2row">
      <td>Authorization Code</td>
      <td> An authorization code is returned to the client through a browser redirect after the resource owner gives consent to the OAuth Authorization Server. The client then exchanges the authorization code for an access token. Resource owner credentials are never exposed to the client.</td>
    </tr>
  <tr class="t1row">
    <td>Implicit</td>
    <td><p>An access token is returned to the client through a browser redirect in response to the resource owner authorization request.</p>
<p>This grant type is suitable for clients that do not support keeping client credentials confidential (for use in authenticating with the OAuth Authentication Server) such as client applications implemented in a browser using a scripting language like JavaScript.</p></td>
  </tr>
  </tbody>
</table>
<p>Reference: <em>Site Administrator &gt; Domains &gt; Configure OAuth Provider &gt; Grant Types &gt; 3-Legged / 2-Legged Grant Types</em></p>
<p><a href="#top">Back to top</a></p>



<a name="how_does_oauth_2legged_and_3legged_authorization_work"></a><h3>How does OAuth 2-Legged and 3-Legged Authorization Work?</h3>
<p>The number of legs used to describe an OAuth request typically refers to the number of parties involved. Legs generally mean that access is shared by the client with other clients.</p>
<ul>
  <li>In the simple OAuth flow (a client, a server, and a resource owner), the flow is described as <em>3-Legged</em>.</li>
  <li>When the client is also the resource owner (i.e., acting on behalf of itself), it is described as <em>2-Legged</em>.</li>
</ul>
<p> This section provides a brief description of 3-Legged versus 2-Legged OAuth:</p>
<p><strong>3-Legged:</strong></p>
<p>In 3-Legged OAuth a resource owner wants to give a client access to a server without sharing their credentials (i.e. username/password). For example, a user (resource owner) wants to give a third-party application (client) access to his Twitter account (server).</p>
<p>This scenario works as follows:</p>
<ul>
  <li>Client signs up to the server and obtains client credentials (i.e., consumer key and secret).</li>
  <li>User wants to give the client access to his protected resources on the server.</li>
  <li>Client retrieves the temporary credentials (i.e., request token) from the server.</li>
  <li>Client redirects the resource owner to the server.</li>
  <li>Resource owner grants the client access to his protected resources on the server.</li>
  <li>Server redirects the user back to the client.</li>
  <li>Client uses the temporary credentials to retrieve the token credentials (i.e., access token) from the server.</li>
  <li>Client uses the token credentials to access the protected resources on the server.</li>
</ul>
<p><strong>2-Legged:</strong></p>
<p>2-Legged OAuth describes a typical client-server scenario without any user involvement. For example, a local Twitter client application accessing your Twitter account.</p>
<p> This 2-legged OAuth scenario consists of the first and last steps of 3-legged OAuth:</p>
<ul>
  <li>Client has signed up to the server and got his client credentials (i.e., consumer key and secret).</li>
  <li>Client uses his client credentials (and empty token credentials) to access the protected resources on the server.</li>
</ul>
<p>Reference: <em>Site Administrator &gt; Domains &gt; Configure OAuth Provider &gt; Grant Types &gt; 3-Legged / 2-Legged Grant Types</em></p>
<p><a href="#top">Back to top</a></p>



<a name="how_are_tokens_generated_and_used_in_oauth"></a><h3>How are tokens generated and used in OAuth?</h3>
<p>OAuth tokens are generated by the platform. When a Site Administrator or API Provider defines an OAuth Provider, they select the supported OAuth grant types, whether the authorization server supports Refresh Tokens, and what type of Access Token is supported. The type of token issued is based on the configuration of the OAuth Provider that is assigned to the API.</p>
<ul>
  <li>Tokens are used so that an app's private credentials do not have to be shared with an API.</li>
  <li>Instead of OAuth sending the password, it provides a token so the API does not need to see the app password.</li>
  <li>OAuth validates the user, not the app. The API can see the user's password, but the app cannot.</li>
</ul>
<p>See <a href="#what_is_an_access_token">What is an Access Token?</a> for details on Access Token support for OAuth 2.0 and OAuth 1.0a.</p>
<p><a href="#top">Back to top</a></p>



<a name="what_is_a_refresh_token"></a><h3>What is a Refresh Token?</h3>
<p> Refresh Tokens are credentials used to obtain access token:</p>
<ul>
  <li>They are issued as a string and represent the authorization granted to the client by the resource owner.</li>
  <li>The token denotes an identifier used to retrieve the authorization information.</li>
  <li>They are issued to the client by the authorization server and are used to obtain a new access token when the current access token becomes invalid or expires, or to obtain additional access tokens with identical or narrower scope.</li>
  <li>Issuing a refresh token is optional at the discretion of the authorization server. If the authorization server issues a refresh token, it is included when issuing an access token.</li>
  <li>Unlike access tokens, refresh tokens are intended for use only with authorization servers and are never sent to resource servers.</li>
</ul>
<p>Reference: <em>Site Administrator &gt; Domains &gt; Configure OAuth Provider &gt; Grant Types &gt; Issue Refresh Tokens</em></p>
<p><a href="#top">Back to top</a></p>



<a name="what_is_an_access_token"></a><h3>What is an Access Token?</h3>
<p>An access token is issued as a string that represents an access authorization issued to the client. It is used by the client to access protected resources hosted by the resource server. Access tokens are issued to clients by an authorization server with the approval of the resource owner. Each access token includes an expiration attribute that indicates how long the token is valid.</p>
<p><em>Note: An access token timeout is typically 15 days (or 1296000 seconds). </em></p>
<p><strong>OAuth 2.0:</strong></p>
<p>There are two types of access tokens:</p>
<ul>
  <li><strong>Bearer Token</strong>&#8212;This access token type is a security token with the property that any party in possession of the token (a &quot;bearer&quot;) can use the token in any way that any other party in possession of it can. Using a bearer token does not require a bearer to prove possession of cryptographic key material (proof-of-possession).</li>
  <li><strong>Message Authentication Code (Mac)</strong>&#8212;This access token type is a security code that is typed in by the user of a computer to access accounts or portals. This code is attached to the message or request sent by the user. Message Authentication Codes (MACs) attached to the message must be recognized by the receiving system in order to grant the user access. MACs are commonly used in electronic funds transfers (EFTs) to maintain information integrity.</li>
</ul>
<p>As part of the OAuth Provider Domain configuration process, the<strong> Add Domain Wizard</strong> requires that you select what kind of token should be issued (Bearer or Mac).</p>
<p><strong>OAuth 1.0a:</strong></p>
<p>A token shared secret is issued one time only.</p>
<p>Reference: <em>Site Administrator &gt; Domains &gt; Configure OAuth Provider &gt; Grant Types &gt; Access Token Type</em></p>
<p><a href="#top">Back to top</a></p>



<a name="what_is_a_grant_property"></a><h3>What is a Grant Property?</h3>
<p>A grant property is a custom property that a resource owner can define in the client application&nbsp;to provide additional information per API on whether to apply restrictions/constraints to the grant or add additional services at the scope of the grant. It allows you configure how an app will use the permissions you are giving it (for example, in a banking app only provide transaction details or current balance, but do not allow a withdrawal).</p>
<p>Grant properties are initially defined in the client application and assigned a &quot;tag.&quot; The Site Administrator or API Provider can then reference the grant properties in the OAuth Provider domain by specifying a Property ID (which represents the Tag of the property definition) and Property Label (which is a description label that is internal to the platform).</p>
<p>After you have successfully logged into your application via the login screen associated with the OAuth Provider the API, an app authorization screen displays that typically includes some type of authorize option and can optionally include fields for entering any custom grant properties data. Here you enter the values for the grant properties, and click <strong>Authorize</strong> (or equivalent option). A token is given to the application and an authorization successful message is returned. The application can then use this token to start sending requests. The grant properties are then sent back to the client application for validation.</p>
<p><strong>Example (Using Grant Property to Apply Restriction):</strong></p>
<ul>
  <li>If the API being secured is a money transfer API, the resource owner might want a restriction to limit the maximum value of a transaction to $100, with a maximum of only one transaction per month (for example, magazine subscription application).</li>
  <li>To support this, the provider could define a &quot;Maximum transaction amount&quot; property, and a &ldquo;Maximum number of transactions per month property in the application, and specify the Property ID (i.e., tag) in the OAuth Provider domain definition on the <em>Grant Property </em>page.</li>
  <li>The grant property labels display with text entry fields on the application app authorization screen after the login is successful. Enter the values for the grant properties and click <strong>Authorize</strong>.</li>
</ul>
<p>Reference: <em>Site Administrator &gt; Domains &gt; Configure OAuth Provider &gt; Properties</em></p>
<p><a href="#top">Back to top</a></p>



<a name="how_does_resource_owner_authentication_page_login_branding_work"></a><h3>How does Resource Owner Authentication Page Login Branding work?</h3>
<p>When a user logs into your application using the OAuth Provider configuration, they must see a Resource Owner Authentication page (login screen) that is custom branded to your organization. The <em>Branding</em> page of the OAuth Provider domain is used to configure this page. Two branding options are offered:</p>
<ul>
  <li><strong>Integrate with Existing Identity Provider </strong>- You can link to a Resource Owner Authentication page provided directly by an identity provider such as Facebook or Google. This is accomplished by specifying the <a href="site_admin_domains.htm#what_is_the_authorization_server_url_for_the_platform">Authorization Server URL</a> on the <em>Branding</em> page of the OAuth Provider domain configuration.</li>
  <li><strong>Integrate with Platform Identity Provider </strong>- The platform allows you to integrate with backend identity systems and configure a custom Resource Owner Authentication page. You can customize the login with a unique logo that represents your organization, footer text (for example, copyright information), and the URL you want to offer to Resource Owners and applications to access this OAuth provider capabilities.</li>
</ul>
<p>Reference: <em>Site Administrator &gt; Domains &gt; Configure OAuth Provider &gt; Branding</em></p>
<p><a href="#top">Back to top</a></p>



<a name="what_is_an_authorization_server_and_how_does_it_work"></a><h3>What is an Authorization Server and how does it work?</h3>
<p>An authentication server is an application that facilitates authentication of an entity that attempts to access a network. Such an entity may be a human user or another server. An authentication server can reside in a dedicated computer, an Ethernet switch, an access point or a network access server.</p>
<p>Authentication Servers can be set up in a variety of ways, depending upon the security scheme of the network they are serving. The basic process for authenticating a user includes the following steps:</p>
<ul>
  <li>A user dials into a network through a communications server, or Network Access Server.</li>
  <li>The Network Access Server forwards the user identification and password to the Authentication Server.</li>
  <li>Then the Authentication Server validates the user and provides access privileges to the network.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<a name="what_are_the_oauth_20_endpoints_and_how_do_they_work"></a><h3>What are the OAuth 2.0 Endpoints and how do they work?</h3>
<p> OAuth 2.0 defines an Authorization, Token, and Redirection endpoints. They are typically a URI on a web server.</p>
<p>API Administrators who are defining OAuth Providers using the <strong>Add OAuth Wizard</strong> (via <em>Site Administration &gt; Domains</em>) or are configuring OAuth for a specific API using the <strong>API OAuth Wizard</strong> (via <em>API &gt; Details</em>) will specify an Authorization URL, Token Endpoint URL, and Redirection URL if they are using OAuth 2.0.</p>
<p>This section provides a brief overview of how an <a href="basics_glossary.htm#gl_oauth_authorizationserver">Authorization Server</a> works in respect to each endpoint:</p>
<p><strong>OAuth 2.0 Endpoints</strong>:</p>
<ul>
  <li><strong> Authorization Endpoint</strong> is the endpoint on the authorization server where the resource owner provides credentials, such as username and password, in and grants authorization to the client app to access the resources or a specified subset of the resources.</li>
  <li><strong>Token Endpoint</strong> is the endpoint on the authorization server where the client application exchanges the authorization code, client ID, and client secret and receives in exchange an access token which allows the app to access the approved resources.</li>
  <li><strong>Redirection Endpoint</strong> is the endpoint in the client application where the resource owner is redirected to, after having granted authorization at the authorization endpoint.</li>
</ul>
<p><strong>Authorization Server Workflow:</strong></p>
<ul>
  <li>When a client application wants access to the resources of a resource owner, hosted on a resource server, the client application must first obtain an authorization grant.</li>
  <li>Before a client application can request access to resources on a resource server, the client application must first register with the authorization server associated with the resource server. After the registration is complete, the registration remains valid, unless the client app registration is revoked.</li>
  <li>At registration the client application is assigned a client ID and a client secret (password) by the authorization server. The client ID and secret is unique to the client application on that authorization server. If a client application registers with multiple authorization servers (for example, Facebook, Twitter, or Google), each authorization server will issue its own unique client ID to the client application.</li>
  <li>Whenever the client application requests access to resources stored on that same resource server, the client application needs to authenticate itself by sending along the client ID and the client secret to the authorization server.</li>
  <li>During the registration the client also registers a redirect URI. This redirect URI is used when a resource owner grants authorization to the client application. When a resource owner has successfully authorized the client application via the authorization server, the resource owner is redirected back to the client application, to the redirect URI.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<a name="what_are_the_oauth_10a_endpoints"></a><h3>What are the OAuth 1.0a Endpoints?</h3>
<p>OAuth 1.0a supports the following endpoints:</p>
<ul>
  <li><strong>Request Token Endpoint URL </strong>&#8212;A Request Token is used by the consumer to ask the user to authorize access to the protected resources. The Request Token Endpoint URL is used to obtain an unauthorized Request Token.</li>
  <li><strong>User Authorization URL</strong>&#8212;The consumer cannot use the Request Token until it has been authorized by the user. The User Authorization URL is used to obtain user authorization for Consumer access.</li>
  <li><strong>Access Token Endpoint URL</strong>&#8212;An Access Token is a value used by the consumer to gain access to the protected resources on behalf of the user, instead of using the user's service provider credentials. The Access Token Endpoint URL is used to exchange the user-authorized Request Token for an Access Token.</li>
</ul>
<p>For more information on these endpoint types, refer to the OAuth Core 1.0, Revision A specification (http://oauth.net/core/1.0a/)</p>
<p><a href="#top">Back to top</a></p>



<a name="what_is_an_authorization_server_client_authentication_policy"></a><h3>What is an Authorization Server Client Authentication Policy?</h3>
<p>If you are using the SOA Software Network Director as the Authentication Server specified in your OAuth configuration, the platform provides a series of client authentication policies that can be used to authenticate the client's credentials:</p>
<ul>
  <li><strong>Basic Authentication</strong>&#8212;Basic authentication requires that users provide a valid user name and password to access content. All major browsers support this authentication method and it works across firewalls and proxy servers. The disadvantage of Basic authentication is that it transmits passwords across the network using weak encryption. You should use Basic authentication only when you know that the connection between the client and the server is secure.</li>
  <li><strong>HTTPs 2-Way Authentication</strong>&#8212;Two-way authentication requires that both the client and server authenticate each other with certificates.</li>
  <li><strong>Form-Based Authentication</strong>&#8212;Form-based authentication mode lets you manage client registration and authentication at the application level, instead of relying on the authentication mechanisms provided by the operating system. It works well for sites or applications on public web servers that receive many requests.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<a name="how_does_scope_mapping_work"></a><h3>How does Scope Mapping work?</h3>
<p>Operations in an API act on data objects called <em>scopes</em>. Scopes are permissions that OAuth can read to get access to specified operations from one site to another. The platform uses grant resources for authorization of an API. The authorization could be fine-grained (at the object level), or could be for additional services.</p>
<p>Although the approach for organizing API Scopes varies from API to API, the scopes are typically organized as follows:</p>
<ul>
  <li>Scopes are grouped in a catalog in organized into a &quot;Scope Hierarchy&quot; similar to the diagram below. <br />
    <br />
    <img src="images/resource hierarchy.jpg" width="250" height="84" alt="" /></li>
  <li>The scope represents a catalog of folders and services published on the host.</li>
  <li>The root node is the initial entry point to the host.</li>
  <li>Each scope in the catalog includes a &quot;Scope URL&quot; as well as the root node.</li>
  <li>Each scope can also be referenced by a symbol {id} that represents the integer ID of the resource.</li>
</ul>
<p>Scopes are defined in a hierarchy of permissions that represent the list of actions to be performed. For example, if you have a credit card service API, you may have scopes like Charge Account, Deposit, Cash Advance, or Get Statement, in addition to account management services like Add Card, Report Fraud Transaction, etc. Scopes are generally added to the hierarchy based on a logical sequence. For example, if your credit card service API has the ability to deposit, you might make Deposit a sub-scope under Withdraw.</p>
<p>A base set of scopes are initially defined in the <strong>OAuth Provider</strong> domain and the API provider can perform additional filtering when on the scope list when configuring the <strong>API OAuth Wizard</strong>. These scopes map to operations that are defined in one more APIs that the OAuth Provider domain will be serving.</p>
<p>The <strong>API OAuth Wizard</strong> accessible via the <em>API Details</em> page, includes a <em>Scope Mapping</em> section that allows you to specify a Scope for selected operations, or enable API-wide Mapping. For Operation-specific Mapping you specify the Scope URL or symbol {id}, for API-wide Mapping you specify the Scope URL of the Root Node.</p>
<p><strong>Example (Using Grant Scope to Provide an Additional Service):</strong></p>
<p>The following example illustrates a walkthrough of configuring scopes starting with the API definition, continuing with the OAuth Provider, and finally attaching the OAuth Provider to the API and performing the scope mapping:</p>
<ul>
  <li>An API includes a transaction using a defined OAuth grant requesting that a notification be issued using an Email delivery method when an application makes a &quot;charge.&quot;</li>
  <li>To support this, the API Provider must include a &quot;Profile&quot; and &quot;Email&quot; operation in the API definition, and must also select application and OAuth security policies, plus a monitoring policy. The following illustration shows the Operation and Policy sections of the <em>Proxy</em> page in the <strong>Add a New API Wizard</strong>. <br />
    <br />
    <img src="images/api_operation_resources.jpg" width="377" height="135" alt="" /></li>
  <li>The API Provider or Site Administrator must configure the &quot;Profile&quot; and &quot;Email&quot; resource hierarchy in the OAuth Provider definition. The following illustration shows how the <em>Scopes</em> page of the <strong>Add Domain Wizard</strong> for an OAuth Provider could be configured for this example:<br />
    <br />
    <img src="images/add domain_api_oauth_resources.jpg" width="668" height="413" alt="" /></li>
  <li>On the <em>API Details</em> page, the API Provider must then select <em>OAuth Details</em> and configure the resources on the <em>Scope Mapping</em> page, select the OAuth provider, and select <em>Operation-specific mapping</em> and configure the &quot;Profile&quot; and &quot;Email&quot; resources by selecting the checkbox of the resource from the hierarchy. The following illustration shows the two resources configured in the <strong>API OAuth Wizard</strong>:<br />
    <br />
    <img src="images/api oauth_profile_resource.jpg" width="600" height="147" alt="" /><br />
    <br />
    <img src="images/api oauth_email_resource.jpg" width="600" height="143" alt="" /></li>
  <li>After the scopes are properly configured, when a charge is made to the application, the grant scope will be invoked and the API will issue an email with information about the charge.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<a name="how_does_proxy_api_send_oauth_headers"></a><h3>How does the proxy API send OAuth-related information to my API?</h3>
<p>When you set up your API on the platform, using the platform as a proxy, your API is the Target API and the platform is the Proxy API.</p>
<p>When an app sends a request to the proxy API, if the API is using the platform as a proxy API and is using the OAuth policy, custom headers are added in the outbound request from the proxy API, which is the target API's inbound message. 
  
  These outbound request headers include key information such as:</p>
<ul>
  <li>Resource owner identity</li>
  <li>Grant properties</li>
  <li>Possibly, other information about the grant</li>
</ul>
<p>It's important for API developers to know about these properties so that they can implement the API to work with any authorization restrictions (grant properties) set up by the resource owner for the application under the grant. </p>
<p>For example, the API developer could use the headers to validate that the proxy has authenticated the user, and to get the UserID of the consumer (end user) making the call.</p>
<p>An example of what these custom headers might look like, in the inbound message to the target API, is shown below.</p>
<pre>OAuth_ClientID: acmepayments-7zQLGrDd2163LSKqOOkJ2QAf
OAuth_Scope: Wall
OAuth_Properties: Prop1=Prop1Value
OAuth_TokenType: MAC
OAuth_version: 2.0
OAuth_ResourceOwnerDomain: MyOpenIDProvider
OAuth_ResourceOwnerUID: https://www.google.com/accounts/o8/id?id=AItOawkXDyU8_9K2CEYmXxhZshHC080Eq7FIHXY
OAuth_Signature_Method: HMACSHA256
</pre>
<p>For details about the headers, what they mean, and valid values, see the table below.</p>
<table cellspacing="0px" class="doctable" style="width: 98%;">
  <thead>
    <tr>
      <th width="20%">Header</th>
      <th width="80%">Description/Values</th>
    </tr>
  </thead>
  <tbody>
    <tr class="t2row">
      <td>OAuth_ClientID</td>
      <td>The OAuth client ID for the client sending the request.</td>
    </tr>
    <tr class="t1row">
      <td>OAuth_Scope</td>
      <td>One or more specific scopes assigned to the grant; these are scopes that the resource owner is granting access to. Scopes are defined by the resource server and approved by the resource owner. Separate multiple scopes by commas. Example: Wall,Calendar</td>
    </tr>
    <tr class="t2row">
      <td>OAuth_Properties</td>
      <td>Name/value pairs for OAuth grant properties that the end-user has selected. Multiple grant properties are separated by commas.</td>
    </tr>
    <tr class="t1row">
      <td>OAuth_TokenType</td>
      <td>The OAuth token type: MAC or Bearer.</td>
    </tr>
    <tr class="t2row">
      <td>OAuth_version</td>
      <td>The OAuth version being used: 1.0a or 2.0.</td>
    </tr>
    <tr class="t1row">
      <td>OAuth_ResourceOwnerDomain</td>
      <td>The domain that the OAuth resource owner belongs to. This domain is selected as the Resource Owner (End User) domain when configuring OAuth Provider in the platform.</td>
    </tr>
    <tr class="t2row">
      <td>OAuth_ResourceOwnerUID</td>
      <td>The resource owner's unique ID, given by the resource owner domain.</td>
    </tr>
    <tr class="t1row">
      <td>OAuth_Signature_Method</td>
      <td><p>The signature method used in the request message to signing the oauth token, indicating the strength of the security used in the request message. This applies only for OAuth 1.0a tokens and OAuth 2.0 MAC token. Example: HMACSHA256. We support the following OAuth signature methods:</p>
        <ul class="apidoctable_ul">
          <li>HmacSHA1/hmac-sha1/hmac-sha-1</li>
          <li>HMACSHA256/hmac-sha-256/sha-256</li>
          <li>SHA1withRSA/RSA-SHA1</li>
          <li>SHA256withRSA/RSA-SHA256</li>
        </ul></td>
    </tr>
  </tbody>
</table>
<p><a href="#top">Back to top</a></p>



<div class = "divider1"></div>



