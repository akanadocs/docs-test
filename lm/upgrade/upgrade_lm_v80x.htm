---
layout: page
title: Upgrading Lifecycle Manager from Version 8.0 to Version 8.0.x
description: Learn how to upgrade Lifecycle Manager to 8.0.x.
product: lm
category: ref
weight: 10
type: page
nav-title: Lifecycle Manager Upgrade
---
<h2><a name="top"></a>Upgrading Lifecycle Manager from Version 8.0 to Version 8.0.x</h2>
<p>These upgrade instructions are for a scenario where you are upgrading <strong>from</strong> an earlier version of Lifecycle Manager 8.0.x (8.0.0 or newer) <strong>to</strong> a later version.</p>
<p><strong>Note</strong>: For upgrade instructions from earlier versions to version 8.0, refer to the Readme file in the LM folder on the <a href="https://library.akana.com/display/MAIN/Downloads" title="Akana support site" target="_blank">Akana support site</a>. On the Downloads page choose <strong>Lifecycle Manager</strong> &gt; <strong>LM 8.0</strong> &gt; <strong>Documentation</strong> &gt; <strong>v8.0_OSGi-README.html</strong>.</p>
<h5 class="stamp">Supported Platforms: 8.2.3</h5>
<div class = "divider1"></div>
<h3 style="color: gray;">Table of Contents</h3>



<ol class="table_of_contents">
  <li><a href="#01_00">Overview</a></li>
  <li><a href="#01_01">Method 1: Upgrade Existing Container</a></li>
  <li><a href="#01_02">Method 2: Remove/Re-Create Target Container</a></li>
</ol>



<div class = "divider1"></div>



<a name="01_00"></a><h4>Overview</h4>
<p>If you are currently using a legacy version such as 7.1.x or below, you'll need to follow the 7.1.x to 8.0 instructions. In that case, you can upgrade directly to the desired 8.0.x version; you don't need to upgrade to 8.0.0 and then to 8.0.x.</p>
<p>There are two approaches to upgrading an existing LM 8.0.x (Akana Platform) container:</p>
<ol>
  <li>Upgrade the existing container using the pre-existing Akana Platform <strong>configurator</strong> container to process a target container upgrade. See <a href="#01_01">Method 1: Upgrade Existing Container</a>.</li>
  <li>Remove and re-create the target container (reconnecting to the existing DB schema). This requires your existing database schema connection information along with your Oracle SYSTEM (or equivalent) credentials, for the <strong>Initialize Repository Database</strong> task. See <a href="#01_02">Method 2: Remove/Re-Create Target Container</a>.</li>
</ol>
<p>There might be certain scenarios where the first method might be problematic; specifically, when the new version includes feature bundles that have been renamed, removed, or consolidated, which could result in mismatched or orphaned bundles that might conflict with new bundles.</p>
<p>These scenarios will be called out in the specific version release notes. In these specific versions, you will be directed to use the second method, container removal/re-creation.</p>
<p><a href="#top">back to top</a></p>



<a name="01_01"></a><h4>Method 1: Upgrade Existing Container</h4>
<p>The general steps of the first method, upgrading the existing container, are given below.</p>
<p>The Akana Platform provides an existing <strong>configurator</strong> container that, when invoked with an appropriate set of properties, upgrades the designated target container with the most recent feature bundles found in the [platform_home]/lib directory.</p>
<p>If you are running the Akana Platform on Windows or another desktop environment, you can simply start up the configurator container without any parameters/properties, and you will be presented with a GUI dialog to select the container that you want to upgrade.</p>
<p>For example:</p>
<pre>c:\Akana\platform_home\bin\startup.bat configurator</pre>
<p>If you are running the Akana Platform on Linux (without a desktop environment), or choosing a silent install on Windows, you'll need to create an update properties file, and then invoke the configurator container in silent mode while pointing to that file. The file must contain two properties:</p>
<ul>
  <li><strong>container.instance.name</strong>, which corresponds to the container name being upgraded.</li>
  <li><strong>wizard.mode</strong>, with a value of <strong>update</strong>.</li>
</ul>
<p>An example of an update properties file is shown below. This example is named <strong>update-lm.properties</strong> to reflect the name of the container being upgraded; choose whatever name you want.</p>
<pre>[akana@lm-pm8x-16 ~]$ cat ~/update-lm.properties
container.instance.name=lm
wizard.mode=update</pre>

<p>Extract the new feature bundle to your Akana Platform home directory. In the example below, the Akana Platform home directory is <strong>/opt/akana/plat8</strong>:</p>
<pre>[akana@lm-pm8x-16 ~]$ unzip lifecyclemanager_8.0.2.00302.zip -d /opt/akana/plat8/
Archive:  lifecyclemanager_8.0.2.00302.zip
   creating: /opt/akana/plat8/lib/lifecyclemanager_8.0.2.00302/
  inflating: /opt/akana/plat8/lib/lifecyclemanager_8.0.2.00302/OpenSourceLicenses.txt
...</pre>
<p>Before upgrading an existing container, make sure that it's stopped/not running. In the example below, the target container name is <strong>lm</strong>:</p>
<pre>[akana@lm-pm8x-16 bin]$ ./shutdown.sh lm
Instance [lm] PID [48181] stopped
...
[akana@lm-pm8x-16 bin]$</pre>

<p>If you don't see the above <strong>Instance [instance_name] PID [pid#] stopped</strong> message, use the typical OS commands to verify that the Java process had been shut down; with Linux, you'd typically use the <strong>ps</strong> command. The example below positively shows that there are no active Java processes running:</p>
<pre>[akana@lm-pm8x-16 bin]$ ps -ef | grep java
akana    48404 47755  0 15:27 pts/1    00:00:00 grep --color=auto java
[akana@lm-pm8x-16 bin]$</pre>

<p>Purge the existing configurator container's <strong>cache</strong> directory, otherwise the configurator container may use some older cached feature bundles:</p>
<pre>[akana@lm-pm8x-16 ~]$ cd /opt/akana/plat8/bin/
[akana@lm-pm8x-16 bin]$ rm -rf /opt/akana/plat8/instances/configurator/cache/*
[akana@lm-pm8x-16 bin]$</pre>

<p>Invoke the configurator container in silent mode while specifying the full path to the upgrade properties file, as shown below. This is identical to the process used to create the SM container during initial product installation.</p>
<pre>[akana@lm-pm8x-16 bin]$ ./startup.sh configurator -Dsilent=true -Dproperties=/home/akana/update-lm.properties
Starting instance [configurator]
STARTED [35] bundle(s)
Beginning task: Completing wizard...
Creating snapshot...
...
Updated 38 bundle(s).
Updating "lm" instance directory...
Configuration Completed
Exiting...
STARTED [35] bundle(s)
[akana@lm-pm8x-16 bin]$</pre>

<p>Start the newly upgraded container. In this example, the container is started in the background via the <strong>-bg</strong> parameter:</p>
<pre>[akana@lm-pm8x-16 bin]$ ./startup.sh lm -bg
Starting instance [lm]
[akana@lm-pm8x-16 bin]$</pre>
<p>That concludes the product upgrade using the first method, upgrading an existing container.</p>
<p><a href="#top">back to top</a></p>



<a name="01_02"></a><h4>Method 2: Remove/Re-Create Target Container</h4>
<p>The general steps of the second method, removing and re-creating the target container, are given below.</p>
<p>This method essentially involves:</p>
<ol>
  <li>Removing the existing target container.</li>
  <li>Re-creating the container.</li>
  <li>Reinstalling the feature bundles you want (the Lifecycle Manager application).</li>
  <li>Connecting the container to the existing database schema.</li>
</ol>
<p>This process is very similar to the initial product installation; however, instead of creating a new database schema during the feature installation configuration tasks (the <strong>Database Wizard</strong> task), you'll choose to use an existing database schema. At that point, you'll need to provide the connection information to your existing DB schema; DB host, port, SID/service name, schema name, tablespace name, and password.</p>
<p>You can find all of these values, except the password, in the Administration Console for the existing container, under the <strong>Configuration</strong> tab &gt; <strong>com.soa.database.config</strong> &gt; <strong>com.soa.database.config.{uuid}</strong>. Please make sure that you have these values in hand before proceeding:</p>
<ul>
  <li>database (schema name)</li>
  <li>instanceName (service name)</li>
  <li>port (Oracle port)</li>
  <li>password (this will be encrypted in the Administration Console, so you'll need to obtain it from elsewhere)</li>
  <li>server (server hostname or IP address)</li>
  <li>type (Oracle SID or Service Name)</li>
  <li>user (schema user name)</li>
</ul>
<p>You'll also need to have the Oracle DB SYSTEM or equivalent credentials to complete the feature installation <strong>Initialize Repository Database</strong> configuration task, just as you did during the initial product installation.</p>
<p>Prior to removing an existing container, make sure that it's stopped/not running. In the following example, the Akana Platform home directory is <strong>/opt/akana/plat8</strong> and the example target container name is <strong>lm</strong>:</p>
<pre>[akana@lm-pm8x-16 ~]$ cd /opt/akana/plat8/bin/
[akana@lm-pm8x-16 bin]$ ./shutdown.sh lm
Instance [lm] PID [48181] stopped
...
[akana@lm-pm8x-16 bin]$</pre>
<p>Remove the existing container's instance directory, being cautious to only remove the instance directory that you will be re-creating:</p>
<pre>[akana@lm-pm8x-16 bin]$ rm -rf /opt/akana/plat8/instances/lm/</pre>
<p>Purge the configurator container's cache, otherwise the configurator container may use some older feature bundles:</p>
<pre>[akana@lm-pm8x-16 bin]$ rm -rf /opt/akana/plat8/instances/configurator/cache/*</pre>
<p>The container creation process is identical to container creation during the initial product installation. For details, please refer to the Install Guide. The example in this document shows container creation on Linux using silent mode.</p>
<p>Create a container properties file, or re-use an existing one. The properties file must contain the following five properties and their values:</p>
<ul>
  <li>container.instance.name</li>
  <li>credential.username</li>
  <li>credential.password</li>
  <li>default.host</li>
  <li>default.port</li>
</ul>
<p>For example:</p>
<pre>[akana@lm-pm8x-16 ~]$ cat lm.properties
container.instance.name=lm
credential.username = administrator
credential.password = password
default.host=lm-pm8x-16.local.akana.com
default.port=9900</pre>

<p>Invoke the Akana Platform's configurator container in silent mode using the container properties file to create the new container:</p>
<pre>[akana@lm-pm8x-16 ~]$ cd /opt/akana/plat8/bin/
[akana@lm-pm8x-16 bin]$ ./startup.sh configurator -Dsilent=true -Dproperties=/home/akana/lm.properties
Starting instance [configurator]
STARTED [35] bundle(s)
Beginning task: Completing wizard...
Beginning task: Container configuration...
Creating "lm" instance directory...
...
Container configured.
Configuration Completed
Exiting...
STARTED [35] bundle(s)
[akana@lm-pm8x-16 bin]$</pre>

<p>Because you deleted the old container, you'll need to copy the Oracle OJDBC driver to the new container's deploy/ directory:</p>
<pre>[akana@lm-pm8x-16 bin]$ cp /home/akana/ojdbc7.jar /opt/akana/plat8/instances/lm/deploy/
[akana@lm-pm8x-16 bin]$</pre>

<p>Start the new container. Below, the container is started in the background via the <strong>-bg</strong> parameter:</p>
<pre>[akana@lm-pm8x-16 bin]$ ./startup.sh lm -bg
Starting instance [lm]
[akana@lm-pm8x-16 bin]$</pre>

<p>Install the Lifecycle Manager feature and configuration by navigating to its Akana Administration console. Example URL:</p>
<pre>http://lm-pm8x-16.local.akana.com:9900/admin/login.html</pre>

<p><img src="images/SM_upgrade80_82_01.jpg"  alt="Akana Administration Console login page" /> </p>
<p>SM_upgrade80_82_01.jpg </p>
<p>From the <strong>Available Features</strong> tab, select the <strong>Akana Lifecycle Manager</strong> feature, and then click the <strong>Install Feature</strong> button at the bottom right.</p>
<p>After the Feature Resolution process completes, click the <strong>Install Feature</strong> button at the bottom right of the popup dialog:</p>
<p><img src="images/SM_upgrade80_82_02.jpg" alt="Feature Resolution Report" /> </p>
<p>Proceed through the configuration tasks until you reach the <strong>Configure Database Options</strong> wizard, and then select <strong>Use existing database</strong>, as shown below.</p>
<p><img src="images/SM_upgrade80_82_03.jpg"  alt="Configure Database Options wizard" /> </p>
<p>Populate the <strong>Configure Database Options</strong> Wizard with your database schema connection information. An example is shown below.</p>
<p><img src="images/SM_upgrade80_82_04.jpg"  alt="Configure Database Options wizard: Database Details" /> </p>
<p>Proceed to the <strong>Initialize Repository Database</strong> task, and enter the Oracle SYSTEM user credentials or equivalent:</p>
<p><img src="images/SM_upgrade80_82_05.jpg"  alt="Initialize Repository Database" /> </p>
<p>When you click <strong>Finish</strong> on the <strong>Initialize Repository Database</strong> task, you'll be prompted to restart the container. It's best to cancel at this point, and set up the SuperUser password (<strong>Configuration</strong> tab &gt; <strong>com.soa.repository</strong> &gt; <strong>repository.config.superUserPassword</strong>) before restarting; otherwise, you'll need to log back in to the Akana Administration Console for the container, and then set up the SuperUser password separately.</p>
<p>The restart prompt is shown below. Click <strong>Cancel</strong>.</p>
<p><img src="images/SM_upgrade80_82_06.jpg"  alt="Restart prompt" /> </p>
<p>Set up the SuperUser password (<strong>Configuration</strong> &gt; <strong>com.soa.repository</strong> &gt; <strong>repository.config.superUserPassword</strong>), and save.</p>
<p><img src="images/SM_upgrade80_82_07.jpg"  alt="Setting up the SuperUser password" /> </p>
<p>When you've set the superUserPassword value, navigate to the <strong>System</strong> tab and click the red [<strong>Restart</strong>] button.</p>
<p>This completes the upgrade process using the second method, <strong>Remove and re-create the container</strong>.</p>
<p><a href="#top">back to top</a></p>



<div class = "divider1"></div>



<h3 id="related_topics">Related Topics</h3>
<table width="700" border="0" cellspacing="0" cellpadding="2" class="doctable">
  <tr style="vertical-align:top;">
    <td width="300">
      <ul>
        <li><a href="http://docs.akana.com/sp/platform_install/installing_akana_platform.htm">Installing Akana Platform 8.x</a></li>
        <li><a href="../install/install_lm_v80x.htm">Installing Lifecycle Manager 8.0.x</a></li>
      </ul>
    </td>
    <td width="400">
      <ul>
        <li><a href="http://docs.akana.com/sp/platform_install/installing_akana_api_platform_v82.htm">Installing the Akana API Platform 8.2x</a></li>
      </ul>
    </td>
  </tr>
</table>