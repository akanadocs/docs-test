---
layout: page
title: Upgrading LM
description: Learn how to upgrade Lifecycle Manager.
product: lm
category: ref
weight: 10
type: page
nav-title: Upgrading LM
---
<h2><a name="top"></a>Upgrading Lifecycle Manager</h2>
<p>This document includes instructions for upgrading Lifecycle Manager&nbsp;from version 7.1x to 8.0, and from version 8.0&nbsp;to 8.0.x.</p>

<ol class="table_of_contents">
  <li><a href="#lm_upgrade_80_80x">Upgrading Lifecycle Manager from Version 8.0 to Version 8.0.x</a>
    <ul>
      <li><a href="#01_00">Overview</a></li>
      <li><a href="#01_01">Method 1: Upgrade Existing Container</a></li>
      <li><a href="#01_02">Method 2: Remove/Re-Create Target Container</a></li>
    </ul>
  </li>
  <li><a href="#lm_upgrade_71_80">Upgrading Lifecycle Manager from Version 7.1 to Version 8.0.0</a>
    <ol>
      <li><a href="#upgrade_71_80_01">Pre-Install Instructions</a></li>
      <li><a href="#upgrade_71_80_02">Install the upgrade</a></li>
      <li><a href="#upgrade_71_80_03">Verify that the upgrade was successful</a></li>
      <li><a href="#upgrade_71_80_04">Post-Install Instructions</a></li>
    </ol>
  </li>
</ol>



<div class = "divider1"></div>



<a name="lm_upgrade_80_80x"></a><h3>Upgrading Lifecycle Manager from Version 8.0 to Version 8.0.x</h3>
<p>These upgrade instructions are for a scenario where you are upgrading <strong>from</strong> an earlier version of Lifecycle Manager 8.0.x (8.0.0 or newer) <strong>to</strong> a later version.</p>
<p><strong>Note</strong>: If you're currently using a legacy version such as 7.1.x or below, you'll need to follow the 7.1.x to 8.0 instructions. In that case, you can upgrade directly to the desired 8.0.x version; you don't need to upgrade to 8.0.0 and then to 8.0.x. For upgrade instructions from earlier versions to version 8.0, refer to either of these locations:</p>
<ul>
  <li>The Readme file in the LM folder on the <a href="https://library.akana.com/display/MAIN/Downloads" title="Akana support site" target="_blank">Akana support site</a>. On the Downloads page, choose <strong>Lifecycle Manager</strong>&nbsp;&gt; <strong>LM 8.0.x</strong>&nbsp;&gt; <strong>Documentation</strong>&nbsp;&gt;<strong> v8.xxx_OSGi-README.html</strong>.</li>
  <li> The applicable section in this document: <a href="#lm_upgrade_71_80">Upgrading Lifecycle Manager from Version 7.1 to Version 8.0.0</a>.</li>
</ul>
<h5 class="stamp">Supported Platforms: 8.2.3</h5>



<a name="01_00"></a><h4>Overview</h4>
<p>There are two approaches to upgrading an existing LM 8.0.x (Akana Platform) container:</p>
<ol>
  <li><a href="#01_01">Method 1: Upgrade Existing Container</a>: Upgrade the existing container using the pre-existing Akana Platform <strong>configurator</strong> container to process a target container upgrade.</li>
  <li><a href="#01_02">Method 2: Remove/Re-Create Target Container</a>: Remove and re-create the target container (reconnecting to the existing DB schema). This requires your existing database schema connection information along with your database credentials (Oracle SYSTEM credentials or equivalent), for the <strong>Initialize Repository Database</strong> task.</li>
</ol>
<p>There might be certain scenarios where the first method might be problematic; specifically, when the new version includes feature bundles that have been renamed, removed, or consolidated, which could result in mismatched or orphaned bundles that might conflict with new bundles.</p>
<p>These scenarios will be called out in the specific version release notes. In these specific versions, you will be directed to use the second method, container removal/re-creation.</p>
<p>Before you begin either method, the first step is to download the required files.</p>
<h5>Downloading the files</h5>
<p>You'll need to:</p>
<ol>
  <li>Create a folder for your installation; for example, <strong>LM801</strong>.</li>
  <li>Gather the installation ZIP files from the Akana Support site:
    <ol>
      <li>Download the Akana Platform installation files</li>
      <li>Download the Lifecycle Manager ZIP file</li>
      <li>Download the Java Clients file</li>
    </ol>
  </li>
</ol>
<p>For detailed instructions, refer to the Lifecycle Manager installation doc: <a href="../install/install_lm_v80x.htm#01_gather_zip_files">Step 1: Gather ZIP files and download to the install folder</a>. </p>
<p><a href="#top">back to top</a></p>



<a name="01_01"></a><h4>Method 1: Upgrade Existing Container</h4>
<p>The general steps of the first method, upgrading the existing container, are given below.</p>
<p>The Akana Platform provides an existing <strong>configurator</strong> container that, when invoked with an appropriate set of properties, upgrades the designated target container with the most recent feature bundles found in the [platform_home]/lib directory.</p>
<p>If you are running the Akana Platform on Windows or another desktop environment, you can simply start up the configurator container without any parameters/properties, and you will be presented with a GUI dialog to select the container that you want to upgrade.</p>
<p>For example:</p>
<pre>c:\Akana\platform_home\bin\startup.bat configurator</pre>
<p>If you are running the Akana Platform on Linux (without a desktop environment), or choosing a silent install on Windows, you'll need to create an update properties file, and then invoke the configurator container in silent mode while pointing to that file. The file must contain two properties:</p>
<ul>
  <li><strong>container.instance.name</strong>, which corresponds to the container name being upgraded.</li>
  <li><strong>wizard.mode</strong>, with a value of <strong>update</strong>.</li>
</ul>
<p>An example of an update properties file is shown below. This example is named <strong>update-lm.properties</strong> to reflect the name of the container being upgraded; choose whatever name you want.</p>
<pre>[akana@lm-pm8x-16 ~]$ cat ~/update-lm.properties
container.instance.name=lm
wizard.mode=update</pre>

<p>Extract the new feature bundle to your Akana Platform home directory. In the example below, the Akana Platform home directory is <strong>/opt/akana/plat8</strong>:</p>
<pre>[akana@lm-pm8x-16 ~]$ unzip lifecyclemanager_8.0.2.00302.zip -d /opt/akana/plat8/
Archive:  lifecyclemanager_8.0.2.00302.zip
   creating: /opt/akana/plat8/lib/lifecyclemanager_8.0.2.00302/
  inflating: /opt/akana/plat8/lib/lifecyclemanager_8.0.2.00302/OpenSourceLicenses.txt
...</pre>
<p>Before upgrading an existing container, make sure that it's stopped/not running. In the example below, the target container name is <strong>lm</strong>:</p>
<pre>[akana@lm-pm8x-16 bin]$ ./shutdown.sh lm
Instance [lm] PID [48181] stopped
...
[akana@lm-pm8x-16 bin]$</pre>

<p>If you don't see the above <strong>Instance [instance_name] PID [pid#] stopped</strong> message, use the typical OS commands to verify that the Java process had been shut down; with Linux, you'd typically use the <strong>ps</strong> command. The example below positively shows that there are no active Java processes running:</p>
<pre>[akana@lm-pm8x-16 bin]$ ps -ef | grep java
akana    48404 47755  0 15:27 pts/1    00:00:00 grep --color=auto java
[akana@lm-pm8x-16 bin]$</pre>

<p>Purge the existing configurator container's <strong>cache</strong> directory, otherwise the configurator container may use some older cached feature bundles:</p>
<pre>[akana@lm-pm8x-16 ~]$ cd /opt/akana/plat8/bin/
[akana@lm-pm8x-16 bin]$ rm -rf /opt/akana/plat8/instances/configurator/cache/*
[akana@lm-pm8x-16 bin]$</pre>

<p>Invoke the configurator container in silent mode while specifying the full path to the upgrade properties file, as shown below. This is identical to the process used to create the LM container during initial product installation.</p>
<pre>[akana@lm-pm8x-16 bin]$ ./startup.sh configurator -Dsilent=true -Dproperties=/home/akana/update-lm.properties
Starting instance [configurator]
STARTED [35] bundle(s)
Beginning task: Completing wizard...
Creating snapshot...
...
Updated 38 bundle(s).
Updating "lm" instance directory...
Configuration Completed
Exiting...
STARTED [35] bundle(s)
[akana@lm-pm8x-16 bin]$</pre>

<p>Start the newly upgraded container. In this example, the container is started in the background via the <strong>-bg</strong> parameter:</p>
<pre>[akana@lm-pm8x-16 bin]$ ./startup.sh lm -bg
Starting instance [lm]
[akana@lm-pm8x-16 bin]$</pre>
<p>That concludes the product upgrade using the first method, upgrading an existing container.</p>
<p><a href="#top">back to top</a></p>



<a name="01_02"></a><h4>Method 2: Remove/Re-Create Target Container</h4>
<p>The general steps of the second method, removing and re-creating the target container, are given below.</p>
<p>This method essentially involves:</p>
<ol>
  <li>Removing the existing target container.</li>
  <li>Re-creating the container.</li>
  <li>Reinstalling the feature bundles you want (the Lifecycle Manager application).</li>
  <li>Connecting the container to the existing database schema.</li>
</ol>
<p>This process is very similar to the initial product installation; however, instead of creating a new database schema during the feature installation configuration tasks (the <strong>Database Wizard</strong> task), you'll choose to use an existing database schema. At that point, you'll need to provide the connection information to your existing DB schema; DB host, port, SID/service name, schema name, tablespace name, and password.</p>
<p>You can find all of these values, except the password, in the Administration Console for the existing container, under the <strong>Configuration</strong> tab&nbsp;&gt; <strong>com.soa.database.config</strong>&nbsp;&gt; <strong>com.soa.database.config.{uuid}</strong>. Please make sure that you have these values in hand before proceeding:</p>
<ul>
  <li>database (schema name)</li>
  <li>instanceName (service name)</li>
  <li>port (for the database)</li>
  <li>password (this will be encrypted in the Administration Console, so you'll need to obtain it from elsewhere)</li>
  <li>server (server hostname or IP address)</li>
  <li>type (for example, Oracle SID or Service Name)</li>
  <li>user (schema user name)</li>
</ul>
<p>You'll also need to have your database credentials (Oracle SYSTEM credentials or equivalent), to complete the feature installation <strong>Initialize Repository Database</strong> configuration task, just as you did during the initial product installation.</p>
<p>Prior to removing an existing container, make sure that it's stopped/not running. In the following example, the Akana Platform home directory is <strong>/opt/akana/plat8</strong> and the example target container name is <strong>lm</strong>:</p>
<pre>[akana@lm-pm8x-16 ~]$ cd /opt/akana/plat8/bin/
[akana@lm-pm8x-16 bin]$ ./shutdown.sh lm
Instance [lm] PID [48181] stopped
...
[akana@lm-pm8x-16 bin]$</pre>
<p>Remove the existing container's instance directory, being cautious to only remove the instance directory that you will be re-creating:</p>
<pre>[akana@lm-pm8x-16 bin]$ rm -rf /opt/akana/plat8/instances/lm/</pre>
<p>Purge the configurator container's cache, otherwise the configurator container may use some older feature bundles:</p>
<pre>[akana@lm-pm8x-16 bin]$ rm -rf /opt/akana/plat8/instances/configurator/cache/*</pre>
<p>Extract the new feature bundle to your Akana Platform home directory. In the example below, the Akana Platform home directory is /opt/akana/plat8:</p>
<pre>[akana@lm-pm8x-16 ~]$ unzip lifecyclemanager_8.0.2.00302.zip -d /opt/akana/plat8/
Archive: lifecyclemanager_8.0.2.00302.zip
   creating: /opt/akana/plat8/lib/lifecyclemanager_8.0.2.00302/
  inflating: /opt/akana/plat8/lib/lifecyclemanager_8.0.2.00302/OpenSourceLicenses.txt
...</pre>

<p>The container creation process is identical to container creation during the initial product installation. For details, please refer to the Install Guide. The example in this document shows container creation on Linux using silent mode.</p>
<p>Create a container properties file, or re-use an existing one. The properties file must contain the following five properties and their values:</p>
<ul>
  <li>container.instance.name</li>
  <li>credential.username</li>
  <li>credential.password</li>
  <li>default.host</li>
  <li>default.port</li>
</ul>
<p>For example:</p>
<pre>[akana@lm-pm8x-16 ~]$ cat lm.properties
container.instance.name=lm
credential.username = administrator
credential.password = password
default.host=lm-pm8x-16.local.akana.com
default.port=9900</pre>

<p>Invoke the Akana Platform's configurator container in silent mode using the container properties file to create the new container:</p>
<pre>[akana@lm-pm8x-16 ~]$ cd /opt/akana/plat8/bin/
[akana@lm-pm8x-16 bin]$ ./startup.sh configurator -Dsilent=true -Dproperties=/home/akana/lm.properties
Starting instance [configurator]
STARTED [35] bundle(s)
Beginning task: Completing wizard...
Beginning task: Container configuration...
Creating "lm" instance directory...
...
Container configured.
Configuration Completed
Exiting...
STARTED [35] bundle(s)
[akana@lm-pm8x-16 bin]$</pre>

<p>Because you deleted the old container, you'll need to make sure you copy the applicable database driver to the new container's <strong>deploy</strong>/ directory. See <a href="../install/install_lm_v80x.htm#database_drivers">Database drivers</a> (install doc). The example below is for Oracle:</p>
<pre>[akana@lm-pm8x-16 bin]$ cp /home/akana/ojdbc7.jar /opt/akana/plat8/instances/lm/deploy/
[akana@lm-pm8x-16 bin]$</pre>

<p>Start the new container. Below, the container is started in the background via the <strong>-bg</strong> parameter:</p>
<pre>[akana@lm-pm8x-16 bin]$ ./startup.sh lm -bg
Starting instance [lm]
[akana@lm-pm8x-16 bin]$</pre>

<p>Install the Lifecycle Manager feature and configuration by navigating to its Akana Administration console. Example URL:</p>
<pre>http://lm-pm8x-16.local.akana.com:9900/admin/login.html</pre>

<p><img src="images/LM_upgrade80_82_01_admin_console.jpg" alt="Akana Administration Console login page" /> </p>
<p>From the <strong>Available Features</strong> tab, select the <strong>Akana Lifecycle Manager</strong> feature, and then click the <strong>Install Feature</strong> button at the bottom right.</p>
<p>After the Feature Resolution process completes, click the <strong>Install Feature</strong> button at the bottom right of the popup dialog:</p>
<p><img src="images/LM_upgrade80_82_02_resolution_complete.jpg" alt="Feature Resolution Report" /> </p>
<p>Proceed through the configuration tasks until you reach the <strong>Configure Database Options</strong> wizard, and then select <strong>Use existing database</strong>, as shown below.</p>
<p><img src="images/LM_upgrade80_82_03_select_database_option.jpg" alt="Configure Database Options wizard" /> </p>
<p>Populate the <strong>Configure Database Options</strong> Wizard with your database schema connection information. An example is shown below.</p>
<p><img src="images/LM_upgrade80_82_04_specify_database_options.jpg" alt="Configure Database Options wizard: Database Details" /> </p>
<p>Proceed to the <strong>Initialize Repository Database</strong> task, and enter your database credentials (Oracle SYSTEM credentials or equivalent):</p>
<p><img src="images/LM_upgrade80_82_05_initialize_repository_database.jpg" alt="Initialize Repository Database" /> </p>

<p>At the <strong>Set Lifecycle Repository Superuser Password</strong> page, type in the password, confirm, and then click <strong>Finish</strong>.</p>
<p><img src="images/lm_install_05_05_superuser_password.jpg" alt="Setting up the superuser password" /></p>


<p>When you click <strong>Finish</strong> on the last task, you'll be prompted to restart the container, as shown below. Click <strong>OK.</strong></p>
<p><img src="images/LM_upgrade80_82_06_system_restart_prompt.jpg" alt="System restart prompt" /> </p>
<p><strong>Note</strong>: If you choose to restart later: when you're ready to restart, navigate to the <strong>System</strong> tab and click the red [<strong>Restart</strong>] button.</p>
<p>This completes the upgrade process using the second method, <strong>Remove and re-create the container</strong>.</p>
<p><a href="#top">back to top</a></p>




<div class = "divider1"></div>





<h3>Upgrading Lifecycle Manager from Version 7.1 to Version 8.0.0</h3>
<p>These upgrade instructions are for a scenario where you have Lifecycle Manager 7.1 installed and are upgrading <strong>from</strong> Lifecycle Manager 7.1 <strong>to</strong> Lifecycle Manager 8.0.0.</p>
<p>If you're installing Lifecycle Manager for the first time, refer to the <a href="../install/install_lm_v80x.htm">Lifecycle Manager 8.0  Installation Guide</a>.</p>
<p> If you're upgrading from a version earlier than 7.1, you'll first need to upgrade to 7.1.</p>
<p> If you are upgrading from 7.1, you can use any of the 7.1.x micro releases (including 7.1.6). Unlike the rule to sequentially iterate through the major or minor version releases, there's no need to do the same for the micro releases (such as 7.1.x). Each micro&nbsp;release includes all the incremental changes you'll need.</p>
<p>You can also refer to the Install and System Admin Docs for more general Lifecycle Manager information. Lifecycle Manager documentation is in either of two locations:</p>
<ul>
  <li>In the LM folder on the <a href="https://library.akana.com/display/MAIN/Downloads" title="Akana support site" target="_blank">Akana support site</a>. On the <strong>Downloads</strong> page, choose <strong>Lifecycle Manager</strong>. Choose the applicable version, and look in the <strong>Documentation</strong> subfolder.</li>
  <li>On the Akana documentation site: <a href="http://docs.akana.com/docs-test/lm/index.html" title="Akana docs site, LM section" target="_self">http://docs.akana.com/docs-test/lm/index.html</a>.</li>
</ul>
<a name="lm_upgrade_71_80"></a><h3>Upgrading Lifecycle Manager from Version 7.1 to Version 8.0.0</h3>
<p>Upgrading from 7.1 to 8.0.0 includes the following steps:</p>
<ol class="table_of_contents">
  <li><a href="#upgrade_71_80_01">Pre-Install Instructions</a></li>
  <li><a href="#upgrade_71_80_02">Install the upgrade</a></li>
  <li><a href="#upgrade_71_80_03">Verify that the upgrade was successful</a></li>
  <li><a href="#upgrade_71_80_04">Post-Install Instructions</a></li>
</ol>
<a name="upgrade_71_80_01" id="upgrade_71_80_01"></a>
<h5>Pre-Install Instructions</h5>
<ol>
  <li>Back up your database and the Lifecycle Manager 7.1 application home directory.
    <p>The LM 7.1 to 8.0 upgrade process is a migration to the LM 8.0 as a feature in the Akana Platform. You will follow the <a href="http://docs.akana.com/lm/install/install_lm_v80x.htm">Lifecycle Manager 8.0 install guide</a> up to the point of &quot;Step 5: Install and configure the Lifecycle Manager Feature&quot;; in this step, in the Database Wizard, you will choose to use an existing database. At this point, you will provide the relevant connection information to allow the connection to your existing database. You then continue with the steps from the Lifecycle Manager 8.0 install guide. For details, see <a href="#upgrade_71_80_02">Install the upgrade</a> below.</p>
  </li>
  <li>Record your current 7.1 application settings. You can do this by noting down the LM /admin console's Settings page values, and/or use the following database query:
    <pre>select * from installprops;</pre>
  </li>
  <li>Verify that there is enough free disk space on the application server:
    <ul>
      <li>volume for {platform_home} directories:  1GB</li>
      <li>volume for /tmp directories:  500MB</li>
      <li>volume for logs during upgrade: 125MB</li>
    </ul>
  </li>
  <li>Verify that there is enough available space on the database tablespaces for a data upgrade:
    <ul>
      <li>There should be at least 15% free space in each Lifecycle Manager tablespace.</li>
    </ul>
  </li>
  <li>Increase the number of application logs in your logging pool. Depending on the number of assets in your installation, the version 8.0 upgrade process doesn't contain any data upgrades, so there should be minimal log activity during the initial startup of the application. However, Akana typically recommends increasing the number of logs to at least 25. For details, refer to information about the Installation Admin command <strong>SetLoggingConfig</strong> in the Lifecycle Manager System Admin guide. After the upgrade, you can reset the number of logs in the pool to your steady-state operational level.</li>
  <li>App_%.log file locations when upgrading: as the LM 7.1 logging configuration is in the database, the LM app logs still persist in the pre-defined location (typically in <strong>[lm_home]/logs/webapp</strong>). Because of this, when installing Lifecycle Manager 8.0, the old LM 7.1 logging location directory must still exist, to ensure that any DataUpgrade entries are captured. After a successful upgrade, you can alter the logging configuration to adjust the location to the OSGi standard of <strong>[platform_home]/instances/[instance_name]/log</strong>.</li>
</ol>
<a name="upgrade_71_80_02" id="upgrade_71_80_02"></a>
<h5>Install the upgrade</h5>
<p>The only difference for the upgrade scenario is that when you're configuring the Lifecycle Manager feature for the database, you'll choose to use an existing database vs creating a new database. In the upgrade scenario, you'll point to your existing Lifecycle Manager 7.1&nbsp;database.</p>
<p>The steps are summarized below:</p>
<ol>
  <li><a href="../install/install_lm_v80x.htm#01_gather_zip_files">Step 1: Gather ZIP files and download to the install folder</a></li>
  <li><a href="../install/install_lm_v80x.htm#02_unzip_files">Step 2: Unzip installation files in the correct sequence</a></li>
  <li><a href="../install/install_lm_v80x.htm#03_lm_container">Step 3: Run Configurator to configure Lifecycle Manager container</a></li>
  <li><a href="../install/install_lm_v80x.htm#04_start_lm_instance">Step 4: Start the Lifecycle Manager instance</a></li>
  <li><a href="../install/install_lm_v80x.htm#05_lm_install">Step 5: Install and configure the Akana Lifecycle Manager Application feature</a>. In this step, rather than creating a new database, you'll point to the existing LM 7.1 database.</li>
  <li><a href="../install/install_lm_v80x.htm#06_extract_client_zips">Step 6: Extract javaclients.zip file and specify the URL in the configuration settings</a></li>
  <li><a href="../install/install_lm_v80x.htm#07_lm_config">Step 7: Update the Lifecycle Manager configuration settings</a></li>
  <li><a href="../install/install_lm_v80x.htm#08_lm_create_library">Step 8: Create a Lifecycle Manager Library</a></li>
</ol>
<a name="upgrade_71_80_03" id="upgrade_71_80_03"></a>
<h5>Verify that the upgrade was successful</h5>
<ul>
  <li>Review the log files for any error messages.</li>
  <li>Verify the upgrade by logging on to the Lifecycle Manager admin console:
    <ul>
      <li>http://{web.server.url.host}/<i>contextroot</i>/admin/mainMenu.do</li>
      <li>Verify that the Build number is <b>8.0.0.x</b>.</li>
    </ul>
  </li>
</ul>
<a name="upgrade_71_80_04" id="upgrade_71_80_04"></a>
<h5>Post-Install Instructions</h5>
<ul>
  <li>Navigate to the LM /admin console, then verify and update any settings as appropriate.</li>
  <li>Execute the following command (via the LM /admin console &gt; Execute Command):
    <pre>Fully Qualified Command Class Name: ClearAllUserUIProperties
Library:[choose each library]
Click [Invoke]</pre>
  </li>
  <li>Have each user upgrade the Repository Client (if it's installed) with the 8.0 version.</li>
</ul>
<p><a href="#top">back to top</a></p>



<div class = "divider1"></div>



<h3 id="related_topics">Related Topics</h3>
<table width="700" border="0" cellspacing="0" cellpadding="2" class="doctable">
  <tr style="vertical-align:top;">
    <td width="300">
      <ul>
        <li><a href="http://docs.akana.com/sp/platform_install/installing_akana_platform.htm">Installing Akana Platform 8.x</a></li>
        <li><a href="../install/install_lm_v80x.htm">Installing Lifecycle Manager 8.0.x</a></li>
      </ul>
    </td>
    <td width="400">
      <ul>
        <li><a href="http://docs.akana.com/sp/platform_install/installing_akana_api_platform_v82.htm">Installing the Akana API Platform 8.2x</a></li>
      </ul>
    </td>
  </tr>
</table>