<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<title>Policies for Policy Manager 8.x</title>
<link href="../../style/reset.css" rel="stylesheet" type="text/css" />
<link href="../../style/base.css" rel="stylesheet" type="text/css" />
<link href="../../style/document.css" rel="stylesheet" type="text/css" />

</head>
<body>
<div class="documentation supportContent">
<!-----
layout: page
title: Using the Auditing Service Policy
description: Learn how to create and configure an Auditing Service policy.
product: ag
category: learn
sub-nav-class: Policies - Operational
weight: 04
type: page
nav-title: Auditing Service
----->
<h2 id="top">Using the Auditing Service Policy</h2>
<p>Learn how to create and configure an Auditing Service policy.</p>
<p><strong>Note</strong>: the <a href="policy_op_basic_auditing.htm">Basic Auditing Policy</a> and <a href="policy_op_detailed_auditing.htm">Detailed Auditing Policy</a> are instances of the Auditing Service policy.</p>

<p>
<a href="about_policies_view.htm" class="button secondary">About Policies</a>  
<a href="policy_management.htm" class="button secondary">Managing Policies</a>  
<a href="policies_operational_about.htm" class="button secondary">About Operational Policies</a>
</p>


<div class = "divider1"></div>



<h3 style="color: gray;">Table of Contents</h3>
<ol class="table_of_contents">
	<li><a href="#introduction">Introduction</a></li>
	<li><a href="#auditing_service_policy_create">Creating an Auditing Service Policy</a></li>
	<li><a href="#auditing_service_policy_config">Configuring an Auditing Service Policy</a></li>
	<li><a href="#auditing_service_policy_options">Auditing Service Policy Options</a></li>
	<li><a href="#uc_policy_auditing_service">Auditing Service policy use cases</a></li>
</ol>
<div class = "divider1"></div>



<h3 id="introduction">Introduction</h3>
<p>The Auditing Service policy allows you to specify conditions under which messages will be audited.</p>
<p><a href="#top">back to top</a></p>



<h3 id="auditing_service_policy_create">Creating an Auditing Service Policy</h3>
<p>The first step in creating a policy is to define the basic policy information. Then, you can configure the policy details.</p>
<h5>To add an operational policy</h5>
<ol>
<li>Go to <strong>Workbench</strong> &gt; <strong>Browse</strong> &gt; <strong>Organization</strong>, and select <strong>Policies</strong> &gt; <strong>Operational Policies</strong>. The <strong>Policies Summary</strong> is displayed.</li>
<li>Click <strong>Add Policy</strong>.</li>
<li>Choose the policy type and click <strong>Next</strong>.</li>
<li>Specify a name (required) and description (optional) and click <strong>Finish</strong>. At the <strong>Completion Summary</strong>, Click <strong>Close</strong>. The <strong>Add Policy</strong> Wizard creates a draft policy instance that you can then configure on the <strong>Policy Details</strong> page.</li>
</ol>
<p>For more information, see <a href="policy_management.htm#add_policy">Add Policy</a>.</p>
<p>At this point, you've created the policy, but it doesn't do anything. The next step is to configure the policy details. See <a href="#auditing_service_policy_config">Configuring an Auditing Service Policy</a> below.</p>
<p><a href="#top">back to top</a></p>



<h3 id="auditing_service_policy_config">Configuring an Auditing Service Policy</h3>
<p>Once you've created the policy, you can configure the policy details that determine how the policy works. Then you can activate the policy so that it can be used.</p>
<h5>To configure an Auditing Service policy in Policy Manager</h5>
<ol>
	<li>In the Organization Tree, find the level where the policy was defined. Click to select.</li>
	<li>In the center pane, in the <strong>Auditing Service Policy</strong> section, click <strong>Modify</strong>. The <strong>Modify Auditing Service Policy</strong> overlay is displayed, as shown below.
		<p><img src="images/auditing_service_modify.jpg" alt="Modify Auditing Service Policy" /></p></li>
	<li>Specify values for the messages you want to apply the policy to, the audit identities, and the reporting options. For details on field values, see <a href="#auditing_service_policy_options">Auditing Service Policy Options</a> below.</li>
	<li>Click <strong>Apply</strong>.</li>
</ol>
<p>Now that the policy is defined, you can activate it and start using it. On the right, under <strong>Actions</strong>, choose <strong>Activate Policy</strong>.</p>
<p><a href="#top">Back to top</a></p>



<h3 id="auditing_service_policy_options">Auditing Service Policy Options</h3>
<p>The Auditing Service policy includes the options listed below.</p>


<dl>
<dt>Audit Messages</dt>
<dd>There are two options: <strong>Audit All Messages</strong> or <strong>Filter Messages</strong>.</dd>


<dt>Filter Settings</dt>
<dd>If you choose to filter messages, choose from the following options:
	<ul>
		<li><strong>Exchanges resulting in an error</strong>: Audits only messages with errors.</li>
		<li><strong>Percentage of exchanges</strong>: Audits a random sample of messages based on a specified percentage. If you choose this option, specify an integer percentage from 1 to 99.</li>
		<li><strong> 	Filter by message content</strong>: Allows you to filter the messages to be audited by providing one or more XPath expressions. This option includes a table where you can define <strong>Prefix</strong> and <strong>Namespace</strong> for each XPath expression. Click <strong>Add</strong> or <strong>Delete</strong> to modify the list. You can also sort the list by clicking the table header.</li>
		</ul>
</dd>


<dt>Audit Messages options</dt>
<dd>You can also tailor your message choices by using any combination of the following checkboxes:
	<ul>
		<li><strong>Audit Input Message</strong>: Audits input message content.</li>
		<li><strong>Audit Output Message</strong>: Audits output message content.</li>
		<li><strong></strong><strong>Audit Fault Message</strong>: Audits fault message content.</li>
		<li><strong>Audit Contract</strong>: Audits the contract governing a message.</li>
		<li><strong>Audit Message Size</strong>: Audits the size of messages in the exchange.</li>
		<li><strong></strong><strong>Audit Binding</strong>: Audits binding information.</li>
		<li><strong>Audit Transport</strong>: Only available if Audit Binding is checked. Audits transport information.</li>
	</ul>
</dd>


<dt>Audit Identities</dt>
<dd>Enables the auditing of specified identities included in a request message. You can choose: 
	<ul>
		<li><strong>Consumer</strong> (the default): Audits the consumer identity sent with a request message.</li>
		<li><strong>End-User</strong>: Audits the end-user identity sent with a request message.</li>
		<li><strong>Additional Subject Categories</strong>: Audits the identity associated with one or more specified Subject Categories sent with a request message. If you choose this option, you can create one or more user-defined subject categories that you want to use. You can also add or delete from the table.</li>
</ul>
</dd>


<dt>Reporting Options</dt>
<dd>Choose from the following reporting options:
	<ul>
		<li><strong>Log</strong>: Indicates that audit information should be logged.</li>
		<li><strong>Alert</strong>: Indicates that audit information should be delivered in an alert event.</li>
	</ul>
</dd>


</dl>
<p><a href="#top">back to top</a></p>





<h3 id="uc_policy_auditing_service">Auditing Service policy use cases</h3>
<p>Use cases are available for the following policies, which are implementations of the Auditing Service policy:</p>
<ul>
	<li>Basic Auditing Policy: see <a href="policy_op_basic_auditing.htm#uc_policy_qos_basic_auditing_pm">Basic Auditing Policy: use case for Policy Manager</a></li>
	<li>Detailed Auditing Policy: see <a href="policy_op_detailed_auditing.htm#uc_policy_qos_detailed_auditing_pm">Detailed Auditing Policy: use case for Policy Manager</a></li>
</ul>
<p><a href="#top">back to top</a></p>



<div class = "divider1"></div>



<h3 id="related_topics">Related Topics</h3>
<div class="relatedlinks">
<ul>
	<li><a href="about_policies_view.htm">About Policies</a></li>
	<li><a href="policy_management.htm">Managing Policies</a></li>
	<li><a href="policies_operational_about.htm">About Operational Policies</a></li>
</ul>
<ul>
	<li><a href="http://docs.akana.com/cm/learnmore/basics_glossary.htm">Glossary of Terms for the Developer Portal</a></li>
</ul>
</div>




</div>
</body>
</html>