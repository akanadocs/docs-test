---
layout: page
title: Using the JOSE Security Policy
description: Learn how to use the JOSE security policy to sign and encrypt message content.
product: ag
category: learn
sub-nav-class: Policies - Operational
weight: 04
type: page
nav-title: JOSE Security Policy - Using
---
<h2 id="top">Using the JOSE Security Policy</h2>
<p>Learn how to use the JOSE security policy to sign and encrypt message content.</p>
<p><a href="policy_management.htm" class="button secondary">Managing Policies</a> 
<a href="qos_policies.htm" class="button secondary">QoS Policies</a>
<!--<a href="../assets/policy_use_cases/pm_detailed_auditing_policy_use_cases.pdf" target="_blank" class="button secondary">Use Cases (Policy Manager-specific)</a>--></p>



<h5 class="stamp">Supported Platforms: 8.2x</h5>
<div class = "divider1"></div>



<h3 style="color: gray;">Table of Contents</h3>
<ol class="table_of_contents">
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#configuration">Configuration</a></li>
</ol>
<div class = "divider1"></div>



<a name="introduction"></a><h3>Introduction</h3>
<p>The JOSE Security Policy is an out-of-the-box operational policy that is part of the Policy Manager default installation. You can attach this policy to RESTful and Messaging services to secure any message content; it signs and/or encrypts the message content. Configuration options are flexible so that you can add more or less security as needed. You can also configure the Initiator Subject category that the authenticated identity will be used as.</p>
<p>This policy conforms to the following standards:</p>
<ul>
  <li>JSON Web Signature (JWS) (<a href="https://tools.ietf.org/html/rfc7515" title="JWS standard" target="_blank">https://tools.ietf.org/html/rfc7515</a>) </li>
  <li>JSON Web Encryption (JWE) (<a href="https://tools.ietf.org/html/rfc7516" title="JWE standard" target="_blank">https://tools.ietf.org/html/rfc7516</a>)</li>
</ul>
<p><a href="#top">back to top</a></p>



<a name="configuration"></a><h3>Configuration</h3>
<p>There are two main tasks in configuring the JOSE Security Policy:</p>
<ul>
  <li><a href="#config_policy_options">1 Configuring JOSE Security Policy Options</a></li>
  <li><a href="#config_security_options">2 Configuring JOSE Security Audit Options</a></li>
</ul>
<p><a name="config_policy_options"></a></p>
<h5>1: Configuring JOSE Security Policy Options</h5>
<p>There are five main configuration sections you can use to tailor your JOSE security policy options:</p>
<ul>
  <li><strong>Protection Scope</strong>: Identifies which messages in a message exchange will be protected by the policy. Choices:
<ul>
<li><strong>IN</strong>: protects all incoming messages.</li>
<li><strong>OUT</strong>: protects all outgoing messages.</li>
<li><strong>FAULT</strong>: protects all fault messages.</li>
</ul>
 </li>
  <li><strong>Serialization</strong>: You can specify Compact or JSON serialization.</li>
  <li><strong>Sign Content</strong>: If this box is checked, the content is signed using the selected Signature/MAC algorithm. If needed, you can check the optional Embed Key box to require that the public key (corresponding to the private key used to sign the content) is embedded in the JSON structure in the <strong>jwk</strong> header, so that it can be verified later.
  <p>By default, this checkbox is cleared, so this section is disabled. To enable it, just check the box.</p></li>
  <li><strong>Encrypt Conten</strong>t: if this box is checked, the content is encrypted using the selected Encryption Algorithm. You can also protect the encryption key by selecting an optional Key Management Algorithm. If needed, you can check the optional Embed Key box to require that the public key (corresponding to the private key used to sign the content) is embedded in the JSON structure in the <strong>jwk</strong> header, so that it can be verified later.
    <p>By default, this checkbox is cleared, so this section is disabled. To enable it, just check the box. The default Signature/MAC algorithm value is HS256, and the default Key Management Algorithm value is <strong>None</strong>.</p>
 </li>
  <li><strong>Initiator Subject Category</strong>: Here, you can specify the identity of the initiator of the message.This is the identity whose private key is used to sign the IN message and whose public key is used to encrypt OUT and FAULT messages. Predefined categories include <strong>Consumer</strong> and <strong>End-User</strong>. The default is <strong>Consumer</strong>. You can also choose <strong>User-Defined</strong> and specify a custom name. If you choose <strong>None</strong>, this indicates that the selection of the identity whose keys should be used for signing and encrypting content is left to the manageability container, not specified by this policy.</li>
</ul>


<a name="config_security_options"></a><h5>2: Configure JOSE Security Audit Options</h5>
<p>Choose from the available options controlling the audit data that is captured:</p>
<ul>
  <li><strong>Generate Audit Data</strong>: captures all message data, whether success or failure, for all message exchanges.</li>
  <li><strong>On Error Only</strong>: Captures audit data only when an error occurs on a message exchange.</li>
</ul>


<h5>3: Attach Policy</h5>
<p>Go to the <em>Policies</em> folder in the Root Organization and attach the policy to a web service, binding, or binding operation.</p>
<p><a href="#top">Back to top</a></p>

