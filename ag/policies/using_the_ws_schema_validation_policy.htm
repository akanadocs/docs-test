---
layout: page
title: Using the WS-Schema Validation Policy
description: Learn about the WS-Schema Validation Policy Assertion and policy configuration options.
product: ag
category: learn
weight:	5
sub-nav-class: Operational Policies
type: page
nav-title: Using the WS-Schema Validation Policy
---
  <h2 name="top">Using the WS-Schema Validation Policy</h2>
  <p>Learn about the WS-Schema Validation Policy Assertion and policy configuration options.  </p>

  <p>NOTE: This policy is only available in Policy Manager version 7.0 or greater.</p>

<a href="../assets/ws_schema_validation_policy_use_cases.pdf" target="_blank" class="button secondary">Use Cases</a>

<a href="policy_management.htm" class="button secondary">Managing Policies</a>




  <p></p>



  <div class = "divider1"></div>
   <h3 style="color: gray;">Table of Contents</h3>

   <ol class="table_of_contents">

 <li><a href="#introduction">Introduction</a></li>
 <li><a href="#assertion">WS-Schema Validation Policy Assertion</a></li>




  <li><a href="#configuration">Configuration</a></li>


  </ol>
  <div class = "divider1"></div><p></p>






<a name="introduction">
<h3>Introduction</h3></a>

<p>A common integration problem in an SOA occurs when consumers send messages to services that don&rsquo;t conform to the services&rsquo; message schemas. Typically this is caused by the versioning of a service&rsquo;s schema and a consumer sending message defined in the prior schema version. However it can also be a consumer&rsquo;s malicious attempt to cause a denial of service by sending invalid messages to a service. A Manageability Container can aid by validating the messages exchanged between the consumers and services against the service&rsquo;s published schema. </p>
<p>
  Configuring the SOA Container to perform schema validation of messages is performed by the definition of schema validation policies. The policies will indicate which messages to validate and possibly additional schemas to validate against that may not be defined in the service&rsquo;s WSDL document. Additional schemas are typically required when validating expected headers in a bound (SOAP) message.</p>
<p><a href="#top">Back to top</a></p>

 <a name="assertion">
<h3>WS-Schema Validation Policy Assertion</h3></a>


 <p>The syntax of the WS-Schema Validation Policy assertion is as follows:
</p>
 <h5>Syntax</h5>

 <p><img src="images/wsschema_syntax.jpg" width="588" height="152"></p>

 <dl>
   <dt>wsvp:WSSchemaValidation</dt>
<dd>WS-Schema Validation policy assertion element.</dd>
 </dl>

  <dl>
   <dt>wsvp:WSSchemaValidation/wsp:Policy</dt>
<dd>This element defines additional requirements for the WSSchemaValidation assertion. </dd>
 </dl>

  <dl>
   <dt>wsvp:WSSchemaValidation/wsp:Policy/wsvp:ValidateHeaders</dt>
<dd>This optional element is an assertion that specifies that (SOAP) headers must be validated. </dd> </dl>

 <dl>
   <dt> wsvp:WSSchemaValidation/wsp:Policy/wsvp:ValidateHeaders/{any}</dt>
<dd>This is an extensibility mechanism to allow additional elements to be specified.</dd>
 </dl>

  <dl>
   <dt>wsvp:WSSchemaValidation/wsvp:AdditionalSchema</dt>
<dd>This optional element defines a schema (by referencing it&rsquo;s URI) in addition to the message schema defined in the service&rsquo;s WSDL document that will be used when validating the message.</dd>
 </dl>
   <dl>
   <dt>wsvp: WSSchemaValidation/wsvp:AdditionalSchema /@{any}</dt>
<dd>Additional attributes MAY be specified but MUST NOT contradict the semantics of the [owner element]; if an attribute is not recognized, it SHOULD be ignored.<br>
wsvp: WSSchemaValidation /@{any}</dd>
 </dl>
    <dl>
   <dt>wsvp: WSSchemaValidation /@{any}</dt>
<dd>Additional attributes MAY be specified but MUST NOT contradict the semantics of the [owner element]; if an attribute is not recognized, it SHOULD be ignored.</dd>
 </dl>

    <dl>
   <dt>wsvp: WSSchemaValidation /{any}</dt>
<dd>This is an extensibility mechanism to allow additional elements to be specified. </dd>
 </dl>
<p>
<br>
  An example of a WS-Schema Validation Policy is illustrated below.</p>
  </dl>
  <img src="images/wsschema_example.jpg" width="600" height="153">
  <h5>Configuration Options</h5>
<p>The policy includes the following configuration options:</p>
<p>&nbsp;</p>
<table width="515" cellspacing="0px" class="doctable">
  <thead>
    <th width="155">Option</th>
    <th width="324">Description</th>
    <td width="28"></thead>
    <tr class="t2row">
      <td height="36">Select Schemas</td>
      <td>Displays a list of schemas that are available in the file system that can be selected and added to the policy. </td>
    </tr>
  <tr class="t1row">
    <td>Validation Mode</td>
    <td>Select Lax or Strict XML validation mode.<br>

<br>
<strong>Lax</strong> - Validates only the XML elements that have a namespace which matches a namespace of an associated schema. Elements with no namespace or those that do not have a namespace that matches a schema namespace are skipped and not validated. Lax validation is less stringent than strict validation and is the default validation type. <br><br>
      <strong>Strict</strong> - Validates all XML elements against the applied schemas. Each XML element must have a namespace that matches a namespace of an associated schema, otherwise the validation fails. Validates all XML elements against the applied schemas. Each XML element must have a namespace that matches a namespace of an associated schema, otherwise the validation fails. </td>
  </tr>
  <tr class="t2row">

  </tr>
</table>
<p><a href="#top">Back to top</a></p>



<a name="configuration">
<h3>Configuration</h3></a>



<p>Let's take a quick walkthrough of the WS-Schema Validation Policy   Policy configuration process to get your started.</p>
<h5>Step 1: Add Policy / Use System Policy</h5>

  <p>You can create a WS-Schema Validation policy instance using <strong>Add Policy</strong> in the <em>Policies &gt; Operational Policies</em> section.</p>

<h5>Step 2: Modify Policy</h5>
<p>When you <strong>Modify</strong> the WS-Schema Validation Policy on the <em>Policy Details</em> page the initial policy will look like this:</p>
<p><img src="images/modify_ws_schema_validation_policy.jpg" width="736" height="453"></p>
<h5>Step 3: Configure </h5>
<p>Configuring the WS-Schema Validation Policy is one step in a larger process.  To configure the WS-Schema Validation Policy:<ul class="usingOrderedList">
  <li>Select  the schemas you would like to add to the policy in the left column, and use<strong> &gt;</strong>&gt; to copy them to the right column.</li>
  <li>Select the validation mode (Lax or Strict)</li>
  <li>Review the <a href="ws_schema_validation_policy_use_cases.pdf" >usage scenarios</a> for each validation mode for the complete process.</li>
</ul>
<h5>Step 4: Attach Policy</h5>
<p>After you have saved your policy you can  attach it to a web service  or you can attach the policy at the Organization level and the policy will be active for all services defined within the orgnization. </p>
<p><img src="images/attach_ws_schema_validation_policy.jpg" width="513" height="221"></p>

<p><a href="#top">Back to top</a></p>

<div class = "divider1"></div>