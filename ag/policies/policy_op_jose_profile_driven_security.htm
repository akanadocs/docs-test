---
layout: page
title: Using the JOSE Profile-Driven Security Policy
description: Learn how to use the JOSE Profile-Driven Security Policy to supplement your JOSE Security Policy v2 with additional security standards such as RSA Adaptive Authentication for eCommerce, Visa Token Service, or UK Open Banking.
product: ag
category: learn
sub-nav-class: Policies - Operational
weight: 38
type: page
nav-title: JOSE Profile-Driven Security
---
<h1 id="top">Using the JOSE Profile-Driven Security Policy</h1>
<h4 class="stamp">Valid in version: 2021.1.0 and later</h4>
<p>Learn how to use the JOSE Profile-Driven Security Policy to supplement your JOSE Security Policy v2 with additional security standards such as RSA Adaptive Authentication for eCommerce, Visa Token Service, or UK Open Banking.</p>
<p>For information about using policies in the context of the Community Manager developer portal, see <a href="../../cm/learnmore/bus_admin_organizations.htm#h_business_policies">Business Policies</a>.</p>



<hr class="divide_hr" />
<h2 style="color: gray;">Table of Contents</h2>
<ol class="table_of_contents">
	<li><a href="#introduction">Introduction</a></li>
	<li><a href="#specifications">Specifications</a></li>
	<li><a href="#jose_profile_driven_create">Creating a JOSE Profile-Driven Security Policy</a></li>
	<li><a href="#jose_profile_driven_config_cm">Configuring the JOSE Profile-Driven Security Policy in Community Manager</a></li>
	<li><a href="#jose_profile_driven_config_cm_rsa_aaec3031">Configuring the JOSE Profile-Driven Security Policy: RSA-AAEC-3.0 and 3.1 settings</a>
		<ul>
		<li><a href="#jose_profile_driven_config_cm_rsa_aaec3031_inbound">Inbound Settings: RSA-AAEC-3.0 and 3.1 profiles</a></li>
		<li><a href="#jose_profile_driven_config_cm_rsa_aaec3031_outbound">Outbound Settings: RSA-AAEC-3.0 and 3.1 profiles</a></li>
		<li><a href="#jose_profile_driven_config_cm_rsa_aaec3031_properties">JOSE Profile-Driven Security Policy Properties: RSA-AAEC-3.0 and 3.1 profiles</a></li>
		</ul>
	</li>
	<li><a href="#jose_profile_driven_config_cm_visa_ts">Configuring the JOSE Profile-Driven Security Policy in Community Manager: Visa-TS-3.1 settings</a>
		<ul>
		<li><a href="#jose_profile_driven_config_cm_visa_ts_inbound">Inbound Settings: Visa-TS-3.1 profile</a></li>
		<li><a href="#jose_profile_driven_config_cm_visa_ts_oubound">Outbound Settings: Visa-TS-3.1 profile</a></li>
		<li><a href="#jose_profile_driven_config_cm_visa_ts_properties">JOSE Profile-Driven Security Policy Properties: Visa-TS-3.1 profile</a></li>
	</ul>
	</li>
	<li><a href="#jose_profile_driven_config_cm_ukob_312">Configuring the JOSE Profile-Driven Security Policy in Community Manager: UKOpenBanking-3.1.2_SETS settings</a>
		<ul>
		<li><a href="#jose_profile_driven_config_cm_ukob_312_oubound">Outbound Settings:UKOpenBanking-3.1.2_SETS profile</a></li>
		<li><a href="#jose_profile_driven_config_cm_ukob_312_properties">JOSE Profile-Driven Security Policy Properties: UKOpenBanking-3.1.2_SETS profile</a></li>
	</ul>
	</li>
	<li><a href="#jose_profile_driven_config_cm_rsa_aaec3031_example_31">Configuration example: RSA-AAEC-3.1</a></li>
	<li><a href="#jose_profile_driven_config_pm">Configuring the JOSE Profile-Driven Security Policy in Policy Manager</a></li>
	<li><a href="#jose_profile_driven_default_content_pm">Configuring the JOSE Profile-Driven Security Policy in Policy Manager: Default Content</a></li>
	<li><a href="#jose_profile_driven_validate_pm">Configuring the JOSE Profile-Driven Security Policy in Policy Manager: Validating the XML</a></li>
	<li><a href="#policy_activating">Activating a policy</a></li>
	<li><a href="#policy_attach">Attaching a policy</a></li>
</ol>
<hr class="divide_hr" />



<h2 id="introduction">Introduction</h2>
<p>The JOSE Security Policy v2 allows you to enforce security standards required by the JSON Web Signature (JWS) Unencoded Payload Option (<a href="https://tools.ietf.org/html/rfc7797" title="JWS standard" target="_blank">https://tools.ietf.org/html/rfc7797</a>) specification. However, there are other security specifications you might want to use in combination with it.</p>
<p>You can use the JOSE Profile-Driven Security Policy as a supplement to the JOSE Security Policy v2, using existing out of the box templates to set up your API Platform to comply with additional security standards such as:</p>
<ul>
	<li><a href="../../cm/learnmore/basics_glossary.htm#gl_visatokenservice">Visa Token Service</a></li>
	<li><a href="../../cm/learnmore/basics_glossary.htm#gl_rsa_aaec">RSA Adaptive Authentication for eCommerce</a> version 3.0</li>
	<li>RSA Adaptive Authentication for eCommerce version 3.1</li>
</ul>
<p><strong>Note</strong>: It's best to use the Community Manager portal for configuring this policy. In Policy Manager, you can add the JOSE Profile-Driven Security Policy and configure it via XML; in Community Manager, you can load the out-of-the-box templates and add your configuration settings in the additional user interface pages.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="specifications">Specifications</h2>
<p>This policy complies with/enforces the following standards:</p>
<ul>
	<li>JSON Web Signature (<a href="../../cm/learnmore/basics_glossary.htm#gl_jsonwebsignature">JWS</a>): <a href="https://tools.ietf.org/html/rfc7515" title="Link to the JWS specification, RFC-7515" target="_blank">https://tools.ietf.org/html/rfc7515</a>.</li>
	<li>JSON Web Encryption (<a href="../../cm/learnmore/basics_glossary.htm#gl_jsonwebencryption">JWE</a>) (<a href="https://tools.ietf.org/html/rfc7516" title="Link to the JWE specification, RFC-7516" target="_blank">https://tools.ietf.org/html/rfc7516</a>)</li>
	<li>JSON Web Key (<a href="../../cm/learnmore/basics_glossary.htm#gl_jsonwebkey">JWK</a>): <a href="https://tools.ietf.org/html/rfc7517" title="Link to the JWK specification, RFC-7517" target="_blank">https://tools.ietf.org/html/rfc7517</a></li>
	<li>JSON Web Algorithms (<a href="../../cm/learnmore/basics_glossary.htm#gl_jsonwebalgorithm">JWA</a>): <a href="https://tools.ietf.org/html/rfc7518" title="Link to the JWA specification, RFC-7518" target="_blank">https://tools.ietf.org/html/rfc7518</a></li>
</ul>
<p><a href="#top">Back to top</a></p>



<h2 id="jose_profile_driven_create">Creating a JOSE Profile-Driven Security Policy</h2>
<p>The first step in creating a policy is to define the basic policy information. You can add the policy in Policy Manager or in the Community Manager developer portal.</p>

<h4 id="proc_policy_op_add_pm">To add a JOSE Profile-Driven Security policy in Policy Manager</h4>
<ol>
	<li>Go to <strong>Workbench</strong> &gt; <strong>Browse</strong> &gt; <strong>Organization</strong>, and select <strong>Policies</strong> &gt; <strong>Operational Policies</strong>. The <strong>Policies Summary</strong> is displayed.</li>
	<li>Click <strong>Add Policy</strong>.</li>
	<li>At the <strong>Select Policy Creation Option</strong> page, do one of the following:
		<ul>
			<li><strong>Add Policy</strong>: from the drop-down list, choose the policy type.</li>
			<li><strong>Import Policy</strong>: Click <strong>Browse</strong> to import a valid JOSE Profile-Driven security policy XML definition file.</li>
		</ul>
	</li>
	<li>Click <strong>Next</strong>.</li>
	<li>In the <strong>Specify Policy Details</strong> page, specify:
		<ul>
			<li><strong>Policy Name</strong>: A short, descriptive name for the policy. Used on the policy summary page.</li>
			<li><strong>Description</strong>: A brief description of the policy. Include any key information relating to how the policy is used and what it does.</li>
		</ul>
	</li>
	<li>Click <strong>Finish</strong>.</li>
	<li>At the <strong>Completion Summary</strong> page, click <strong>Close</strong>. The <strong>Add Policy</strong> Wizard creates a draft policy instance that you can then configure on the <strong>Policy Details</strong> page.</li>
</ol>
<p>For more information, see <a href="policy_management.htm#add_policy">Add Policy</a>.</p>


<h4 id="proc_policy_op_add_cm">To add an operational policy in the Community Manager developer portal</h4>
<ol>
	
	<li>In the Developer Portal, go to <strong>More</strong> &gt; <strong>Organizations</strong> &gt; <strong>All Organizations</strong>.</li>
	<li>Find your organization on the list, and then click the title to view the <strong>Details</strong> page for the organization.</li>
	<li>On the left navigation bar, choose <strong>Policies</strong>. All policies associated with the organization are displayed.</li>
	<li>Click <strong>Add</strong>.</li>
	<li>On the <strong>Add Policy</strong> page, specify:
<ul>
			<li><strong>Policy Name</strong>: A short, descriptive name for the policy. Used on the policy summary page.</li>
			<li><strong>Policy Category</strong>: Choose <strong>Operational Policy</strong>.</li>
			<li><strong>Policy Sub-Type</strong>: Choose <strong>JOSE Profile-Driven Security Policy</strong>.</li>
			<li><strong>Policy Description</strong>: A brief description of the policy. Include any key information relating to how the policy is used and what it does.</li>
			</ul>
	</li>
	<li>Click <strong>Save</strong>.</li>
</ol>
<p>The next step is to configure the policy details. Follow the steps to configure in Community Manager as given below.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="jose_profile_driven_config_cm">Configuring the JOSE Profile-Driven Security Policy in Community Manager</h2>
<p>Once you've defined the basic policy information, you can configure the technical details that determine how the policy works when it's attached to a service. There are four policy configuration pages:</p>
<ul>
	<li>JOSE Profile-Driven Security Policy Configuration</li>
	<li>JOSE Profile-Driven Security Policy Inbound Settings</li>
	<li>JOSE Profile-Driven Security Policy Outbound Settings</li>
	<li>JOSE Profile-Driven Security Policy Properties</li>
</ul>
<p><strong>Note</strong>: You can also add the policy in Community Manager. See <a href="../../cm/learnmore/bus_admin_org_policies.htm#proc_policy_add">To add a policy</a> (Community Manager help).</p>

<h4 id="proc_config_jose_profile_driven_cm">To configure a JOSE Profile-Driven Security Policy in Community Manager</h4>
<ol>
	<li>Log in to the Community Manager developer portal as a Business Admin.</li>
	<li>Go to <strong>More</strong> &gt; <strong>Organizations</strong> &gt; <strong>All Organizations</strong>.</li>
	<li>Choose your organization.</li>
	<li>On the left navigation bar, choose <strong>Policies</strong>. All policies associated with the organization are displayed.</li>
	<li>Find the policy on the list and click to go to the <strong>Details</strong> page for the policy.</li>
	<li>In the Policy Summary section, click <strong>Edit</strong> to access the <strong>JOSE Profile-Driven Security Policy Configuration</strong> page.</li>
	<li>In the <strong>JOSE Profile-Driven Security Policy Configuration</strong> field, choose from the drop-down list to select a profile from the available options: 
		<ul>
			<li><strong>RSA-AAEC-3.0</strong>: RSA Adaptive Authentication for eCommerce version 3.0. See <a href="#jose_profile_driven_config_cm_rsa_aaec3031">Configuring the JOSE Profile-Driven Security Policy: RSA-AAEC-3.0 and 3.1 settings</a>.</li>
			<li><strong>RSA-AAEC-3.1</strong>: RSA Adaptive Authentication for eCommerce version 3.1. See <a href="#jose_profile_driven_config_cm_rsa_aaec3031">Configuring the JOSE Profile-Driven Security Policy: RSA-AAEC-3.0 and 3.1 settings</a>.</li>
			<li><strong>Visa-TS-3.1: Visa Token Service</strong>: See <a href="#jose_profile_driven_config_cm_visa_ts">Configuring the JOSE Profile-Driven Security Policy in Community Manager: Visa-TS-3.1 settings</a>.</li>
			<li><strong>UKOpenBanking-3.1.2_SETS</strong>. See <a href="#jose_profile_driven_config_cm_ukob_312">Configuring the JOSE Profile-Driven Security Policy in Community Manager: UKOpenBanking-3.1.2_SETS settings</a>.</li>
		</ul>
	</li>
	<li>Provided configuration options for the selected profile, for each of the three settings pages (Inbound, Outbound, and Properties). For information about the fields, refer to the linked sections provided above.</li>
	<li>When done, click <strong>Finish</strong>. </li>
</ol>
<p>After you've configured your policy, remember to activate it so that it can be used. See <a href="#policy_activating">Activating a Policy</a> below.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="jose_profile_driven_config_cm_rsa_aaec3031">Configuring the JOSE Profile-Driven Security Policy in Community Manager: RSA-AAEC-3.0 or 3.1 settings</h2>
<p>To configure your RSA-AAEC-3.0 or 3.1 profile, provide configuration settings on the following pages:</p>
<ul>
	<li><a href="#jose_profile_driven_config_cm_rsa_aaec3031_inbound">Inbound Settings: RSA-AAEC-3.0 and 3.1 profiles</a></li>
	<li><a href="#jose_profile_driven_config_cm_rsa_aaec3031_outbound">Outbound Settings: RSA-AAEC-3.0 and 3.1 profiles</a></li>
	<li><a href="#jose_profile_driven_config_cm_rsa_aaec3031_properties">JOSE Profile-Driven Security Policy Properties: RSA-AAEC-3.0 and 3.1 profiles</a></li>
</ul>

<h4 id="jose_profile_driven_config_cm_rsa_aaec3031_inbound">Inbound Settings: RSA-AAEC-3.0 and 3.1 profiles</h4>
<p>Specify applicable values for the following fields.</p>
<p><strong>Signature Verification Key Source</strong> section:</p>
<dl>
<dt>Authenticate Subject from Certificate</dt>
<dd>The source for the signature verification key. Options: Consumer, End User, Service, or User Defined (specify value).</dd>
</dl>
<p><strong>Message Decryption Key Source</strong> section:</p>
<dl>
<dt>Validate Certificate is Assigned to</dt>
<dd>The source location for the message decryption key. Options: Consumer, End User, Service, User Defined (specify value), or Platform Identity (specify value).</dd>
</dl>
<p>When done configuring inbound settings, click <strong>Next</strong>.</p>

<h4 id="jose_profile_driven_config_cm_rsa_aaec3031_outbound">Outbound Settings: RSA-AAEC-3.0 and 3.1 profiles</h4>
<p>On the next page, configure the outbound settings. Specify applicable values for the following fields.</p>
<p><strong>Message Signing Key Source</strong> section:</p>
<dl>
<dt>Private Key from API Platform</dt>
<dd>The source for the message signing key. The source must be a <strong>private</strong> key from the API Platform. Options: Consumer, End User, Service, User Defined (specify value), or Platform Identity (specify value).</dd>
</dl>
<p><strong>Message Encryption Key Source</strong> section:</p>
<dl>
<dt>Public Key from API Platform</dt>
<dd>The source location for the message encryption key. The source must be a <strong>public</strong> key from the API Platform. Options: Consumer, End User, Service, User Defined (specify value), or Platform Identity (specify value).</dd>
</dl>
<p>When done configuring outbound settings, click <strong>Next</strong>.</p>

<h4 id="jose_profile_driven_config_cm_rsa_aaec3031_properties">JOSE Profile-Driven Security Policy Properties: RSA-AAEC-3.0 and 3.1 profiles</h4>
<p>On the next page, configure additional properties for the policy. Some default properties and values are provided as part of the default profile. Add, modify, or delete property name/value pairs as needed to complete your policy configuration.</p>
<dl>
<dt>Name/value pair: clock.skew.secs</dt>
<dd>The clock skew value, in seconds. Default: 120.</dd>

<dt>Name/value pair: message.expiration.secs</dt>
<dd>The message expiration time, in seconds. Default: 60.</dd>

<dt>Java Cryptographic Provider</dt>
<dd>URL for the Java cryptographic provider.</dd>

<dt>Generate Audit Data</dt>
<dd>Check the box to activate this option. When you choose this option, you can check an additional box to choose <strong>On Error Only</strong>.</dd>

<dt>Verbose Error Responses</dt>
<dd>Check the box to activate this option.</dd>

<dt>Forced Diagnostic Logging</dt>
<dd>Check the box to activate this option.</dd>
</dl>
<p>That completes the policy configuration. Click <strong>Finish</strong>.</p>
<p>When you create and configure a policy, the policy is in <strong>Draft</strong> state. A policy in Draft state is not available for general use. The next step is to activate the policy: click <strong>Activate Policy</strong> and then confirm. See <a href="policy_management.htm#policy_activate">Activate a Policy</a>. The policy is then in <strong>Active</strong> state and is available for use.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="jose_profile_driven_config_cm_rsa_aaec3031_example_31">Configuration example: RSA-AAEC-3.1</h2>
<p>The configuration properties for a default RSA-AAEC-3.1 profile are shown below.</p>
<p>Inbound settings:</p>
<p><img src="images/jose_profile_driven_eg_rsa_31_inbound.png" alt="JOSE Profile-Driven Security Policy, configuration example, RSA-AAEC-3.1, inbound settings" /></p>
<p>Outbound settings:</p>
<p><img src="images/jose_profile_driven_eg_rsa_31_outbound.png" alt="JOSE Profile-Driven Security Policy, configuration example, RSA-AAEC-3.1, outbound settings" /></p>
<p><a href="#top">Back to top</a></p>



<h2 id="jose_profile_driven_config_cm_visa_ts">Configuring the JOSE Profile-Driven Security Policy in Community Manager: Visa-TS-3.1 settings</h2>
<p>To configure your Visa-TS-3.1 profile, provide configuration settings on the following pages:</p>
<ul>
	<li><a href="#jose_profile_driven_config_cm_visa_ts_inbound">Inbound Settings: Visa-TS-3.1 profile</a></li>
	<li><a href="#jose_profile_driven_config_cm_visa_ts_oubound">Outbound Settings: Visa-TS-3.1 profile</a></li>
	<li><a href="#jose_profile_driven_config_cm_visa_ts_properties">JOSE Profile-Driven Security Policy Properties: Visa-TS-3.1 profile</a></li>
</ul>

<h4 id="jose_profile_driven_config_cm_visa_ts_inbound">Inbound Settings: Visa-TS-3.1 profile</h4>
<p>Specify applicable values for the following fields.</p>
<p><strong>Signature Verification Key Source</strong> section:</p>
<dl>
<dt>Public Key from API Platform</dt>
<dd>The source for the signature verification key. Options: Consumer, End User, Service, User Defined (specify value), or Platform Identity (specify value).</dd>

<dt>Create Subject for API Platform Identity</dt>
<dd>The subject for the API Platform identity. Options: Consumer, End User, Service, or User Defined (specify value).</dd>
</dl>
<p><strong>Message Decryption Key Source</strong> section:</p>
<dl>
<dt>Private Key from API Platform</dt>
<dd>The source location for the message decryption key. The source must be a <strong>private</strong> key from the API Platform. Options: Consumer, End User, Service, User Defined (specify value), or Platform Identity (specify value).</dd>
</dl>
<p>When done configuring inbound settings, click <strong>Next</strong>.</p>

<h4 id="jose_profile_driven_config_cm_visa_ts_oubound">Outbound Settings: Visa-TS-3.1 profile</h4>
<p>On the next page, configure the outbound settings. Specify applicable values for the following fields.</p>
<p><strong>Message Signing Key Source</strong> section:</p>
<dl>
<dt>Private Key from API Platform</dt>
<dd>The source for the message signing key. Options: Consumer, End User, Service, User Defined (specify value), or Platform Identity (specify value).</dd>
</dl>
<p><strong>Message Encryption Key Source</strong> section:</p>
<dl>
<dt>Public Key from API Platform</dt>
<dd>The source location for the message encryption key. The source must be a <strong>public</strong> key from the API Platform. Options: Consumer, End User, Service, User Defined (specify value), or Platform Identity (specify value).</dd>
</dl>
<p>When done configuring outbound settings, click <strong>Next</strong>.</p>

<h4 id="jose_profile_driven_config_cm_visa_ts_properties">JOSE Profile-Driven Security Policy Properties: Visa-TS-3.1 profile</h4>
<p>On the next page, configure additional properties for the policy. Some default properties and values are provided as part of the default profile. Add, modify, or delete property name/value pairs as needed to complete your policy configuration.</p>
<dl>
<dt>Name/value pair: clock.skew.secs</dt>
<dd>The clock skew value, in seconds. Default: 120.</dd>

<dt>Name/value pair: issuer.cert.kid</dt>
<dd>The key ID value for the issuer certificate. Set it to the key ID of the issuer's keys.</dd>

<dt>Name/value pair: jose.element.name</dt>
<dd>A placeholder value for any JOSE standard element that might be needed for your policy configuration.</dd>

<dt>Name/value pair: visa.client.cert.kid</dt>
<dd>Set this property to the key ID of the Visa client certificate.</dd>

<dt>Java Cryptographic Provider</dt>
<dd>URL for the Java cryptographic provider.</dd>

<dt>Generate Audit Data</dt>
<dd>Check the box to activate this option. When you choose this option, you can check an additional box to choose <strong>On Error Only</strong>.</dd>

<dt>Verbose Error Responses</dt>
<dd>Check the box to activate this option.</dd>

<dt>Forced Diagnostic Logging</dt>
<dd>Check the box to activate this option.</dd>
</dl>
<p>That completes the configuration of the Visa-TS-3.1 profile for the policy. Click <strong>Finish</strong>.</p>
<p>When you create and configure a policy, the policy is in <strong>Draft</strong> state. A policy in Draft state is not available for general use. The next step is to activate the policy: click <strong>Activate Policy</strong> and then confirm. See <a href="policy_management.htm#policy_activate">Activate a Policy</a>. The policy is then in <strong>Active</strong> state and is available for use.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="jose_profile_driven_config_cm_ukob_312">Configuring the JOSE Profile-Driven Security Policy in Community Manager: UKOpenBanking-3.1.2_SETS</h2>
<p>The <strong>UKOpenBanking-3.1.2_SETS</strong> profile supports the Event Notification API which is defined as part of the UK Open Banking standard (see <a href="https://openbankinguk.github.io/read-write-api-site3/v3.1.4/profiles/event-notification-api-profile.html" title="Link to Event Connection API Profile document" target="_blank">https://openbankinguk.github.io/read-write-api-site3/v3.1.4/profiles/event-notification-api-profile.html</a>). It specifically addresses aggregated polling of <a href="../..//cm/learnmore/basics_glossary.htm#gl_securityeventtoken">Security Event Tokens</a>.</p>
<p>This profile would typically be applied to messages that have a JSON payload and include an object that is a group of Security Event Tokens. Each Security Event Token becomes an individually signed <a href="../../cm/learnmore/basics_glossary.htm#gl_jsonwebsignature">JSON web signature (JWS)</a>.</p>
<p>For more information, see <a href="https://datatracker.ietf.org/doc/html/rfc8417" title="Link to Security Event Token (SET) specification" target="_blank">https://datatracker.ietf.org/doc/html/rfc8417</a> (Security Event Token specification).</p>
<p>To configure your UK Open Banking 3.1.2 SETS profile, provide configuration settings on the following pages:</p>
<ul>
	<li><a href="#jose_profile_driven_config_cm_ukob_312_oubound">Outbound Settings: UKOpenBanking-3.1.2_SETS</a></li>
	<li><a href="#jose_profile_driven_config_cm_ukob_312_properties">JOSE Profile-Driven Security Policy Properties: UKOpenBanking-3.1.2_SETS</a></li>
</ul>

<h4 id="jose_profile_driven_config_cm_ukob_312_inbound">Inbound Settings: UKOpenBanking-3.1.2_SETS profile</h4>
<p>The <strong>UKOpenBanking-3.1.2_SETS</strong> profile is not applicable to inbound messages.</p>
<p>In the Community Manager developer portal user interface, the following fields are display-only:</p>
<ul>
	<li>Signature Verification Key Source</li>
	<li>Message Decryption Key Source</li>
</ul>
<p>Just click <strong>Next</strong>.</p>

<h4 id="jose_profile_driven_config_cm_ukob_312_oubound">Outbound Settings: UKOpenBanking-3.1.2_SETS profile</h4>
<p>On the <strong>JOSE Profile-Driven Security Policy Outbound Settings</strong> page, you can change the message signing key source:</p>
<ul>
	<li>Message Signing Key Source: Under <strong>Private Key from API Platform</strong>, specify key source. Options: Consumer (the default), End User, Service, User Defined (specify value), or Platform Identity (specify value).</li>
	<li>Message Encryption Key Source:  display-only.</li>
</ul>
<p>Just click <strong>Next</strong>.</p>

<h4 id="jose_profile_driven_config_cm_ukob_312_properties">JOSE Profile-Driven Security Policy Properties: UKOpenBanking-3.1.2_SETS profile</h4>
<p>On the next page, configure additional properties for the policy. Some default properties and values are provided as part of the default profile. Add, modify, or delete property name/value pairs as needed to complete your policy configuration.</p>
<dl>
<dt>Name/value pair: ukob.outbound.iss.header</dt>
<dd>The value for the http://openbanking.org.uk/iss <a href="../../cm/learnmore/basics_glossary.htm#gl_iss_claim">iss</a> (issuer) header field; the subject DN of the signing certificate.</dd>

<dt>Name/value pair: ukob.outbound.tan.header</dt>
<dd>The value for the <a href="../../cm/learnmore/basics_glossary.htm#gl_tan">tan</a> (trust anchor) header field; required in the JOSE header per the Open Banking 3.1 specification. Per the specification, the <strong>tan</strong> header is a string consisting of a domain name that is registered to and identifies the Trust Anchor that hosts the public counter-part of the key used for signing.</dd>

<dt>Name/value pair: ukob.outbound.kid.header</dt>
<dd>The default value for the outbound <a href="../../cm/learnmore/basics_glossary.htm#gl_kid">kid</a> JOSE header name&#8212;the header that the receiver, such as a trading partner, will use to find the signature verification certificate.</dd>
<dd>The value depends on the environment. Refer to the Open Banking 3.1 specification: <a href="https://openbanking.atlassian.net/wiki/spaces/DZ/pages/937656404/Read+Write+Data+API+Specification+-+v3.1#Read/WriteDataAPISpecification-v3.1-ProcessforSigningaPayload" title="https://openbanking.atlassian.net/wiki/spaces/DZ/pages/937656404/Read+Write+Data+API+Specification+-+v3.1#Read/WriteDataAPISpecification-v3.1-ProcessforSigningaPayload" target="_blank">https://openbanking.atlassian.net/wiki/spaces/DZ/pages/937656404/Read+Write+Data+API+Specification+-+v3.1#Read/WriteDataAPISpecification-v3.1-ProcessforSigningaPayload</a> (Step 2).</dd>

<dt>Name/value pair: sets.json.path</dt>
<dd>A <a href="../../cm/learnmore/basics_glossary.htm#gl_jsonpath">JSONPath</a> expression that results in a list of the <a href="../..//cm/learnmore/basics_glossary.htm#gl_securityeventtoken">SET</a> elements.</dd>
<dd>In the response message there is a JSON object that contains a list of name/values, where the values are the SET elements to be signed. This JSONPath expression results in pulling the SET elements out individually so that they can be signed.</dd>
<dd>Default value: $.sets[*].</dd>

<dt>Java Cryptographic Provider</dt>
<dd>URL for the Java cryptographic provider.</dd>

<dt>Generate Audit Data</dt>
<dd>Check the box to activate this option. When you choose this option, you can check an additional box to choose <strong>On Error Only</strong>.</dd>

<dt>Verbose Error Responses</dt>
<dd>Check the box to activate this option.</dd>

<dt>Forced Diagnostic Logging</dt>
<dd>Check the box to activate this option.</dd>
</dl>
<p>That completes the configuration of the UKOpenBanking-3.1.2_SETS profile for the policy. Click <strong>Finish</strong>.</p>
<p>When you create and configure a policy, the policy is in <strong>Draft</strong> state. A policy in Draft state is not available for general use. The next step is to activate the policy: click <strong>Activate Policy</strong> and then confirm. See <a href="policy_management.htm#policy_activate">Activate a Policy</a>. The policy is then in <strong>Active</strong> state and is available for use.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="jose_profile_driven_config_pm">Configuring the JOSE Profile-Driven Security Policy in Policy Manager</h2>
<p>Once you've defined the basic policy information, you can configure the technical details that determine how the policy works when it's attached to a service.</p>
<p>In Policy Manager, you can configure by editing or uploading XML. In the Community Manager portal you can configure via the user interface (recommended). See <a href="#jose_profile_driven_config_cm">Configuring the JOSE Profile-Driven Security Policy in Policy Manager: Default Content</a> below.</p>

<h4 id="proc_config_jose_profile_driven_pm">To configure a JOSE Profile-Driven Security Policy in Policy Manager</h4>
<ol>
	<li>Go to <strong>Workbench</strong> &gt; <strong>Browse</strong> &gt; <strong>Organization</strong> and select the <strong>Policies</strong> &gt; <strong>Operational Policies</strong> folder. The <strong>Policies Summary</strong> is displayed.</li>
	<li>Find the policy on the list and double-click to go to the <strong>Details</strong> page for the policy.</li>
	<li>In the second panel, click <strong>Modify</strong> to access the <strong>Modify XML Policy</strong> page. The default content is shown (see <a href="#jose_profile_driven_default_content_pm">Configuring the JOSE Profile-Driven Security Policy in Policy Manager: Default Content</a> below).</li>
	<li>Modify the XML as needed by typing or pasting content.</li>
	<li>As needed, use the validation options. See <a href="#jose_profile_driven_validate_pm">Configuring the JOSE Profile-Driven Security Policy in Policy Manager: Validating the XML</a> below.</li>
	<li>Click <strong>Apply</strong>.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<h2 id="jose_profile_driven_default_content_pm">Configuring the JOSE Profile-Driven Security Policy in Policy Manager: Default Content</h2>
<p>The default content on the <strong>Modify XML Policy</strong> page is shown below.</p>
<pre>&lt;wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" visibility="private"&gt;
  &lt;ns2:JoseExtPolicy xmlns:ns2="http://federatedgovernance.org/policy/jose_ext/"&gt;
    &lt;ns2:properties /&gt;
    &lt;ns2:audit&gt;NONE&lt;/ns2:audit&gt;
    &lt;ns2:verboseErrors&gt;false&lt;/ns2:verboseErrors&gt;
    &lt;ns2:forceLogging&gt;false&lt;/ns2:forceLogging&gt;
  &lt;/ns2:JoseExtPolicy&gt;
&lt;/wsp:Policy&gt;
</pre>
<p>If you're creating the policy by editing or pasting the XML in Policy Manager, update the XML as needed, validate, and save. You can also configure via the user interface in the Community Manager portal (recommended): see <a href="#jose_profile_driven_config_cm">Configuring the JOSE Profile-Driven Security Policy in Community Manager</a> above.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="jose_profile_driven_validate_pm">Configuring the JOSE Profile-Driven Security Policy in Policy Manager: Validating the XML</h2>
<p>If you're creating the policy by editing or pasting the XML in Policy Manager, after you've modified the default content, you can validate it. It's best to use both options:</p>
<ul>
	<li><strong>Check Syntax</strong>: Validates the XML syntax to make sure that it is well-formed.</li>
	<li><strong>Check Schema</strong>: Validates the XML against the specified schema to make sure it conforms with the schema.</li>
</ul>
<p>Fix as needed to make sure the XML is valid before saving the policy.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="policy_activating">Activating a policy</h2>
<p>When you create and configure a policy, the policy is in <strong>Draft</strong> state. A policy in Draft state is not available for general use. The next step is to activate the policy: click <strong>Activate Policy</strong> and then confirm. See <a href="../../cm/learnmore/bus_admin_org_policies.htm#business_policies_activate_draft">How do I activate a policy that's in Draft state?</a> The policy is then in <strong>Active</strong> state and is available for use.</p>
<p><a href="#top">Back to top</a></p>



<h2 id="policy_attach">Attaching a policy</h2>
<p>To use the JOSE Profile-Driven Security Policy:</p>
<ul>
	<li>In the Community Manager developer portal, go to the API implementation policies section and click <strong>Attach</strong>. For instructions, see <a href="../../cm/learnmore/apiadmin_implementations.htm#h_impl_policies">Managing Policies for an API Implementation</a>.</li>
	<li>In Policy Manager, go to the <strong>Policies</strong> folder in the respective organization and attach the policy to a web service, binding, or binding operation.</li>
</ul>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />



<h2 id="related_topics">Related Topics</h2>
<div class="relatedlinks">
<ul>
	<li><a href="about_policies_view.htm">About Policies</a></li>
	<li><a href="policy_management.htm">Managing Policies</a></li>
	<li><a href="policies_operational_about.htm">About Operational Policies</a></li>
</ul>
<ul>
	<li><a href="../../cm/learnmore/basics_glossary.htm">Glossary of Terms for the Community Manager developer portal</a></li>
</ul>
</div>