---
layout: page
title: Using the Dynamic User-Defined DataPower Policy Component (Pipeline)
description: Learn how to reference  a "User-Defined Category" that is defined in a non-pipeline version of the Dynamic User-Defined DataPower Policy and configure policy attachments.
product: ag
category: learn
weight:	10
sub-nav-class: DataPower
type: page
nav-title: Using the Dynamic User-Defined DataPower Policy Component (Pipeline)
---
  <h2 name="top">Using the Dynamic User-Defined DataPower Policy Component (Pipeline)</h2>
  <p>Learn how to reference  a &quot;User-Defined Category" that is defined in a non-pipeline version of the Dynamic User-Defined DataPower  Policy and configure policy attachments.</p>


<a href="using_dynam_userdefined_dp_policy_nonpipeline.htm" class="button secondary">Dynamic User-Defined DataPower Policy (Non-Pipeline)</a>

<a href="datapower_policies.htm" class="button secondary">DataPower Policies</a><p></p>

<a href="../policies/policy_management.htm" class="button secondary">Managing Policies</a>

  <p></p>

  <div class = "divider1"></div>
  <h3 style="color: gray;">Table of Contents</h3>

   <ol class="table_of_contents">

 <li><a href="#introduction">Introduction</a></li>




  <li><a href="#configuration">Configuration</a></li>


  </ol>
  <div class = "divider1"></div><p></p>






<a name="introduction">
<h3>Introduction</h3></a>

<p>The "Dynamic User-Defined DataPower Policy Component" allows  you to reference one or more DataPower "Processing Rules" by allowing you to  dynamically attach to the non-pipeline version of the policy by referencing the  "User-Defined Category."</p>
<ul class="usingOrderedList">
  <li>
    <p>First, using the <strong>Add Policy Wizard</strong>, add a Dynamic  User-Defined DataPower Policy, define a "User-Defined Category" and add one or  more DataPower "Processing Rules."</p>
  </li>
  <li>
    <p>After this step is complete, add the Dynamic User-Defined  DataPower Policy Component to your Pipeline Policy and enter the  "User-Defined Category" specified in the non-pipeline version of the  policy.</p>
  </li>
  <li>
    <p>Each policy must be attached to a service operation. The  attachment sequence should be non-pipeline version first followed by the  pipeline version.</p>
  </li>
  <li>When the policy gets deployed with the service to DataPower, it  matches the specified "User-Defined Category" to the correct Dynamic  User-Defined DataPower Policy, searches for the name of each DataPower  "Processing Rule" (i.e., Rule Name) in the DataPower domain and executes the  rule based on the sequence specified in the policy.  </li>
</ul>
<p><a href="#top">Back to top</a></p>



<a name="configuration">
<h3>Configuration</h3></a>



<p>Let's take a quick walkthrough of the  User-Defined DataPower Policy Component configuration process to get your started.</p>
<p><em>Note: A Dynamic User-Defined DataPower Policy (non-pipeline) version must be  added using the Add Policy Wizard and defined and configured prior to this  configuration as the User-Defined Category from this policy is referenced in the  pipeline version of the policy.</em> See  <a href="using_dynam_userdefined_dp_policy_nonpipeline.htm"> Dynamic User-Defined DataPower Policy (Non-Pipeline)</a> for more information.</p>
<h5>Step 1: Add Policy / Use System Policy</h5>
<p>You can create a Pipeline Policy instance using <strong>Add Policy</strong> in the <em>Policies &gt; Operational Policies</em> section.</p>
<h5>Step 2: Modify Policy</h5>
<p>When you <strong>Modify</strong> the Pipeline Policy, and use <strong>Add Component</strong> to add the Dynamic User-Defined DataPower Policy Component, the<strong> Modify Pipeline Policy</strong> will look like this:</p>
<p><img src="images/dynamic_user_defined_datapower_component.jpg" width="604" height="417"></p>
<p>This component   can be used in the  Request Configuration, Response Configuration, or Fault Configuration. You can  position the component anywhere in the request, response, or fault.</p>
<h5>Step 3: Configure  </h5>

<p>The process of configuring the Dynamic User-Defined  DataPower Policy Component involves referencing a "User-Defined Category" that  is defined in a non-pipeline version of the Dynamic User-Defined DataPower  Policy. If you have not configured a Dynamic User-Defined DataPower Policy  see  <a href="using_dynam_userdefined_dp_policy_nonpipeline.htm">
 Dynamic User-Defined DataPower Policy (Non-Pipeline)</a> for more information.</p>
<p>To configure the Dynamic User-Defined DataPower  Policy Component, select the policy on the Modify Pipeline Policy screen and click <strong>Modify Component</strong>.  The <em>Modify Dynamic User-Defined  DataPower Policy Component</em> screen displays. Enter the category to reference in  the "User-Defined Category" field display and commit your changes.</p>
<p>For example, if the category you defined in the Dynamic User-Defined DataPower Policy (non-pipeline) is SampleCategory:</p>
<p><img src="images/sample_category.jpg" width="450" height="372"></p>
<p>You will enter SampleCategory in the User-Defined Category field on the Modify Dynamic User-Defined DataPower Policy Component screen.</p>
<p><img src="images/modify_dynam_userdefined_dp_policy_component.jpg" width="455" height="419">
<h5>Step 4: Attach Policy</h5>
<p>After you have saved your policy you must attach <em>both</em> the Dynamic User-Defined DataPower Policy Component and the Dynamic User-Defined DataPower  Policy that contains the User-Defined Category you referenced to  specific web service   or at the Organization level and the policy will be active for all services defined within the orgnization. The non-pipeline policy should be attached first as follows:</p>
<p><img src="images/dynam_userdefined_dp_component_pipeline_attach.jpg" width="660" height="275"></p>


<p><a href="#top">Back to top</a></p>

