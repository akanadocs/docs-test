---
layout: page
title: CA SiteMinder Use Cases
description: Use CA SiteMinder in a variety of different scenarios.
product: ag
category: learn
weight: 08
sub-nav-class: CA SiteMinder
type: page
nav-title: CA SiteMinder Use Cases
---
<h1 id="top">CA SiteMinder Use Cases</h1>
<p>Learn how to use CA SiteMinder in a variety of different usage scenarios.</p>
<hr class="divide_hr" />



<h2 style="color: gray;">Table of Contents</h2>
<ol class="table_of_contents">
	<li><a href="#ca_sm_uc_app_identity">Use Case #1: Using CA SiteMinder as Application Identity</a></li>
	<li><a href="#ca_sm_uc_username_password">Use Case #2: Using Username/Password Security with WS-Security Policy</a></li>
	<li><a href="#ca_sm_uc_session_cookie">Use Case #3: Using SMSESSION Cookie with HTTP Security Policy (Network Director)</a></li>
	<li><a href="#ca_sm_uc_session_cookie_ims">Use Case #4: Using SMSESSION Cookie with HTTP Security Policy (Intermediary for Microsoft)</a></li>
	<li><a href="#ca_sm_uc_basic_auth">Use Case #5: Basic Authentication using CA SiteMinder Identity</a></li>
	<li><a href="#ca_sm_uc_binary_security_token">Use Case #6: Using Binary Security Token with WS-Security Policy</a></li>
	<li><a href="#ca_sm_uc_single_signon_cm">Use Case #7: Set Up CA SiteMinder to Support Single Sign-On with Community Manager</a></li>
</ol>
<hr class="divide_hr" />



<h2 id="ca_sm_uc_app_identity">Use Case #1: Using CA SiteMinder as an Application Identity</h2>
<p>Learn how to use CA SiteMinder as an application identity.</p>
<p>Steps:</p>
<ol>
	<li><a href="#uc_casm_app_identity_intro">Introduction</a></li>
	<li><a href="#uc_casm_app_identity_s01">Step 1: Create Policy</a></li>
	<li><a href="#uc_casm_app_identity_s02">Step 2: Attach Policies</a></li>
	<li><a href="#uc_casm_app_identity_s03">Step 3: Configure Outbound Identities</a></li>
	<li><a href="#uc_casm_app_identity_s04">Step 4: Configure Message Processing</a></li>
	<li><a href="#uc_casm_app_identity_s05">Step 5: Test Configuration</a></li>
</ol>


<h3 id="uc_casm_app_identity_intro">Introduction</h3>
<p>This use case will use the <strong>Manage Outbound Identity </strong>option to send the CA SiteMinder identity to a downstream service that is enforcing Basic Authentication using the HTTP Security Policy. The consuming application (AccountManagerDocLiteralWrappedService_vs3_vs0) does not have a security policy and will only be used to pass the CA SiteMinder identity to the downstream application (AccountManagerDocLiteralWrappedService_vs3).</p>




<h3 id="uc_casm_app_identity_s01">Step 1: Create Policy</h3>
<ol>
	<li>Launch the <strong>Policy Manager Management Console. </strong>In the <strong>Policies</strong> folder, use <strong>Add Policy</strong> to create the following policy configurations.
		<p><img src="images/ca_siteminder_usecase_identity3.jpg" alt="" /></p>
		<p><img src="images/ca_siteminder_usecase_identity2.jpg" alt="" /></p></li>
</ol>



<h3 id="uc_casm_app_identity_s02">Step 2: Attach Policies</h3>
<ol>
	<li>Attach the policies to a virtual service.
		<p><img src="images/ca_siteminder_usecase_identity1.jpg" alt="" /></p></li>
</ol>



<h3 id="uc_casm_app_identity_s03">Step 3: Configure Outbound Identities</h3>
<ol>
	<li>On the <strong>Service Details</strong> of the virtual service, select <strong>Manage Outbound Identities</strong> from the Actions Portlet.</li>
	<li>Select <strong>Specify Outbound Identities</strong>, then click <strong>Add</strong> and configure the identity as illustrated below.
		<p><img src="images/ca_siteminder_usecase_identity4.jpg" alt="" /></p>
		<p><img src="images/ca_siteminder_usecase_identity5.jpg" alt="" /></p></li>
</ol>



<h3 id="uc_casm_app_identity_s04">Step 4: Configure Message Processing</h3>
<ol>
	<li>On the <strong>Service Details</strong> of the virtual service, select <strong>Configure Message Processing </strong> in the Actions Portlet set <strong>Preserve Binding Headers</strong> to <strong>All</strong>.
		<p><img src="images/ca_siteminder_usecase_identity6.jpg" alt="" /></p></li>
</ol>



<h3 id="uc_casm_app_identity_s05">Step 5: Test Configuration</h3>
<ol>
	<li>Send requests to the virtual service and the usage data in the <strong>Services</strong> &gt; <strong>Monitoring</strong> section.
		<p><img src="images/ca_siteminder_usecase_identity7.jpg" alt="" /></p>
		<p><img src="images/ca_siteminder_usecase_identity8.jpg" alt="" /></p></li>
</ol>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />



<h2 id="ca_sm_uc_username_password">Use Case #2: Using Username/Password Security with WS-Security Policy</h2>
<p>Learn how to authenticate a web service request with CA SiteMinder Username/Password with a WS-Security Policy.</p>
<p>Steps:</p>
<ol>
	<li><a href="#uc_sm_username_password">Introduction</a></li>
	<li><a href="#uc_sm_username_password_s01">Step 1: Create Policies</a></li>
	<li><a href="#uc_sm_username_password_s02">Step 2: Attach Policies</a></li>
	<li><a href="#uc_sm_username_password_s03">Step 3: Select UsernamePassword in Client</a></li>
	<li><a href="#uc_sm_username_password_s04">Step 4: Test Configuration</a></li>
</ol>


<h3 id="uc_sm_username_password">Introduction</h3>
<p>The WS-Security Username/Password Use Case client authentication is performed with a Username Token which appears at the SOAP layer as a signed supporting token that is always sent from the client to the service. The user is authenticated using username/password pass in the WS-Security header.</p>
<p>This use case is composed of the Authentication Policy, WS-Security Transport Binding Policy, and WS-Security Supporting Tokens Policy Authentication Policy.</p>




<h3 id="uc_sm_username_password_s01">Step 1: Create Policies</h3>
<ol>
	<li>Launch the <strong>Policy Manager Management Console. </strong>In the <strong>Policies</strong> folder, use <strong>Add Policy</strong> to create the following policy configurations.
<table class="doctable">
	<thead>
		<tr>
			<th>Policy Name</th>
			<th>Configuration Requirements</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Authentication Policy</td>
			<td>
				<ol>
					<li>Subject Category = End-User</li>
					<li>Domain (Realms) = CA SiteMinder</li>
				</ol></td>
		</tr>
		<tr>
			<td>WS-Security Transport Binding Policy</td>
				<td>Use default configuration.</td>
		</tr>
		<tr>
			<td>WS-Security Supporting Tokens Policy</td>
			<td><p>Use default configuration with the following changes:</p>
				<p>On the <strong>Specify Supporting Token</strong> Options screen:</p>
					<ol>
						<li>Click <strong>Add Token Choice</strong></li>
						<li>Select the Token Choice</li>
						<li>Click <strong>Add Token</strong></li>
					</ol>
				<p>On the <strong>Add Supporting Token</strong> screen:</p>
					<ol>
						<li>Token Type = Username</li>
						<li>Token Inclusion - Always to Recipient</li>
						<li>Subject Category - Consumer</li>
					</ol>
				<p>On the <strong>Specify Username Token Options</strong> screen:</p>
					<ol>
						<li>Version = UsernameToken profile 1.0</li>
					</ol>
			</td>
		</tr>
	</tbody>
</table>
<p><img src="images/ca_siteminder_usecase_username3.jpg" alt="" /></p>
<p><img src="images/ca_siteminder_usecase_username8.jpg" alt="" /></p>
	</li>
</ol>



<h3 id="uc_sm_username_password_s02">Step 2: Attach Policies</h3>
<ol>
	<li>Attach the policies to a virtual service.
		<p><img src="images/ca_siteminder_usecase_username1.jpg" alt="" /></p></li>
</ol>

<h3 id="uc_sm_username_password_s03">Step 3: Select UsernamePassword in Client</h3>
<ol>
	<li>Launch SOAPUI and select <strong>UsernamePassword</strong> for <strong>Outgoing WS-Security Configurations</strong>.
		<p><img src="images/ca_siteminder_usecase_username4.jpg" alt="" /></p>
		<p><img src="images/ca_siteminder_usecase_username5.jpg" alt="" /></p></li>
</ol>



<h3 id="uc_sm_username_password_s04">Step 4: Test Configuration</h3>
<p>Send requests to the virtual service and the usage data in the <strong>Services</strong> &gt; <strong>Monitoring</strong> section.</p>
<p><img src="images/ca_siteminder_usecase_username6.jpg" alt="" /></p>
<p><img src="images/ca_siteminder_usecase_username7.jpg" alt="" /></p>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />



<h2 id="ca_sm_uc_session_cookie">Use Case #3: Using SMSESSION Cookie with HTTP Security Policy </h2>
<p>Learn how to authenticate a web service request with CA SiteMinder using an SMSESSION cookie with an HTTP Security Policy.</p>
<p>Steps:</p>
<ol>
	<li><a href="#usecase_sessioncookie_intro">Introduction</a></li>
	<li><a href="#usecase_sessioncookie_s01">Step 1: Confirm SiteMinder Administrative Settings</a></li>
	<li><a href="#usecase_sessioncookie_s02">Step 2: Configure CA SiteMinder Identity System</a></li>
	<li><a href="#usecase_sessioncookie_s03">Step 3: Create Virtual Services</a></li>
	<li><a href="#usecase_sessioncookie_s04">Step 4: Create Policies</a></li>
	<li><a href="#usecase_sessioncookie_s05">Step 5: Attach Policies</a></li>
	<li><a href="#usecase_sessioncookie_s06">Step 6: Enable Preserve Transport Headers</a></li>
	<li><a href="#usecase_sessioncookie_s07">Step 7: Test Configuration</a></li>
</ol>


<h3 id="usecase_sessioncookie_intro">Introduction</h3>
<p>When a user in SiteMinder protected realm is authenticated, a cookie called SMSESSION is generated. This use case will test authentication of this SMSESSION cookie using HTTP Security Policy. To generate the SMSESSION cookie, we will first use Basic Authentication.</p>



<h3 id="usecase_sessioncookie_s01">Step 1: Confirm SiteMinder Administrative Settings</h3>
<ol>
	<li>Confirm that the SiteMinder Agent Configuration Object in the CA SiteMinder Administrative UI has a parameter called <strong>AcceptTPCookie</strong> with the value <strong>yes</strong>.</li>
</ol>



<h3 id="usecase_sessioncookie_s02">Step 2: Configure CA SiteMinder Identity System</h3>
<ol>
	<li>Configure a CA SiteMinder Identity System. This step should have been completed as part of the initial configuration. See <a href="ca_siteminder_configure_identity_system.htm">Configure CA SiteMinder Identity System in Policy Manager 7.x.</a> for more information. Configuration of the Login Process Options screen and Identity System integration is not required. </li>
</ol>



<h3 id="usecase_sessioncookie_s03">Step 3: Create Virtual Services</h3>
<ol>
	<li>Create a Virtual Service (<strong>VS1</strong>) then virtualize this Virtual Service again (<strong>VS2</strong>). Host each Virtual Service on a separate Network Director (ND).</li>
</ol>



<h3 id="usecase_sessioncookie_s04">Step 4: Create Policies</h3>
 <p>In the <strong>Policies</strong> folder, use <strong>Add Policy</strong> to create the following policy configurations for <strong>VS1</strong> and <strong>VS2</strong>.</p>
<ol>
	<li>Create an HTTP Security Policy with Basic Authentication, and a Response Cookie called <strong>SMSESSION</strong>.
		<p><img src="images/ca_siteminder_usecase_sessioncookie3.jpg" alt="" /></p></li>
	<li>Create an HTTP Security Policy with Cookie Authentication.
		<p><img src="images/ca_siteminder_usecase_sessioncookie6.jpg" alt="" /></p></li>
</ol>



<h3 id="usecase_sessioncookie_s05">Step 5: Attach Policies</h3>
<ol>
	<li>Attach the HTTP Security Policy with Basic Authentication to <strong>VS1</strong>.
		<p><img src="images/ca_siteminder_usecase_sessioncookie1.jpg" alt="" /></p></li>
	<li>Attach the HTTP Security Policy with Cookie Authentication to <strong>VS2</strong>.
		<p><img src="images/ca_siteminder_usecase_sessioncookie2.jpg" alt="" /></p></li>
</ol>




<h3 id="usecase_sessioncookie_s06">Step 6: Enable Preserve Transport Headers</h3>
<ol>
	<li>On the <strong>Service Details</strong> page of <strong>VS1</strong> select <strong>Configure Message Processing </strong>in the <strong>Actions Portlet</strong>. Set <strong>Preserve Transport Headers</strong> to <strong>All</strong> to preserve this cookie header downstream.
		<p><img src="images/ca_siteminder_usecase_sessioncookie4.jpg" alt="" /></p></li>
</ol>



<h3 id="usecase_sessioncookie_s07">Step 7: Test Configuration</h3>
<ol>
	<li>Send requests to <strong>VS1</strong> and <strong>VS2</strong> and view the usage data in the <strong>Services</strong> &gt; <strong>Monitoring</strong> section.
		<p><img src="images/ca_siteminder_usecase_sessioncookie5.jpg" alt="" /></p>
		<p><img src="images/ca_siteminder_usecase_sessioncookie7.jpg" alt="" /></p></li>
</ol>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />



<h2 id="ca_sm_uc_session_cookie_ims">Use Case #4: Using SMSESSION Cookie with HTTP Security Policy (Intermediary for Microsoft)</h2>
<p>Learn how to authenticate a web service request with CA SiteMinder using an SMSESSION cookie with an HTTP Security Policy.</p>
<p>Steps:</p>
<ol>
	<li><a href="#usecase_sessioncookie_ims_intro">Introduction</a></li>
	<li><a href="#uc_sessioncookie_ims_01">Step 1: Confirm SiteMinder Administrative Settings</a></li>
	<li><a href="#uc_sessioncookie_ims_02">Step 2: Configure CA SiteMinder Identity System</a></li>
	<li><a href="#uc_sessioncookie_ims_03">Step 3: Create Virtual Service</a></li>
	<li><a href="#uc_sessioncookie_ims_04">Step 4: Create Policies</a></li>
	<li><a href="#uc_sessioncookie_ims_05">Step 5: Attach Policies</a></li>
	<li><a href="#uc_sessioncookie_ims_06">Step 6: Test Configuration</a></li>
</ol>



<h3 id="usecase_sessioncookie_ims_intro">Introduction</h3>
<p>When a user in SiteMinder protected realm is authenticated, a cookie called SMSESSION is generated. This use case will test authentication of this SMSESSION cookie using HTTP Security Policy. To generate the SMSESSION cookie, we will first use Basic Authentication.</p>


<h3 id="uc_sessioncookie_ims_01">Step 1: Confirm SiteMinder Administrative Settings</h3>
<ol>
	<li>Confirm that the SiteMinder Agent Configuration Object in the CA SiteMinder Administrative UI has a parameter called <strong>AcceptTPCookie</strong> with the value <strong>yes</strong>.</li>
</ol>


<h3 id="uc_sessioncookie_ims_02">Step 2: Configure CA SiteMinder Identity System</h3>
<ol>
	<li>Configure a CA SiteMinder Identity System. This step should have been completed as part of the initial configuration. See <a href="ca_siteminder_configure_identity_system.htm">Configure CA SiteMinder Identity System in Policy Manager 7.x.</a> for more information. Configuration of the Login Process Options screen and Identity System integration is not required. </li>
</ol>


<h3 id="uc_sessioncookie_ims_03">Step 3: Create Virtual Service</h3>
<ol>
	<li>Create a Virtual Service (<strong>VS1</strong>). Host a Virtual Service on Intermediary for Microsoft (IMS) container</li>
</ol>


<h3 id="uc_sessioncookie_ims_04">Step 4: Create Policies</h3>
<p>In the <strong>Policies</strong> folder, use <strong>Add Policy</strong> to create the following policy configurations for <strong>VS1</strong>.</p>
<ol>
	<li>Create an HTTP Security Policy SiteMinder Cookie Authentication. Specify Cookie Name as <strong>SMSESSION</strong> on the Cookie Authentication Options screen.
		<p><img src="images/ca_siteminder_usecase_sessioncookie3.jpg" alt="" /></p></li>
	<li>Create an Authentication Policy with the CA SiteMinder Domain and Subject-Category Consumer selected.
		<p><img src="images/Authentication_Policy_2.jpg" alt="" /></p></li>
</ol>


<h3 id="uc_sessioncookie_ims_05">Step 5: Attach Policies</h3>
<ol>
	<li>Attach Detailed Auditing, Authentication, and HTTP Security Policy SiteMinder Cookie Authentication policies to <strong>VS1</strong>.
		<p><img src="images/Policies_3.jpg" alt="" /></p></li>
</ol>


<h3 id="uc_sessioncookie_ims_06">Step 6: Test Configuration</h3>
<ol>
	<li>Send requests to <strong>VS1</strong> and view the usage data in <strong>Services</strong> &gt; <strong>Monitoring</strong> section.
		<p><img src="images/Monitoring_4.jpg" alt="" /></p></li>
</ol>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />



<h2 id="ca_sm_uc_basic_auth">Use Case #5: Basic Authentication using CA SiteMinder Identity</h2>
<p>Learn how to authenticate a web service request with CA SiteMinder Identity.</p>
<p>Steps:</p>
<ol>
	<li><a href="#ca_sm_uc_basic_auth_intro">Introduction</a></li>
	<li><a href="#ca_sm_uc_basic_auth_s01">Step 1: Create Policy</a></li>
	<li><a href="#ca_sm_uc_basic_auth_s02">Step 2: Attach Policies</a></li>
	<li><a href="#ca_sm_uc_basic_auth_s03">Step 3: Test Configuration</a></li>
</ol>


<h3 id="ca_sm_uc_basic_auth_intro">Introduction</h3>
<p>The Basic Authentication Use Case is performed with a CA SiteMinder Identity that is always sent from the client to a service that is enforcing Basic Authentication using the <strong>HTTP Security Policy</strong>.</p>


<h3 id="ca_sm_uc_basic_auth_s01">Step 1: Create Policy</h3>
 <p>In the <strong>Policies</strong> folder, use <strong>Add Policy</strong> to create the following policy configuration.</p>
<ol>
	<li>Create an <strong>Authentication Policy</strong> with <strong>Subject Category = Consumer</strong>, and <strong>Domain (Realms = CA SiteMinder)</strong>.
		<p><img src="images/ca_siteminder_basicauth1.jpg" alt="" /></p></li>
	<li>Create an <strong>HTTP Security Policy </strong> with <strong>Require Authentication = True, Authentication Scheme = Basic Authentication, and Sub Category = Consumer</strong>.
		<p><img src="images/ca_siteminder_basicauth2.jpg" alt="" /></p></li>
</ol>


<h3 id="ca_sm_uc_basic_auth_s02">Step 2: Attach Policies</h3>
<ol>
	<li>Attach the policies to a virtual service.
		<p><img src="images/ca_siteminder_basicauth3.jpg" alt="" /></p></li>
</ol>


<h3 id="ca_sm_uc_basic_auth_s03">Step 3: Test Configuration</h3>
<ol>
	<li>Send requests to the virtual service and the usage data in the <strong>Services</strong> &gt; <strong>Monitoring</strong> section.
		<p><img src="images/ca_siteminder_basicauth4.jpg" alt="" /></p>
		<p><img src="images/ca_siteminder_basicauth5.jpg" alt="" /></p></li>
</ol>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />



<h2 id="ca_sm_uc_binary_security_token">Use Case #6: Using Binary Security Token with WS-Security Policy</h2>
<p>Learn how to authenticate a web service request with CA SiteMinder Binary Security Token with a WS-Security Policy.</p>
<p>Steps:</p>
<ol>
	<li><a href="#usecase_binary_sec_token_intro">Introduction</a></li>
	<li><a href="#usecase_binary_sec_token_s01">Step 1: Create Policies</a></li>
	<li><a href="#usecase_binary_sec_token_s02">Step 2: Attach Policies</a></li>
	<li><a href="#usecase_binary_sec_token_s03">Step 3: Send Request</a></li>
	<li><a href="#usecase_binary_sec_token_s04">Step 4: Test Configuration</a></li>
</ol>



<h3 id="usecase_binary_sec_token_intro">Introduction</h3>
<p>The WS-Security Binary Token Use Case client authentication is performed with a Binary Token which appears at the SOAP layer as a signed supporting token that is always sent from the client to the service. The user is authenticated using a Binary Token password in the WS-Security header.</p>
<p>This use case is composed of the <strong>Authentication Policy</strong>, <strong>WS-Security Transport Binding Policy</strong>, and <strong>WS-Security Supporting Tokens Policy</strong>.</p>



<h3 id="usecase_binary_sec_token_s01">Step 1: Create Policies</h3>
<p>In the <strong>Policies</strong> folder, use <strong>Add Policy</strong> to create the following policy configurations.</p>
<ol>
	<li>Create an <strong>Authentication Policy</strong> with <strong>Subject Category = End-User</strong>, and <strong>Domain (Realms = CA SiteMinder)</strong>.
		<p><strong><img src="images/ca_siteminder_binarytoken1.jpg" alt="" /></strong></p></li>
	<li>Create a <strong>WS-Security Transport Binding Policy</strong> with <strong>HTTPS Token</strong> > <strong>Certificate Subject Category = End-User</strong>.
<p><img src="images/ca_siteminder_binarytoken2.jpg" alt="" /></p></li>
	<li>Create a <strong>WS-Security Supporting Tokens Policy</strong> and configure as follows:
<table class="doctable">
	<thead>
		<tr>
			<th>Screen Name</th>
			<th>Configuration Steps</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Specify Supporting Token Options</td>
			<td>
				<ol>
					<li>Click <strong>Add Token Choice</strong></li>
					<li>Select the Token Choice</li>
					<li>Click <strong>Add Token</strong></li>
				</ol></td>
		</tr>
		<tr>
			<td>Add Supporting Token</td>
			<td><ol>
				<li>Token Type = Binary Security</li>
				<li>Token Inclusion = Always to Recipient</li>
				<li>Subject Category = End-User</li>
			</ol></td>
		</tr>
		<tr>
			<td>Specify Binary Security Token Options</td>
			<td><ol>
					<li>Binary Security Token Type = urn:soa.com:security.tokens:siteminder-ssotoken</li>
				</ol></td>
		</tr>
	</tbody>
</table>
<p><img src="images/ca_siteminder_binarytoken3.jpg" alt="" /></p></li>
</ol>



<h3 id="usecase_binary_sec_token_s02">Step 2: Attach Policies</h3>
<ol>
	<li>Attach the policies to a virtual service.
		<p><img src="images/ca_siteminder_binarytoken4.jpg" alt="" /></p></li>
</ol>



<h3 id="usecase_binary_sec_token_s03">Step 3: Send Request</h3>
<p>Send a request from the SiteMinder Client <strong>or</strong> SOAP UI as illustrated below:</p>
<p><strong>Option 1: Send Request with SiteMinder Client</strong></p>
<ol>
	<li>Launch the SiteMinder client and send request with the Binary Security Token.
		<p><img src="images/ca_siteminder_binarytoken5.jpg" alt="" /></p>
		<p><img src="images/ca_siteminder_binarytoken6.jpg" alt="" /></p></li>
</ol>

<p><strong>Option 2: Send Request from SOAP UI</strong></p>
<ol>
	<li>Launch SOAPUI and send a request with the Binary Security Token.
		<p><img src="images/ca_siteminder_binarytoken7.jpg" alt="" /></p>	</li>
</ol>



<h3 id="usecase_binary_sec_token_s04">Step 4: Test Configuration</h3>
<ol>
	<li>Send requests to the virtual service and view the usage data in the <strong>Services</strong> &gt; <strong>Monitoring</strong> section.
		<p><img src="images/ca_siteminder_binarytoken8.jpg" alt="" /></p>
		<p><img src="images/ca_siteminder_binarytoken9.jpg" alt="" /></p></li>
</ol>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />



<h2 id="ca_sm_uc_single_signon_cm">Use Case #7: Set Up CA SiteMinder to Support Single Sign-On with Community Manager</h2>
<p>Learn how to set up CA SiteMinder and create login for Community Manager.</p>
<p>Steps:</p>
<ol>
	<li><a href="#us_sm_singlesignon_intro">Introduction</a></li>
	<li><a href="#setup_login">Set up CA SiteMinder Login for Enterprise API Platform</a></li>
	<li><a href="#us_sm_singlesignon_s01">Step 1: Define Domain for Enterprise API Platform Access Control</a></li>
	<li><a href="#us_sm_singlesignon_s02">Step 2: Define SOA Authentication Realm</a></li>
	<li><a href="#us_sm_singlesignon_s03">Step 3: Define the Global Policies for Community Manager</a></li>
	<li><a href="#us_sm_singlesignon_s04">Step 4: Protect the Community Manager Login Redirect Page</a></li>
	<li><a href="#integrate_steps">Complete Integrate CA SiteMinder with Policy Manager Steps</a></li>
	<li><a href="#setup_oauth">Set up OAuth Provider Domain to use CA SiteMinder in Community Manager</a></li>
</ol>
<hr class="divide_hr" />



<h3 id="us_sm_singlesignon_intro">Introduction</h3>
<p>Akana API Platform (Community Manager) uses CA SiteMinder facilities in two ways:</p>

<ul>
	<li>To authenticate credentials and SSO tokens for the CA SiteMinder Identity System defined in Akana Policy Manager.</li>
	<li>To perform a CA SiteMinder managed login process when connecting to the Akana API Platform portal (Community Manager) or when issuing an OAuth/OpenID access token.</li>
</ul>
<p><strong>Note:</strong> Community Manager must be installed and configured prior to performing these configuration tasks.</p>



<h3 id="setup_login">Set up CA SiteMinder Login for Enterprise API Platform</h3>
<p>Customers who are integrating with other Akana Products (e.g., Akana Enterprise API Platform) must create a global on/off accept rule for agents. Many of the properties defined in this section are referenced when you configure the CA SiteMinder Identity System in Policy Manager, and enable Single Sign-On functionality with other Akana products.</p>
<p>The setup process is accomplished by performing the following configuration tasks in CA SiteMinder:</p>
<ul>
	<li><a href="#us_sm_singlesignon_s01">Define a domain for access control</a></li>
	<li><a href="#us_sm_singlesignon_s02">Define an authentication realm</a></li>
	<li><a href="#us_sm_singlesignon_s03">Define global policies</a></li>
	<li><a href="#us_sm_singlesignon_s04">Protect login redirect page</a></li>
</ul>


<h3 id="us_sm_singlesignon_s01">Step 1: Define Domain for Enterprise API Platform Access Control</h3>
<p>The domain contains all the access control definitions that Akana Enterprise API Platform will use When the CA SiteMinder Identity System is defined in Policy Manager, the Identity System is associated with the Domain.</p>
When you check <strong>Global Policies Apply</strong>, this enables responses to be processed from authentication requests in the Domain. In addition, checking this option adds the CA SiteMinder resource to the <strong>Admin</strong> &gt; <strong>Domains</strong> section of the Enterprise API Platform portal so it is available for selection when you define an OAuth Provider.
<ol>
	<li>Launch the CA SiteMinder <strong>Domain Dialog</strong> and create a new CA SiteMinder Domain. </li>
	<li>Verify that the <strong>Global Policies Apply</strong> checkbox is checked.
		<p><img src="images/ca_siteminder_usecase_communitymanager1.jpg" alt="SiteMinder Domain Dialog - SiteMinder Domain Dialog" /></p></li>
</ol>


<h3 id="us_sm_singlesignon_s02">Step 2: Define SOA Authentication Realm</h3>
<p>Akana Enterprise API Platform uses a common, bare Realm to authenticate all credentials and SSO tokens under the CA SiteMinder Identity System.</p>
<ol>
	<li>Define a Realm using the Basic Authentication Scheme.
		<p><img src="images/ca_siteminder_usecase_communitymanager2.jpg" alt="SiteMinder Domain Dialog - SiteMinder Realm Dialog" /></p></li>
</ol>


<h3 id="us_sm_singlesignon_s03">Step 3: Define the Global Policies for Community Manager</h3>
 <p>Global Policies must be defined to allow user information to be extracted from LDAP and passed into Akana Enterprise API Platform. This is to allow Enterprise API Platform to know the name and email address of the user logging into Enterprise API Platform using CA SiteMinder.</p>
<ol>
	<li>Define a Global Rule as follows:
		<p><img src="images/ca_siteminder_usecase_communitymanager3.jpg" alt="SiteMinder Domain Dialog - SiteMinder Global Rule Dialog" /></p></li>
	<li>The next step is to configure a Global Response Object. The Global Response Object facilitates the log in to the Enterprise API Platform via CA SiteMinder. The purpose of the Global Response Object is to get information from the CA SiteMinder controlled User Directory into the Enterprise API Platform.
		<p>Define Global Responses as follows (customer&rsquo;s LDAP attributes may be different).</p>
		<p><img src="images/ca_siteminder_usecase_communitymanager4.jpg" alt="SiteMinder Domain Dialog - SiteMinder Global Response Dialog" /></p></li>
	<li>Define a Global Policy as follows:
		<p><img src="images/ca_siteminder_usecase_communitymanager5.jpg" alt="SiteMinder Domain Dialog - SiteMinder Global Policy Dialog" /></p></li>
</ol>


<h3 id="us_sm_singlesignon_s04">Step 4: Protect the Community Manager Login Redirect Page</h3>
<p>The Akana SiteMinder Security Provider feature includes a small HTML page that will redirect a browser to a specified URL. This page must be loaded onto the customer&rsquo;s web site and placed under protection of the customer&rsquo;s SiteMinder Web Agent. After the page is loaded, perform the following steps to protect it.</p>
<ol>
	<li>Define a new Realm if necessary. (Some customers will already have appropriate Realms defined).
		<p><img src="images/ca_siteminder_usecase_communitymanager6.jpg" alt="SiteMinder Domain Dialog - SiteMinder Realm Dialog" /></p></li>
	<li> Define a Rule under the Realm:
		<p><img src="images/ca_siteminder_usecase_communitymanager7.jpg" alt="SiteMinder Domain Dialog - SiteMinder Rule Dialog" /></p></li>
	<li>Define a Policy to protect the redirection page and on the Rules tab:
		<p><img src="images/ca_siteminder_usecase_communitymanager8.jpg" alt="SiteMinder Domain Dialog - SiteMinder Policy Dialog" /></p>
		<p><img src="images/ca_siteminder_usecase_communitymanager9.jpg" alt="SiteMinder Domain Dialog - SiteMinder Policy Dialog" /></p></li>
</ol>
<p><a href="#top">back to top</a></p>


<h3 id="integrate_steps">Complete Integrate CA SiteMinder with Policy Manager Steps</h3>
<p>Complete steps 1-6 outlined in Integrate CA SiteMinder with Policy Manager. For Step 6, use the <a href="ca_siteminder_configure_identity_system.htm#config_other">Configure CA SiteMinder Identity System in Policy Manager (Integrate other Akana Products)</a>.</p>
<p><a href="#top">back to top</a></p>


<h3 id="setup_oauth">Set up OAuth Provider Domain to use CA SiteMinder in Community Manager</h3>
<p>The final step in the process is to install the OAuth Provider features to the Community Manager container, launch the Akana API Platform portal (Community Manager) and enable the domain in the<!-- #BeginLibraryItem "/Library/hdr_more_admin.lbi" -->&#160;<strong>More</strong> &gt; <strong>Admin</strong> &gt;&#160;<!-- #EndLibraryItem --><strong>Logins</strong> section of the platform or select it as a Resource Owner Authentication Domain when defining an OAuth Provider.</p>
<p>for more information, refer to <a href="../../cm/learnmore/bus_admin_domains.htm">Domains</a> (developer portal help).</p>
<p><a href="#top">Back to top</a></p>