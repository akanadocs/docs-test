---
layout: page
title: CA SiteMinder Use Case - Using SMSESSION Cookie with HTTP Security Policy (Intermediary for Microsoft)
description: Learn how to authenticate a web service request with CA-SiteMinder using an SMSESSION cookie with an HTTP Security Policy.   
product: ag
category: learn
weight:	9
sub-nav-class: CA SiteMinder
type: page
nav-title: CA SiteMinder Use Case - Using SMSESSION Cookie with HTTP Security Policy
---

<h2 name="top">Using SMSESSION  Cookie with HTTP Security Policy (Intermediary for Microsoft)</h2>
  <p>Learn how to  authenticate a web service request with CA-SiteMinder using an SMSESSION cookie with an HTTP Security Policy. </p>

<a href="../admin_console/using_admin_console.htm" class="button secondary">Using Admin Console</a>

<a href="ca_siteminder_implement_use_cases.htm" class="button secondary">CA SiteMinder Use Cases</a>

<p></p>


<a href="ca_siteminder_integrate_with_pm.htm" class="button secondary">Integrate CA SiteMinder with Policy Manager (Main Topic)</a>

<p></p>


  <div class = "divider1"></div>
 <a name="usecase_sessioncookie">
<h3>Introduction</h3></a>
<p>When a user in SiteMinder protected realm is authenticated, a cookie called SMSESSION is generated. This use case will test authentication of this SMSESSION cookie using HTTP Security Policy. To generate the SMSESSION cookie, we will first use Basic Authentication.</p>

<h3>Step 1: Confirm SiteMinder Administrative Settings</h3>
 
 <ol class="usingOrderedList">
   <li>Confirm that the  SiteMinder Agent Configuration Object in      the CA SiteMinder Administrative UI has a parameter called &quot;AcceptTPCookie&quot; with      the value &quot;yes.&quot;</li>
 </ol>
 
 
 
 
 <h3>Step 2: Configure CA SiteMinder Identity System</h3>
<ol class="usingOrderedList">
   <li>Configure a CA SiteMinder Identity System. This step should have been completed as part of the initial configuration. See <a href="http://docs.soa.com/docs-test/ag/ca_siteminder/ca_siteminder_configure_identity_system.htm">Configure CA SiteMinder Identity System in Policy Manager 7.x.</a> for more information. Configuration of the Login Process Options screen and  Identity System integration is not required. </li>
 </ol>
 <h3>Step 3: Create Virtual Service</h3>
 <ol class="usingOrderedList">
   <li>Create a Virtual Service (<strong>VS1</strong>).  Host each  Virtual Service on a separate Intermediary for Microsoft (IMS) container. </li>
 </ol>
 <h3>Step 4: Create Policies</h3>
 <p>In the <em>Policies</em> folder, use <strong>Add Policy</strong> to create the following policy configurations for <strong>VS1</strong>.</p>
 <ol class="usingOrderedList">
   <li>Create an HTTP Security Policy (e.g., HTTP Security Policy: SiteMinder Cookie Authentication), and create a cookie and name it  &quot;SMSESSION.&quot;<br />
     <br />
     <img src="images/ca_siteminder_usecase_sessioncookie3.jpg" width="576" height="280" /><br />
     <br />
   </li>
   <li>Create an Authentication Policy with the CA SiteMinder Domain and Subject-Category Consumer selected.</li>
 </ol>
 <h3>Step 5: Attach Policies</h3>
 <ol class="usingOrderedList">
   <li>Attach Detailed Auditing, Authentication, and HTTP Security Policy SiteMinder Cookie Authentication policies to <strong>VS1</strong>.<br />
</li>
</ol>
<h3>Step 6: Test Configuration</h3>
<ol class="usingOrderedList">
  <li>Send requests to <strong>VS1</strong> and view the usage data in <em>Services &gt; Monitoring</em> section. <br />
  </li>
</ol>

<p><a href="#top">back to top</a> </p>




<div class = "divider1"></div>
