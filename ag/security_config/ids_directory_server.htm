---
layout: page
title: Configure Directory Server (Active Directory) Identity System
description: Learn how to configure a Directory Server (Active Directory) identity system.
product: ag
category: learn
sub-nav-class: Security Configuration
weight: 13
type: page
nav-title: Configure Directory Server
---
<h1 id="top">Configure Directory Server (Active Directory) Identity System</h1>
<p>Learn how to configure a Directory Server (Active Directory) Identity System.</p>
<hr class="divide_hr" />



<h2 style="color: gray;">Table of Contents</h2>
<ol class="table_of_contents">
	<li><a href="#introduction">Introduction</a></li>
	<li><a href="#config_directory_server_ids">Configure Directory Server Identity System</a></li>
</ol>
<hr class="divide_hr" />



<h2 id="introduction">Introduction</h2>
<p>For the Active Directory Identity System, configuration tasks include specifying and/or configuring:</p>
<ul>
	<li>Domain Details</li>
	<li>Connection Properties</li>
	<li>Attribute Details</li>
	<li>Username&#8212;DN Mapping</li>
	<li>Custom Queries</li>
	<li>Proxy User DN</li>
	<li>Advanced Properties.</li>
</ul>
<p><a href="#top">back to top</a></p>



<h2 id="config_directory_server_ids">Configure Directory Server Identity System</h2>

<h4>To configure a Directory Server identity system</h4>
<ol>
	<li>Go to <strong>Configure</strong> &gt; <strong>Security</strong> &gt; <strong>Identity Systems</strong>. The <strong>Identity Systems Summary</strong> screen displays.</li>
	<li>Click <strong>Add Identity System</strong>. The <strong>Add Identity System Wizard</strong> launches and displays the <strong>Identity System Domain Details</strong> screen.</li>
	<li>Under <strong>Select Identity System</strong>, use the <strong>Identity System Type</strong> drop-down list box to select <strong>Directory Server</strong>.</li>
	<li>Enter the Domain Details (Name &amp; Description) associated with the Directory Server (Active Directory) Identity System Type selected in step 3.</li>
	<li>Click <strong>Next</strong>. You are taken to the <strong>Directory Type</strong> Screen.</li>
	<li>From the <strong>drop-down list box</strong>, select the <strong>Directory Type</strong> that is configured with default values for a particular Directory Server.<br />
Your selection represents the Directory Server that will be integrated with Policy Manager.</li>
	<li>Click <strong>Next</strong>. You are taken to the <strong>Connection Properties</strong> screen.</li>
	<li>Under <strong>Main URL</strong>, enter the Host Name of the selected Directory Type, and the Port Number used to connect to it.</li>
	<li>Under <strong>Failover URLs</strong>, enter the host name and port number where identity system connection requests will be directed if the Main URL fails.<br />
<strong>Note</strong>: You can specify up to five Failover URLs.</li>
	<li>Click <strong>Next</strong>. You are taken to the <strong>Attribute Details</strong> screen, used to configure the search scope and attribute mapping for identity system &quot;Users&quot; and &quot;Groups&quot; to Policy Manager.<br />
<strong>Notes</strong>:<br />
The &quot;Search Scope&quot; is used to define the search base in the identity system to begin a search and the search scope to be applied to the specified base.<br />
The &quot;Attribute Mapping&quot; is used to configure the identity system query attributes. Service Manager maps to these query attributes to enable the viewing of identity system data in the Security section of the Policy Manager Management Console.</li>
	<li>Fill in Users attribute details:
<ul>
	<li><strong>Base DN</strong>&#8212;(Required) The base distinguished name (DN) that will be used to search users.</li>
	<li><strong>Search Scope</strong>&#8212;Use the <strong>radio buttons</strong> to select either <strong>Onelevel</strong> or <strong>Subtree</strong>.</li>
	<li><strong>Object Category</strong>&#8212;Identifies the type of data that will be represented by the entry and specifies the mandatory and optional attributes that can be associated with an entry of that class. The default is &quot;user.&quot;</li>
	<li><strong>Username Attribute</strong>&#8212;The attribute of the user entry in identity system that will be mapped to &quot;Username&quot; in Policy Manager. The default is &quot;cn.&quot;</li>
	<li><strong>Full Name Attribute</strong>&#8212;The attribute of the user entry in the identity system that will be mapped to &quot;Full Name&quot; in Policy Manager. The default is &quot;name.&quot;</li>
	<li><strong>Member Attribute</strong>&#8212;(Optional) The attribute of the user entry in the identity system that will be mapped to the group relationship in Policy Manager. The default is &quot;member.&quot;<br />
<strong>Note</strong>: If this field is left blank, a custom query will be added to the base set of queries on the Custom Queries screen. This query adds an additional search method for the purpose of optimizing search performance.</li>
</ul>
</li>
	<li>Fill in Groups attribute details:
<ul>
	<li><strong>Base DN</strong>&#8212;(Required) The base distinguished name (DN) that will be used to search groups.</li>
	<li><strong>Search Scope</strong>&#8212;User the <strong>radio buttons</strong> to select either <strong>Onelevel</strong> or <strong>Subtree</strong>.</li>
	<li><strong>Object Category</strong>&#8212;Identifies the type of data that will be represented by the entry and specifies the mandatory and optional attributes that can be associated with an entry of that class. The default is &quot;group.&quot;</li>
	<li><strong>Group Name Attribute</strong>&#8212;The attribute of the group entry in the identity system that will be mapped to &quot;Group name&quot; in Policy Manager. The default is &quot;cn.&quot;</li>
	<li><strong>Description Attribute</strong>&#8212;The attribute of the group entry in the identity system that will be mapped to &quot;Description&quot; in Policy Manager. The default is &quot;description.&quot;</li>
	<li><strong>Member Attribute</strong>&#8212;The attribute of the group entry in the identity system that will be mapped to the user relationship in Policy Manager. The default is &quot;memberOf.&quot;</li>
</ul>
</li>
	<li>Click <strong>Next</strong>. The <strong>Username&#8212;DN Mapping</strong> screen displays.</li>
	<li>Use the <strong>radio buttons</strong> to select and/or configure the <strong>Username&#8212;DN Mapping</strong> for the Active Directory Identity System.<br />
<strong>Note</strong>: To ensure that the identity system can effectively coexist with Policy Manager, accurate Username and DN mapping must be configured. This ensures that login data is properly authenticated.
<ul>
	<li><strong>Map with Search</strong>&#8212;Authenticates the User ID and Password.</li>
	<li><strong>Map with Prefix/Suffix</strong>&#8212;(optional) Strings that will be prepended and appended (respectively) to the User Name when logging into Active Directory for the purpose of authentication.</li>
</ul>
</li>
	<li>Click <strong>Next</strong>. The <strong>Custom Queries</strong> screen displays.</li>
	<li>Update the custom queries as needed to optimize your environment.<br />
<strong>Notes</strong>:
<ul>
	<li>This screen includes a default set of custom queries that are used to interact with the identity system. The following custom queries are supported:<br />
- LDAP search filter when searching user based on user name<br />
- LDAP search filter when searching user based on full name<br />
- LDAP search filter when searching group based on group name<br />
- LDAP search filter when searching groups based on member DN</li>
	<li>A <strong>Reset to default</strong> button is included with each query type to reset a changed query back to the default setting.</li>
	<li>Search filters can be customized to conform with the search performance requirements for a specific identity system. Note that the $USERNAME, $FULLNAME, and $GROUPNAME are macro variables that are replaced with the actual Username, Full Name, or Group Name entered when a search is performed. These macro variables must be used when developing custom queries. The User and Group attributes used in custom queries must match the User and Group attribute names configured on the &quot;Attribute Details&quot; screen.</li>
</ul>
</li>
	<li>Click <strong>Next</strong>. The <strong>Proxy User Configuration</strong> screen displays.</li>
	<li>
Configure the <strong>Proxy User Configuration</strong> for the Identity System by using the <strong>radio buttons</strong> to select from:
<ul>
	<li><strong>Anonymous</strong>&#8212;An anonymous user can search users and groups for read-only operations without providing credentials.</li>
	<li><strong>Proxy</strong>&#8212;When selected, it is required that you enter a Username and Password for the proxy user, who must have the permission to search users and groups in the identity system.</li>
</ul>
</li>
	<li>Click <strong>Next</strong>. The <strong>Advanced Properties</strong> screen displays.</li>
	<li>Configure advanced properties for page control, caching, timeout, and connection pool settings (Configure to conform to your system requirements or accept the defaults).</li>
	<li>Click <strong>Next</strong>. The <strong>Verify Connection</strong> screen displays.</li>
	<li>Click <strong>Verify Connection</strong> to test your connection properties.
<ul>
	<li>If your connection is successfully verified, click <strong>Finish</strong> to complete the identity system integration.</li>
	<li>If your connection failed, use click <strong>Back</strong> to navigate to the appropriate screen and make the necessary adjustments.</li>
	<li>If the identity system you are integrating is LDAPS (LDAP over SSL), you will receive the following warning message after the connection is verified:<br />
&quot;After completing the configuration, you must upload a Trusted CA Certificate that can verify the SSL certificate of the LDAP server.&quot;<br />
You must complete this step before deploying your Policy Manager production site.</li>
</ul>
</li>
	<li>Click <strong>Finish</strong>. The system configures your identity system based on your provided configuration parameters and returns to the <strong>Identity System Summary</strong> screen.</li>
</ol>
<p><a href="#top">Back to top</a></p>



<hr class="divide_hr" />



<h2 id="related_topics">Related Topics</h2>
<div class="relatedlinks" id="security_config"><!-- #BeginLibraryItem "/Library/relatedtopics_security_config.lbi" -->
<ul>
	<li><a href="security_configuration_toc.htm">Security Configuration Table of Contents</a></li>
	<li><a href="policy_manager_domain.htm">Policy Manager Domain</a></li>
	<li><a href="certificates_overview.htm">Managing Certificates in Policy Manager</a></li>
	<li><a href="certificate_authority.htm">Certificate Authority</a></li>
	<li><a href="trusted_ca_certificates.htm">Trusted CA Certificates</a></li>
	<li><a href="certificate_expiration.htm">Managing Certificate Expiration</a></li>
	<li><a href="user_certificate_renewal.htm">User Certificate Renewal</a></li>
</ul>
<ul>
	<li><a href="identity_profiles.htm">Identity Profiles</a></li>
	<li><a href="identity_systems.htm">Identity Systems</a></li>
	<li><a href="ids_claims_based.htm">Configure Claims-based Identity System</a></li>
	<li><a href="ids_cookie_authentication_module.htm">Configure Cookie Authentication Module Identity System</a></li>
	<li><a href="ids_directory_server.htm">Configure Directory Server (Active Directory) Identity System</a></li>
	<li><a href="ids_kerberos.htm">Configure Kerberos Identity System</a></li>
	<li><a href="ids_saml.htm">Configure SAML Identity System</a></li>
	<li><a href="privacy.htm">Privacy</a></li>
</ul><!-- #EndLibraryItem --></div>