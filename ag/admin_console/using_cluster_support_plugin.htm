---
layout: page
title: Using the SOA Software Cluster Support Plug-in
description: Learn how to manage a container as part of a cluster in Policy  Manager.
product: ag
category: learn
weight:	6
sub-nav-class: Operations
type: page
nav-title: Using the SOA Software Cluster Support Plug-in

---

  <h2 name="top">Using the SOA Software Cluster Support Plug-in </h2>
  <p>Learn how to manage a container as part of a  cluster in Policy  Manager 6.x and  7.x.</p>


<a href="using_admin_console.htm" class="button secondary">Using Admin Console</a>

<p></p>


  <div class = "divider1"></div>
   <h3 style="color: gray;">Table of Contents</h3>

   <ol class="table_of_contents">

 <li><a href="#introduction">Introduction</a></li>
 <li><a href="#configuration">Configuration</a></li>





  </ol>
  <div class = "divider1"></div>






<a name="introduction">
<h3>Introduction</h3></a>

<p>The  <em>SOA Software Cluster Support</em> plug-in  provides support for group administration of multiple containers via a single <em>SOA Software Administration Console</em>. The clustering feature is based on the idea of a <em>Master</em> node and a set of <em>Slave</em> nodes that all share a common set of feature bundles and configuration. When the clustering feature is installed, any Container Instance may be configured as either a Master or Slave. All Slaves will periodically synchronize their state with the Master node. If the Master node becomes unavailable for any reason, the slaves will remain in their last configured state.

<p><em>Note: This feature is available in Policy Manager 6.x and 7.x.</em>
<p>Here's how it works:
<p>The <em>SOA Software Cluster Support</em> plug-in should be installed into a Master and Slave Container instance using the <em>SOA Software Administration Console</em>. When the installation is complete, navigate to the <em>Configuration</em> tab, select the <strong>com.soa.cluster</strong> category, configure the master and slave nodes, and click <strong>Save</strong>. </p>
<h5>Master Node</h5>
<p>On the Master node, select the <strong>Act as a master node</strong> radio button. </p>
<p><img src="images/cluster_support1.jpg" width="505" height="184"></p>
<h5>Slave Node</h5>
<p>For a Slave node, select the <strong>Act as a slave node</strong>, and enter the &quot;Master Hostname&quot; and &quot;Master Port&quot; of the Master Node in the text boxes. Any number of Slave Nodes may use a single master.</p>
<p><img src="images/cluster_support2.jpg" width="511" height="194"></p>
<h5>Advanced Option</h5>
<p>The <em>Advanced</em> configuration option is only required in cases where specific configuration PIDs (i.e., Process Identifiers) should not be replicated between cluster nodes. </p>
<p>Refer to <em>Chapter 2</em> of the <a href="http://docs.soa.com/ag/assets/PM_ConfigurationCategoriesAndSettings_6x_7x.pdf" >Policy Manager Configuration Categories and Settings Guide</a> for a description of each configuration category. </p>
<p><em><strong>Note:</strong> This is an is an advanced Policy Manager feature. Contact SOA Software Customer Support if you need assistance using this advanced option.</em></p>
<h3><img src="images/cluster_support3.jpg" width="489" height="383"></h3>
 <p><a href="#top">Back to top</a></p>

<a name="configuration">
<h3>Configuration</h3></a>
<p>To use the <em>SOA Software Cluster Support</em> plug-in you will need two Policy Manager containers (one that will be designated as <em>Master</em> and one that will be designated as <em>Slave</em>). </p>
<h5>Prerequisites</h5>
<ul class="usingOrderedList">
  <li>SOA Software Platform, Version 7.1 must be installed.<br>
  </li>
</ul>

<h5>Step 1: Configure Policy Manager "Master" Container</h5>
<ol class="usingOrderedList">
  <li>Launch the <em>Configure Container Instance Wizard</em> - <strong>&lt;release directory&gt;\bin\startup configurator</strong></li>
  <li>Define the Policy Manager &quot;Master&quot; container (<strong>PM</strong>).</li>
  <li>In the   <em> SOA Software Administration Console</em>, select <em>Available Features &gt; Features</em> filter,  and install the Policy Manager features (<em>SOA Software Policy Manager Services</em> and    <em>SOA Software Policy Manager Console</em>).</li>
  <li> Select <em>Available Features &gt; Plug-in </em> filter,  and install  <em> SOA Software Cluster Support</em>. Do not configure keys as this step was already performed when you installed the two Policy Manager features. </li>
  <li>Select the <em>Configuration</em> tab. In the <em>Configuration Categories</em> section,  select<strong> com.soa.cluster</strong>.</li>
  <li>Select <strong>Act as master node</strong> and save. </li>
  <li> Select <strong>com.soa.database.config</strong> (as illustrated below), click<strong> Add Property</strong>, add <strong>encryptValues=false</strong>, click <strong>Apply</strong>, then <strong>Apply Changes</strong>.<br>
    <br>
    <img src="images/cluster_support4.jpg" width="732" height="347"><br>
  </li>
  <li>Restart the Policy Manager container instance (<em>System</em> tab &gt; <strong>Restart</strong>).</li>
  <li>After the container restart is complete, log back into the SOA Software Administration console, and select the <em>Configuration</em> tab. In the <em>Configuration Categories</em> section,  select <strong>com.soa.database.config</strong>.</li>
  <li>Update the database password (as illustrated below), and <strong>Apply Changes</strong>. <br>
    <br>
    <img src="images/cluster_support5.jpg" width="645" height="309"><br>
    <br>
  </li>
</ol>

 <h5>Step 2: Configure Policy Manager "Slave" Container</h5>

 <ol class="usingOrderedList">
   <li>Launch the <em>Configure Container Instance Wizard</em> - <strong>&lt;release directory&gt;\bin\startup configurator</strong></li>
   <li>Define the Policy Manager &quot;Slave&quot; container (<strong>PM1</strong>).</li>
   <li>In the <em> SOA Software Administration Console</em>, select <em>Available Features &gt; Plug-in </em> filter,  and install <em> SOA Software Cluster Support</em>. Do not install the two Policy Manager features in this container. </li>
   <li>Select the <em>Configuration</em> tab. In the <em>Configuration Categories</em> section,  select<strong> com.soa.cluster</strong>.</li>
   <li>Select <strong>Act as slave node, </strong> enter Host (<strong>PM</strong>) and Port, then save. </li></ol>
 <p><a href="#top">back to top</a> </p>


<div class = "divider1"></div>
