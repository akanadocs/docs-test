{"swagger":"2.0","info":{"description":"The API used to manage PM contracts","version":"8.0.0","title":"Contract Management API"},"host":"0.0.0.0","basePath":"/rest","tags":[{"name":"ContractAdminService"}],"schemes":["http","https"],"paths":{"/contracts/{key}":{"get":{"tags":["ContractAdminService"],"summary":"Get contract details.","description":"<p>Get contract information based on given key along with policy information based on the include flag given. Note that this operation produces XML content only in order to accommodate attached policies.</p>\n<h4>Request:</h4>\n<pre><code>GET /rest/contracts/d92830eb-1125-11e5-93d5-eb4e298f7990:1043?includepolicy=true HTTP/1.1\n</code></pre>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 200 OK\nContent-Type: application/xml\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;ns5:Contract ...\"&gt;\n    &lt;ns5:ContractInfo Key=\"d92830eb-1125-11e5-93d5-eb4e298f7990:1043\" Name=\"MyContract\" Anonymous=\"false\" State=\"Active\"&gt;\n        &lt;ns5:Description&gt;My simple contract&lt;/ns5:Description&gt;\n        &lt;ns5:ProviderOrganizationKey&gt;uddi:f3e6bbe6-c334-11e7-9ec8-92c36890cc34&lt;/ns5:ProviderOrganizationKey&gt;\n        &lt;ns5:ConsumerOrganizationKey&gt;uddi:87fb0f0a-c335-11e7-9ec8-81ef6990b923&lt;/ns5:ConsumerOrganizationKey&gt;\n        &lt;ns1:EffectiveDateTimes&gt;\n            &lt;ns1:StartDateTime&gt;\n                &lt;ns1:DateTime&gt;2017-11-09T09:50:00-08:00&lt;/ns1:DateTime&gt;\n                &lt;ns1:TimezoneName&gt;America/Los_Angeles&lt;/ns1:TimezoneName&gt;\n            &lt;/ns1:StartDateTime&gt;\n            &lt;ns1:EndDateTime&gt;\n                &lt;ns1:DateTime&gt;2018-11-09T09:50:00-08:00&lt;/ns1:DateTime&gt;\n                &lt;ns1:TimezoneName&gt;America/Los_Angeles&lt;/ns1:TimezoneName&gt;\n            &lt;/ns1:EndDateTime&gt;\n            &lt;ns1:Expire&gt;true&lt;/ns1:Expire&gt;\n        &lt;/ns1:EffectiveDateTimes&gt;\n        &lt;ns5:ContractVersionInfo&gt;\n            &lt;ns5:LastModifiedTimestamp&gt;2017-11-09T09:55:57-08:00&lt;/ns5:LastModifiedTimestamp&gt;\n            &lt;ns5:User&gt;Local Domain\\administrator&lt;/ns5:User&gt;\n            &lt;ns5:MetadataVersion&gt;1&lt;/ns5:MetadataVersion&gt;\n            &lt;ns5:ActiveMetadataVersion&gt;1&lt;/ns5:ActiveMetadataVersion&gt;\n        &lt;/ns5:ContractVersionInfo&gt;\n        &lt;ns5:ContractType&gt;service.contract&lt;/ns5:ContractType&gt;\n    &lt;/ns5:ContractInfo&gt;\n    &lt;ns5:ContractScope&gt;\n        &lt;ns1:ServiceKey&gt;uddi:f3e6bbe6-c334-11e7-9ec8-81ef6990b923&lt;/ns1:ServiceKey&gt;\n    &lt;/ns5:ContractScope&gt;\n    &lt;ns5:ConsumerIdentities&gt;\n        &lt;ns7:OrganizationIdentity&gt;uddi:87fb0f0a-c335-11e7-9ec8-81ef6990b923&lt;/ns7:OrganizationIdentity&gt;\n    &lt;/ns5:ConsumerIdentities&gt;\n    &lt;ns5:PolicyAttachments&gt;\n        &lt;wsp:Policy xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" ... Name=\"urn:uuid:f76c1d70-c576-11e7-80a1-ff582ddf16f0\" visibility=\"public\" wsu:Id=\"Policy1\"&gt;\n            &lt;dns0:SLAEnforcement xmlns:dns0=\"http://federatedgovernance.org/policy/quota/slaenforcement/1.0\"&gt;\n                &lt;dns0:FaultMessage&gt;SLPFault&lt;/dns0:FaultMessage&gt;\n            &lt;/dns0:SLAEnforcement&gt;\n        &lt;/wsp:Policy&gt;\n    &lt;/ns5:PolicyAttachments&gt;\n&lt;/ns5:Contract&gt;\n</code></pre>","operationId":"GET /contracts/{key}","produces":["application/xml"],"parameters":[{"name":"key","in":"path","description":"The contract key.","required":true},{"name":"includepolicy","in":"query","description":"whether to include policy","required":false}],"responses":{"default":{}}},"put":{"tags":["ContractAdminService"],"summary":"Update contract resource scope.","description":"<p>Change the organization, container, service, operation of a given contract in effect changing the management of contract scope.</p>\n<h4>Request:</h4>\n<pre><code>PUT /rest/contracts/9eaa8b14-10b5-11e5-93d5-eb4e298f7990:1042  HTTP/1.1\nContent-Type: application/xml\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;ns2:ResourceSet ...&gt;\n    &lt;ns2:ResourceSetInfo Name=\"CreatedContract\" Anonymous=\"true\" State=\"Active\"&gt;\n        &lt;ns5:ResourceSetName&gt;My Resourceset&lt;/ns5:ResourceSetName&gt;\n    &lt;/ns2:ResourceSetInfo&gt;\n    &lt;ns6:OrganizationKey&gt;uddi:f005b0b2-1079-11e5-a330-a83ecc4e96f2&lt;/ns6:OrganizationKey&gt;\n    &lt;ns6:ContainerKey&gt;nd3845&lt;/ns6:ContainerKey&gt;\n    &lt;ns6:ServiceKey&gt;uddi:a06434c0-1122-11e5-93d5-eb4e298f7990&lt;/ns6:ServiceKey&gt;\n    &lt;ns6:OperationKey&gt;a2328c24-1122-11e5-93d5-eb4e298f7990&lt;/ns6:OperationKey&gt;\n    &lt;ns6:ContractKey&gt;9eaa8b14-10b5-11e5-93d5-eb4e298f7990:1042&lt;/ns6:ContractKey&gt;\n&lt;/ns2:ResourceSet&gt;\n</code></pre>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 200 OK\n</code></pre>","operationId":"PUT /contracts/{key}","consumes":["application/xml"],"parameters":[{"name":"key","in":"path","description":"The contract key.","required":true},{"in":"body","name":"parameter0","description":"The update contract specification.","required":true}],"responses":{"default":{}}},"delete":{"tags":["ContractAdminService"],"summary":"Remove specified contract","description":"<p>Remove the contract with given key.</p>\n<h4>Request:</h4>\n<pre><code>DELETE /rest/contracts/dfde5141-10b2-11e5-93d5-eb4e298f7990:1041 HTTP/1.1\n</code></pre>","operationId":"DELETE /contracts/{key}","parameters":[{"name":"key","in":"path","description":"The contract key.","required":true}],"responses":{"200":{}}}},"/contracts":{"get":{"tags":["ContractAdminService"],"summary":"Fetch contracts for the given criteria.","description":"<p>Fetch contracts based on given provider service or provider organization or consumer organization.</p>\n<h4>Request:</h4>\n<pre><code>GET /rest/contracts?providerOrg=uddi:f005b0b2-1079-11e5-a330-a83ecc4e96f2  HTTP/1.1\n</code></pre>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 200 OK\nContent-Type: application/xml\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;ns2:Contracts ...\"&gt;\n    &lt;ns2:ContractInfo Key=\"ca58bd4d-c59d-11e7-80a1-ff582ddf16f0:1014\" Name=\"Contract1\" Anonymous=\"false\" State=\"Active\"&gt;\n        &lt;ns5:Description&gt;Contract One&lt;/ns5:Description&gt;\n        &lt;ns5:ProviderOrganizationKey&gt;uddi:c6f30e8d-c576-11e7-80a1-ff582ddf16f0&lt;/ns5:ProviderOrganizationKey&gt;\n        &lt;ns5:ConsumerOrganizationKey&gt;uddi:71a538c8-c59d-11e7-80a1-ff582ddf16f0&lt;/ns5:ConsumerOrganizationKey&gt;\n        &lt;ns1:EffectiveDateTimes&gt;\n            &lt;ns1:StartDateTime&gt;\n                &lt;ns1:DateTime&gt;2017-11-09T14:31:00-08:00&lt;/ns1:DateTime&gt;\n                &lt;ns1:TimezoneName&gt;America/Los_Angeles&lt;/ns1:TimezoneName&gt;\n            &lt;/ns1:StartDateTime&gt;\n            &lt;ns1:Expire&gt;false&lt;/ns1:Expire&gt;\n        &lt;/ns1:EffectiveDateTimes&gt;\n        &lt;ns5:ContractVersionInfo&gt;\n            &lt;ns5:MetadataVersion&gt;1&lt;/ns5:MetadataVersion&gt;\n            &lt;ns5:ActiveMetadataVersion&gt;1&lt;/ns5:ActiveMetadataVersion&gt;\n        &lt;/ns5:ContractVersionInfo&gt;\n        &lt;ns5:ContractType&gt;service.contract&lt;/ns5:ContractType&gt;\n    &lt;/ns2:ContractInfo&gt;\n    &lt;ns2:ContractInfo Key=\"d9b5ff74-c59d-11e7-80a1-ff582ddf16f0:1015\" Name=\"Contract2\" Anonymous=\"false\" State=\"Active\"&gt;\n        &lt;ns5:Description&gt;Contract Two&lt;/ns5:Description&gt;\n        &lt;ns5:ProviderOrganizationKey&gt;uddi:c6f30e8d-c576-11e7-80a1-ff582ddf16f0&lt;/ns5:ProviderOrganizationKey&gt;\n        &lt;ns5:ConsumerOrganizationKey&gt;uddi:b8c401a9-c59d-11e7-80a1-ff582ddf16f0&lt;/ns5:ConsumerOrganizationKey&gt;\n        &lt;ns1:EffectiveDateTimes&gt;\n            &lt;ns1:StartDateTime&gt;\n                &lt;ns1:DateTime&gt;2017-11-09T14:32:00-08:00&lt;/ns1:DateTime&gt;\n                &lt;ns1:TimezoneName&gt;America/Los_Angeles&lt;/ns1:TimezoneName&gt;\n            &lt;/ns1:StartDateTime&gt;\n            &lt;ns1:Expire&gt;false&lt;/ns1:Expire&gt;\n        &lt;/ns1:EffectiveDateTimes&gt;\n        &lt;ns5:ContractVersionInfo&gt;\n            &lt;ns5:MetadataVersion&gt;1&lt;/ns5:MetadataVersion&gt;\n            &lt;ns5:ActiveMetadataVersion&gt;1&lt;/ns5:ActiveMetadataVersion&gt;\n        &lt;/ns5:ContractVersionInfo&gt;\n        &lt;ns5:ContractType&gt;service.contract&lt;/ns5:ContractType&gt;\n    &lt;/ns2:ContractInfo&gt;\n&lt;/ns2:Contracts&gt;\n</code></pre>","operationId":"GET /contracts","produces":["application/xml"],"parameters":[{"name":"providerService","in":"query","description":"Return all contracts that govern the given provider's service key","required":false},{"name":"providerOrg","in":"query","description":"Return all contracts that govern the given provider's organization key","required":false},{"name":"consumerOrg","in":"query","description":"Return all contracts that govern the given consumer's organization key","required":false}],"responses":{"default":{}}},"post":{"tags":["ContractAdminService"],"summary":"Create a contract","description":"<p>Creates a contract in the given organization with given parameters.  Note that this operation accepts XML content only in order to accommodate attached policies.</p>\n<h4>Request:</h4>\n<pre><code>POST /rest/contracts  HTTP/1.1\nContent-Type: application/xml\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;ns2:ContractSpec ...&gt;\n    &lt;ns5:ContractInfo Name=\"CreatedContract\" Anonymous=\"true\" State=\"Active\"&gt;\n        &lt;ns5:Description&gt;Newly Created Contract.&lt;/ns5:Description&gt;\n        &lt;ns5:ProviderOrganizationKey&gt;uddi:f005b0b2-1079-11e5-a330-a83ecc4e96f2&lt;/ns5:ProviderOrganizationKey&gt;\n        &lt;ns1:EffectiveDateTimes&gt;\n            &lt;ns1:StartDateTime&gt;\n                &lt;ns1:DateTime&gt;2017-11-03T17:42:03-07:00&lt;/ns1:DateTime&gt;\n                &lt;ns1:TimezoneName&gt;America/Los_Angeles&lt;/ns1:TimezoneName&gt;\n            &lt;/ns1:StartDateTime&gt;\n            &lt;ns1:Expire&gt;false&lt;/ns1:Expire&gt;\n        &lt;/ns1:EffectiveDateTimes&gt;\n        &lt;ns5:ContractVersionInfo&gt;\n            &lt;ns5:MetadataVersion&gt;1&lt;/ns5:MetadataVersion&gt;\n            &lt;ns5:ActiveMetadataVersion&gt;1&lt;/ns5:ActiveMetadataVersion&gt;\n        &lt;/ns5:ContractVersionInfo&gt;\n        &lt;ns5:ContractType&gt;service.contract&lt;/ns5:ContractType&gt;\n    &lt;/ns5:ContractInfo&gt;\n    &lt;ns5:AddContractContext&gt;\n        &lt;ns5:Action&gt;@CreateOffer&lt;/ns5:Action&gt;\n    &lt;/ns5:AddContractContext&gt;\n&lt;/ns2:ContractSpec&gt;\n</code></pre>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 201 Created\nContent-Type: application/xml\nLocation: /rest/contracts/dfde5141-10b2-11e5-93d5-eb4e298f7990:1041\n</code></pre>","operationId":"POST /contracts","consumes":["application/xml"],"produces":["application/xml"],"parameters":[{"in":"body","name":"parameter0","description":"Add contract parameter spec","required":true}],"responses":{"201":{},"500":{}}}},"/contracts/{key}/workflow":{"put":{"tags":["ContractAdminService"],"summary":"Perform Workflow Action","description":"<p>Performs a workflow action on the contract with the given key. The available workflow actions are based on the current workflow process in use for contracts in the system.</p>\n<h4>Request:</h4>\n<pre><code>PUT /rest/contracts/d92830eb-1125-11e5-93d5-eb4e298f7990:1043/workflow HTTP/1.1\nContent-Type: application/json\n\n{\n    \"Action\" : \"Activate Contract\",\n    \"Comment\" : \"Putting contract into production.\",\n    \"UserName\" : \"jdoe\"\n}\n</code></pre>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 200 OK\n</code></pre>","operationId":"PUT /contracts/{key}/workflow","consumes":["application/json","application/xml","text/xml"],"parameters":[{"name":"key","in":"path","description":"Key of the contract to perform the action on.","required":true},{"in":"body","name":"parameter0","description":"The action to perform.","required":true}],"responses":{"default":{}}}}}}