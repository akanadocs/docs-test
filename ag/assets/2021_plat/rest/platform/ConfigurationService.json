{"swagger":"2.0","info":{"description":"A REST API that provides access to the Configuration Admin service.","version":"8.0.0","title":"Configuration Admin API"},"host":"0.0.0.0","basePath":"/admin/config","schemes":["http","https"],"paths":{"/{pid}/{name}":{"get":{"summary":"Get property","description":"<p>Fetch a specific property.</p>\n<h4>Request:</h4>\n<pre><code>GET /admin/config/com.akana.test/prop1 HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Responses:</h4>\n<ul>\n<li>HTTP/1.1 200 OK.  If successful.</li>\n<li>HTTP/1.1 404 Not Found. If the specified PID or property name is not found</li>\n</ul>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n    \"name\": \"prop1\",\n    \"value\": \"value1\"\n}\n</code></pre>","operationId":"GET /{pid}/{name}","produces":["application/json","application/xml"],"parameters":[{"name":"pid","in":"path","description":"The configuration PID.","required":true},{"name":"name","in":"path","description":"The property name.","required":true},{"name":"decrypt","in":"query","description":"Should the value be decrypted?","required":false}],"responses":{"default":{"description":" "}}},"post":{"summary":"Create property","description":"<p>Create a property for an existing PID.</p>\n<h4>Request:</h4>\n<pre><code>POST /admin/config/com.akana.test/prop3 HTTP/1.1\nContent-Type: application/json\n\n{\"name\":\"prop3\",\"value\":\"value3\"}\n</code></pre>\n<h4>Responses:</h4>\n<ul>\n<li>HTTP/1.1 201 Created.</li>\n<li>HTTP/1.1 404 Not Found. If the specified PID is not found</li>\n</ul>\n<h4>Response</h4>\n<pre><code>HTTP/1.1 201 Created\nContent-Type:application/json; charset=UTF-8\nLocation: http://localhost:9900/admin/config/com.akana.test/prop3\n\n{\n    \"pid\": \"com.akana.test\",\n    \"links\": [\n        {\n            \"href\": \"http://localhost:9900/admin/config/com.akana.test/prop3\",\n            \"rel\": \"self\"\n        }\n    ],\n    \"properties\": [\n        {\n            \"name\": \"service.pid\",\n            \"value\": \"com.akana.test\"\n        },  \n        {\n            \"name\": \"prop3\",\n            \"value\": \"value3\"\n        },\n        {\n            \"name\": \"prop2\",\n            \"value\": \"value2\"\n        },\n        {\n            \"name\": \"prop1\",\n            \"value\": \"value1\"\n        }\n    ]\n}\n</code></pre>","operationId":"POST /{pid}/{name}","consumes":["application/json","application/xml"],"produces":["application/json","application/xml"],"parameters":[{"name":"pid","in":"path","description":"The configuration PID.","required":true},{"name":"name","in":"path","description":"The new property name.","required":true},{"name":"encrypt","in":"query","description":"Should the value be encrypted?","required":false},{"in":"body","name":"body","description":"The new property.  The name is not used and may be ommitted.","required":true}],"responses":{"201":{"description":"The specified property has been created."}}},"put":{"summary":"Update property","description":"<p>Update the value or name of a property in a PID.</p>\n<h4>Request:</h4>\n<pre><code>PUT /admin/config/com.akana.test/prop1 HTTP/1.1\nAccept: application/json\n\n{\n    \"name\": \"new_name\",\n    \"value\": \"abc1\"\n}\n</code></pre>\n<h4>Responses:</h4>\n<ul>\n<li>HTTP/1.1 200 OK.  If successful</li>\n<li>HTTP/1.1 404 Not Found.  If the PID or property name specified in the path is not found</li>\n</ul>","operationId":"PUT /{pid}/{name}","consumes":["application/json","application/xml"],"produces":["application/json","application/xml"],"parameters":[{"name":"pid","in":"path","description":"The configuration PID.","required":true},{"name":"name","in":"path","description":"The property name.","required":true},{"name":"encrypt","in":"query","description":"Should the value be encrypted?","required":false},{"in":"body","name":"body","description":"The updated property. The name may be different than specified in the path if the name should be modified, otherwise it is ignored and may be ommitted.","required":true}],"responses":{"default":{"description":" "}}},"delete":{"summary":"Remove property","description":"<p>Deletes the specified property.</p>\n<h4>Request:</h4>\n<pre><code>DELETE /admin/config/com.akana.test/prop1 HTTP/1.1\n</code></pre>\n<h4>Responses:</h4>\n<ul>\n<li>HTTP/1.1 200 OK. If successful</li>\n<li>HTTP/1.1 404 Not Found.  If the PID or property is not found</li>\n</ul>","operationId":"DELETE /{pid}/{name}","produces":["application/json","application/xml"],"parameters":[{"name":"pid","in":"path","description":"The configuration PID.","required":true},{"name":"name","in":"path","description":"The name of the property to remove.","required":true}],"responses":{"default":{"description":" "}}}},"/{pid}":{"get":{"summary":"Get configuration by PID","description":"<p>Get a specified PID.</p>\n<h4>Request:</h4>\n<pre><code>GET /admin/config/com.akana.test HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Responses :</h4>\n<ul>\n<li>HTTP/1.1 200 OK. If successful</li>\n</ul>\n<h4>Response</h4>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n    \"pid\": \"com.akana.test\",\n    \"links\": [\n        {\n            \"href\": \"http://localhost:9900/admin/config/com.akana.test\",\n            \"rel\": \"self\"\n        }\n    ],\n    \"properties\": [\n        {\n            \"name\": \"service.pid\",\n            \"value\": \"com.akana.test\"\n        },  \n        {\n            \"name\": \"prop3\",\n            \"value\": \"value3\"\n        },\n        {\n            \"name\": \"prop2\",\n            \"value\": \"value2\"\n        },\n        {\n            \"name\": \"prop1\",\n            \"value\": \"value1\"\n        }\n    ]\n}\n</code></pre>","operationId":"GET /{pid}","produces":["application/json","application/xml"],"parameters":[{"name":"pid","in":"path","description":"The configuration PID.","required":true}],"responses":{"default":{"description":" "}}},"post":{"summary":"Create configuration","description":"<p>Add a configuration to the Config Admin. The client specifies the PID for the new configuration as part of\nthe request URL path.</p>\n<h4>Request:</h4>\n<pre><code>POST /admin/config/com.akana.test HTTP/1.1\nContent-Type: application/json\n\n[\n    {\"name\":\"prop1\",\"value\":\"value1\"},\n    {\"name\":\"prop2\",\"value\":\"value2\"}\n]\n</code></pre>\n<h4>Responses:</h4>\n<ul>\n<li>201 Created.  On success, the response will include a Location header that points to the newly created configuration.</li>\n<li>409 Conflict. If the PID already exists</li>\n</ul>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 201 Created\nContent-Type:application/json; charset=UTF-8\nLocation: http://localhost:9900/admin/config/com.akana.test\n\n{\n    \"pid\": \"com.akana.test\",\n    \"links\": [\n        {\n            \"href\": \"http://localhost:9900/admin/config/com.akana.test\",\n            \"rel\": \"self\"\n        }\n    ],\n    \"properties\": [\n        {\n            \"name\": \"service.pid\",\n            \"value\": \"com.akana.test\"\n        },\n        {\n            \"name\": \"prop2\",\n            \"value\": \"value2\"\n        },\n        {\n            \"name\": \"prop1\",\n            \"value\": \"value1\"\n        }\n    ]\n}\n</code></pre>","operationId":"POST /{pid}","produces":["application/json","application/xml"],"parameters":[{"name":"pid","in":"path","required":true},{"name":"location","in":"query","required":false},{"in":"body","name":"body","required":false}],"responses":{"201":{"description":"The configuration has been created."}}},"put":{"summary":"Update configuration","description":"<p>Update a PID.</p>\n<h4>Request:</h4>\n<p>The following is a sample request.  Note that only the properties in the request are\nrelevant, all other fields are ignored.<br  /></p>\n<pre><code>PUT /admin/config/com.akana.test HTTP/1.1\nAccept: application/json\n\n{\n    \"pid\": \"com.akana.test\",\n    \"properties\": [\n        {\n            \"name\": \"prop3\",\n            \"value\": \"abc\"\n        },\n        {\n            \"name\": \"prop2\",\n            \"value\": \"def\"\n        },\n        {\n            \"name\": \"prop1\",\n            \"value\": \"xyz\"\n        }\n    ]\n}\n</code></pre>\n<h4>Responses:</h4>\n<ul>\n<li>HTTP/1.1 200 OK. If successful</li>\n<li>HTTP/1.1 404 Not Found.  If the PID is not found</li>\n</ul>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n    \"pid\": \"com.akana.test\",\n    \"links\": [\n        {\n            \"href\": \"http://localhost:9900/admin/config/com.akana.test\",\n            \"rel\": \"self\"\n        }\n    ],\n    \"properties\": [\n        {\n            \"name\": \"service.pid\",\n            \"value\": \"com.akana.test\"\n        },  \n        {\n            \"name\": \"prop3\",\n            \"value\": \"abc\"\n        },\n        {\n            \"name\": \"prop2\",\n            \"value\": \"def\"\n        },\n        {\n            \"name\": \"prop1\",\n            \"value\": \"xyz\"\n        }\n    ]\n}\n</code></pre>","operationId":"PUT /{pid}","consumes":["application/json","application/xml"],"produces":["application/json","application/xml"],"parameters":[{"name":"pid","in":"path","description":"The configuration's PID.","required":true},{"in":"body","name":"body","description":"The updated configuration data.","required":true}],"responses":{"default":{"description":" "}}},"delete":{"summary":"Delete configuration","description":"<p>Deletes a specified PID.</p>\n<h4>Request:</h4>\n<pre><code>DELETE /admin/config/com.akana.test HTTP/1.1\n</code></pre>\n<h4>Responses:</h4>\n<ul>\n<li>HTTP/1.1 204 No Content.  If the configuration is successfully deleted</li>\n<li>HTTP/1.1 404 Not Found. If the PID is not found</li>\n</ul>","operationId":"DELETE /{pid}","produces":["application/json","application/xml"],"parameters":[{"name":"pid","in":"path","description":"The configuration PID to remove.","required":true}],"responses":{"default":{"description":" "}}}},"/factories":{"get":{"summary":"Get factories","description":"<p>Get information on all available configuration factories.</p>\n<h4>Request:</h4>\n<pre><code>GET /admin/config/factories HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Responses:</h4>\n<ul>\n<li>HTTP/1.1 200 OK. If successful</li>\n</ul>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n  \"factory\": [\n    \"com.soa.admin.obr\",\n    \"com.soa.provision\"\n  ]\n}\n</code></pre>","operationId":"GET /factories","produces":["application/json","application/xml"],"responses":{"default":{"description":" "}}}},"/":{"get":{"summary":"Get configurations","description":"<p>Get all configurations.  An optional filter may be specified to select specific configurations.</p>\n<h4>Request:</h4>\n<pre><code>GET /admin/config HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Responses:</h4>\n<ul>\n<li>HTTP/1.1 200 OK.   If successful</li>\n</ul>\n<h4>Response</h4>\n<p>The following is an example of a response for a getConfigurations request.  The content has been truncated for brevity.</p>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n    \"links\": [\n        {\n            \"href\": \"http://localhost:9900/admin/config/factories\",\n            \"rel\": \"factories\"\n        }\n    ],\n    \"pids\": [\n        {\n            \"pid\": \"com.akana.test\",\n            \"links\": [\n                {\n                    \"href\": \"http://localhost:9900/admin/config/com.akana.test\",\n                    \"rel\": \"self\"\n                }\n            ]\n        },\n        {\n            \"pid\": \"com.soa.framework.xpath\",\n            \"bundleLocation\": \"obr://com.soa.platform.framework/8.3.0\",\n            \"links\": [\n                {\n                    \"href\": \"http://localhost:9900/admin/config/com.soa.framework.xpath\",\n                    \"rel\": \"self\"\n                }\n            ]\n        },\n...\n        {\n            \"pid\": \"com.soa.platform.jetty\",\n            \"bundleLocation\": \"obr://com.soa.platform.jetty/8.3.0\",\n            \"links\": [\n                {\n                    \"href\": \"http://localhost:9900/admin/config/com.soa.platform.jetty\",\n                    \"rel\": \"self\"\n                }\n            ]\n        },\n        {\n            \"pid\": \"com.soa.cache.generic\",\n            \"bundleLocation\": \"obr://com.soa.framework/8.3.0\",\n            \"links\": [\n                {\n                    \"href\": \"http://localhost:9900/admin/config/com.soa.cache.generic\",\n                    \"rel\": \"self\"\n                }\n            ]\n        }\n    ]\n}\n</code></pre>","operationId":"GET ","produces":["application/json","application/xml"],"parameters":[{"name":"filter","in":"query","description":"Only configurations that match this filter will be returned.","required":false},{"name":"brief","in":"query","description":"Controls if a brief or verbose data set should be returned.","required":false},{"name":"meta","in":"query","description":"Controls if metadata should be returned.","required":false}],"responses":{"default":{"description":" "}}}},"/factories/{pid}":{"post":{"summary":"Create factory configuration","description":"<p>Add a factory configuration to the Config Admin. The client specifies the factory PID for the new configuration\nas part of the request URL path.</p>\n<h4>Request:</h4>\n<pre><code>POST /admin/config/factories/com.akana.test.factory HTTP/1.1\nContent-Type: application/json\n\n[\n    {\"name\":\"prop1\",\"value\":\"value1\"},\n    {\"name\":\"prop2\",\"value\":\"value2\"}\n]\n</code></pre>\n<h4>Responses:</h4>\n<ul>\n<li>HTTP/1.1 201 Created.  On success, the response will include a Location header that points to the newly created configuration.</li>\n</ul>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 201 Created\nContent-Type:application/json; charset=UTF-8\nLocation: http://localhost:9900/admin/config/com.akana.test.factory.a7df3a9e-9249-4451-8ad5-478e3b075657\n\n{\n    \"pid\": \"com.akana.test.factory.a7df3a9e-9249-4451-8ad5-478e3b075657\",\n    \"links\": [\n        {\n            \"href\": \"http://localhost:9900/admin/config/com.akana.test.factory.a7df3a9e-9249-4451-8ad5-478e3b075657\",\n            \"rel\": \"self\"\n        }\n    ],\n    \"properties\": [\n        {\n            \"name\": \"service.pid\",\n            \"value\": \"com.akana.test.factory.a7df3a9e-9249-4451-8ad5-478e3b075657\"\n        },\n        {\n            \"name\": \"service.factoryPid\",\n            \"value\": \"com.akana.test.factory\"\n        },        \n        {\n            \"name\": \"prop2\",\n            \"value\": \"value2\"\n        },\n        {\n            \"name\": \"prop1\",\n            \"value\": \"value1\"\n        }\n    ]\n}\n</code></pre>","operationId":"POST /factories/{pid}","consumes":["*/*"],"produces":["application/json","application/xml"],"parameters":[{"name":"pid","in":"path","description":"The factory PID.","required":true},{"name":"location","in":"query","description":"The optional configuration location.","required":false},{"in":"body","name":"body","required":false}],"responses":{"201":{"description":"The requested configuration has been created."}}}}}}