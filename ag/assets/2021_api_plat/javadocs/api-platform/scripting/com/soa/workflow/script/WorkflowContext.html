<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=utf8">
<title>WorkflowContext (Policy Manager Scripting API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WorkflowContext (Policy Manager Scripting API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/soa/workflow/script/Subject.PrincipalImpl.html" title="class in com.soa.workflow.script"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/soa/workflow/script/WorkflowScriptVariables.html" title="interface in com.soa.workflow.script"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/soa/workflow/script/WorkflowContext.html" target="_top">Frames</a></li>
<li><a href="WorkflowContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.soa.workflow.script</div>
<h2 title="Interface WorkflowContext" class="title">Interface WorkflowContext</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../com/soa/workflow/script/impl/WorkflowContextImpl.html" title="class in com.soa.workflow.script.impl">WorkflowContextImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">WorkflowContext</span></pre>
<div class="block">Provides context information in a workflow scripted environment. The context of a
 workflow script contains information about the workflow being executed
 as well as the dynamic information developed during workflow execution such as
 the current variable set of the running workflow,
 and the user who triggered the workflow action that is calling the script.
 <p>
 You can get information about the object whose workflow is executing the script
 as follows:
 <blockquote><pre>
    systemLog.debug("object type is " + workflowContext.getObjectType());
    systemLog.debug("object key is " + workflowContext.getObjectKey());
 </pre></blockquote>
 <p>
 You can get the key of the workflow definition that contains the script
 being called as follows:
 <blockquote><pre>
    systemLog.debug("workflow definition key is " + workflowContext.getWorkflowDefinitionKey());
 </pre></blockquote>
 <p>
 You can find out information about the user who invoked the workflow action that called a script
 as follows:
 <blockquote><pre>
    caller = workflowContext.getCallerSubject();
    systemLog.debug("workflow caller is " + caller.getInputName());
 </pre></blockquote>
 Note that this exact method (<code>caller.getInputName()</code>) may not work in Community Manager workflows
 that do not use derivatives of the <code>NameCredential</code>
 <p>
 Several classes of variables can be accessed through the <code>WorkflowContext</code>.
 Any extra <code>&amp;lt;arg&amp;gt;</code> elements specified with the <code>runScript</code>
 function can be accessed as follows:
 <blockquote><pre>
    systemLog.debug("runScript arg [myArg} is [" + workflowContext.getScriptArg("myArg"));
 </pre></blockquote>
 <p>
 When the <code>runScript</code> function is included in the <code>&amp;lt;common-functions&amp;gt;</code>,
 then the <code>&amp;lt;arg&amp;gt;</code> elements specified with the <code>&amp;lt;functions type="common" name="..."</code>
 common function invocation can be accessed as follows:
 a script as follows:
 <blockquote><pre>
    systemLog.debug("common function call arg [myArg} is [" + workflowContext.getFunctionArg("myArg"));
 </pre></blockquote>
 <p>
 Finally, the standard workflow variables such as <code>${service.key}</code>can be access
 as follows:
 <blockquote><pre>
    systemLog.debug("service key is [" + workflowContext.getVariable("service.key"));
 </pre></blockquote>
 Note that the surrounding <code>${}</code> is optional. <code>"service.key"</code> and
 <code>"${service.key}"</code> are equivalent.
 <p>
 You can also set workflow variables that can be accessed by other functions
 and conditions in the current workflow action as follows:
 <blockquote><pre>
    workflowContext.setVariable("currentDate", new Date().toISOString()));
 </pre></blockquote>
 Again the surrounding <code>${}</code> for the variable name is optional.
 Also be careful to not include a period in the variable name since
 this has special meaning to workflow that is not meaningful when
 setting variables.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../com/soa/workflow/script/Subject.html" title="interface in com.soa.workflow.script">Subject</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/soa/workflow/script/WorkflowContext.html#getCallerSubject--">getCallerSubject</a></span>()</code>
<div class="block">Returns the <code>Subject</code> of the user who invoked the current
 workflow action.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/soa/workflow/script/WorkflowContext.html#getFunctionArg-java.lang.String-">getFunctionArg</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Returns the value of one of the <code>&amp;lt;arg&amp;gt;</code> elements
 configured for the <code>&amp;lt;function&amp;gt;</code> element that called
 this <i>runScript</i> function that was defined using a
 <code>&amp;lt;common-function&amp;gt;</code> element,</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/soa/workflow/script/WorkflowContext.html#getObjectKey--">getObjectKey</a></span>()</code>
<div class="block">Returns the key of the object being processed by the workflow.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/soa/workflow/script/WorkflowContext.html#getObjectType--">getObjectType</a></span>()</code>
<div class="block">Returns the type of object this workflow is processing.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/soa/workflow/script/WorkflowContext.html#getScriptArg-java.lang.String-">getScriptArg</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Returns the value of one of the <code>&amp;lt;arg&amp;gt;</code> elements
 configured for the <i>runScript</i> <code>&amp;lt;function&amp;gt;</code>
 element.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/soa/workflow/script/WorkflowContext.html#getVariable-java.lang.String-">getVariable</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Returns the value of a workflow variable that is located
 using the standard OS Workflow variable resolution process.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/soa/workflow/script/WorkflowContext.html#getWorkflowDefinitionKey--">getWorkflowDefinitionKey</a></span>()</code>
<div class="block">Returns the key of the Workflow Definition being executed.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/soa/workflow/script/WorkflowContext.html#setVariable-java.lang.String-java.lang.String-">setVariable</a></span>(java.lang.String&nbsp;name,
           java.lang.String&nbsp;value)</code>
<div class="block">Sets the value of a workflow variable.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getWorkflowDefinitionKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWorkflowDefinitionKey</h4>
<pre>java.lang.String&nbsp;getWorkflowDefinitionKey()</pre>
<div class="block">Returns the key of the Workflow Definition being executed. For Policy
 Manager, this is the internally configured key assigned to the Workflow
 XML definition loaded from the Policy Manager Console. For Community
 Manager, this is the key value assigned by the administrator when the
 Workflow XML document was loaded from the CM Portal.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the String workflow definition key.</dd>
</dl>
</li>
</ul>
<a name="getObjectKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObjectKey</h4>
<pre>java.lang.String&nbsp;getObjectKey()</pre>
<div class="block">Returns the key of the object being processed by the workflow. For
 Policy Manager objects, this will be either the key of the Service, 
 Contract, or Policy. For Community Manager, this will be the FDN
 value of the object processing the workflow (e.g. API Version)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the String representation of the workflow object's unique key</dd>
</dl>
</li>
</ul>
<a name="getObjectType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObjectType</h4>
<pre>java.lang.String&nbsp;getObjectType()</pre>
<div class="block">Returns the type of object this workflow is processing. This 
 is derived from the Java class name of the key of the object
 being processed by the workflow instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the String with the type of the object being processed
 (e.g. 'service', 'contract', or 'policy'</dd>
</dl>
</li>
</ul>
<a name="getScriptArg-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScriptArg</h4>
<pre><a href="../../../../com/soa/annotations/script/MethodParameters.html" title="annotation in com.soa.annotations.script">@MethodParameters</a>(<a href="../../../../com/soa/annotations/script/MethodParameters.html#parameterNames--">parameterNames</a>="name")
java.lang.String&nbsp;getScriptArg(java.lang.String&nbsp;name)</pre>
<div class="block">Returns the value of one of the <code>&amp;lt;arg&amp;gt;</code> elements
 configured for the <i>runScript</i> <code>&amp;lt;function&amp;gt;</code>
 element.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the case-sensitive name of the <code>&amp;lt;arg&amp;gt;</code>
 value to retrieve.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the String value of the script argument or <code>null</code>
 if it is not defined</dd>
</dl>
</li>
</ul>
<a name="getFunctionArg-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFunctionArg</h4>
<pre><a href="../../../../com/soa/annotations/script/MethodParameters.html" title="annotation in com.soa.annotations.script">@MethodParameters</a>(<a href="../../../../com/soa/annotations/script/MethodParameters.html#parameterNames--">parameterNames</a>="name")
java.lang.String&nbsp;getFunctionArg(java.lang.String&nbsp;name)</pre>
<div class="block">Returns the value of one of the <code>&amp;lt;arg&amp;gt;</code> elements
 configured for the <code>&amp;lt;function&amp;gt;</code> element that called
 this <i>runScript</i> function that was defined using a
 <code>&amp;lt;common-function&amp;gt;</code> element,</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the case-sensitive name of the <code>&amp;lt;arg&amp;gt;</code>
 value to retrieve.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the String value of the script argument or <code>null</code>
 if it is not defined</dd>
</dl>
</li>
</ul>
<a name="getVariable-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVariable</h4>
<pre><a href="../../../../com/soa/annotations/script/MethodParameters.html" title="annotation in com.soa.annotations.script">@MethodParameters</a>(<a href="../../../../com/soa/annotations/script/MethodParameters.html#parameterNames--">parameterNames</a>="name")
java.lang.String&nbsp;getVariable(java.lang.String&nbsp;name)</pre>
<div class="block">Returns the value of a workflow variable that is located
 using the standard OS Workflow variable resolution process.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - is the name of the workflow variable to be retrieved.
 The name can optionally be in the form of ${name}.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the String value of the workflow variable or <code>null</code>
 if it is not defined</dd>
</dl>
</li>
</ul>
<a name="setVariable-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVariable</h4>
<pre><a href="../../../../com/soa/annotations/script/MethodParameters.html" title="annotation in com.soa.annotations.script">@MethodParameters</a>(<a href="../../../../com/soa/annotations/script/MethodParameters.html#parameterNames--">parameterNames</a>={"name","value"})
java.lang.String&nbsp;setVariable(java.lang.String&nbsp;name,
                                                                                java.lang.String&nbsp;value)</pre>
<div class="block">Sets the value of a workflow variable. The resulting variable
 can be referenced in other places during the workflow's
 current state transition.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - is the name of the workflow variable to be retrieved.
 The name can optionally be in the form of ${name}. Do not include
 periods in the variable name.</dd>
<dd><code>value</code> - is the value to be assigned to the workflow variable.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the String equivalent of the value that was previously
 assigned to the workflow variable</dd>
</dl>
</li>
</ul>
<a name="getCallerSubject--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCallerSubject</h4>
<pre><a href="../../../../com/soa/workflow/script/Subject.html" title="interface in com.soa.workflow.script">Subject</a>&nbsp;getCallerSubject()</pre>
<div class="block">Returns the <code>Subject</code> of the user who invoked the current
 workflow action.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../../com/soa/workflow/script/Subject.html" title="interface in com.soa.workflow.script"><code>Subject</code></a> of the user who triggered the workflow action</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/soa/workflow/script/Subject.PrincipalImpl.html" title="class in com.soa.workflow.script"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/soa/workflow/script/WorkflowScriptVariables.html" title="interface in com.soa.workflow.script"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/soa/workflow/script/WorkflowContext.html" target="_top">Frames</a></li>
<li><a href="WorkflowContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><p>?? 2021 Perforce Software, All rights reserved</p><p>This  software is the confidential and proprietary information of Perforce, Inc. and is subject to copyright protection under laws of the United States of America and other countries. The use of this software should be in accordance with the license agreement terms you entered into with Perforce, Inc.</small></p>
</body>
</html>
