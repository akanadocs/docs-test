{"swagger":"2.0","info":{"description":"<p>This API is used to manage PM service containers.  Containers can be registered based on metadata documents.\nContainers may also be modifed or removed from the system.  The API also provides read/write access to\ncontainer metadata and container listener configuration.  Information on services hosted by a specific\ncontainer can be retrieved.  To add or modify services other APIs can be used.</p>","version":"8.0.0","title":"Container Management API"},"host":"0.0.0.0","basePath":"/rest/containers","schemes":["https","http"],"paths":{"/{key}":{"get":{"summary":"Fetch a Container","description":"Retreive detailed information on a specific container.","operationId":"GET /{key}","produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}},"post":{"summary":"Modify Container (Multipart-form-data)","description":"Modifies a container to the system using a set of form parameters and metadata file upload as multipart/form-data.","operationId":"POST /{key}","consumes":["multipart/form-data"],"produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"in":"body","name":"body","required":false}],"responses":{"200":{"description":"Success"}}},"put":{"summary":"Modify Container (Form-based)","description":"Modify an existing container using a set of form parameters.","operationId":"PUT /{key}","consumes":["application/x-www-form-urlencoded"],"produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"name":"ContainerName","in":"formData","description":"The container's new name.","required":false},{"name":"OrganizationKey","in":"formData","description":"The container's new organization.","required":false},{"name":"ContainerDescription","in":"formData","description":"The container's new description.","required":false},{"name":"ContainerLocation","in":"formData","description":"The container's new location.","required":false},{"name":"AddressOverrideBehavior","in":"formData","description":"The new container's AddressOverrideBehavior.","required":false},{"name":"RandomPrefixBehavior","in":"formData","description":"The new container's RandomPrefixBehavior.","required":false}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}},"delete":{"summary":"Delete a Container","description":"Remove a container from the system.","operationId":"DELETE /{key}","parameters":[{"name":"key","in":"path","description":"The container key.","required":true}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}}},"/{key}/pki/identity":{"get":{"summary":"Get Container Certificate","description":"<p>Returns the PKI configuration (including the encoded certificate chain) used to identify a container. May\nreturn no content if no certificate is assigned. See example response for certificate chain encoding.</p>\n<h4>Request:</h4>\n<pre><code>GET /rest/containers/uddi:978841b1-7088-11e4-8574-cb4613969888/pki/identity HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 200 OK\n\n{\n  \"SubjectDN\" : \"CN=sa1, OU=Akana, O=Akana, ST=CA, C=US\",\n  \"IssuerDN\" : \"CN=ca, OU=Akana, O=Akana, ST=CA, C=US\",\n  \"SerialNo\" : \"4942932839929778611\",\n  \"EffectiveDate\" : \"2017-01-11-08:00\",\n  \"ExpirationDate\" : \"2018-01-11-08:00\",\n  \"EncodedCertChain\" : \"-----BEGIN CERTIFICATE-----\\n... Primary Certificate bytes ...\\n-----END CERTIFICATE-----\\n \\\n-----BEGIN CERTIFICATE-----\\n... Root Certificate bytes ...\\n-----END CERTIFICATE-----\\n\"\n}\n</code></pre>","operationId":"GET /{key}/pki/identity","produces":["text/plain"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true}],"responses":{"200":{"description":"Success"}}},"post":{"summary":"Modify Container Certificate (Multipart-form-data)","description":"Modify a container's certificate using multipart-form-data.","operationId":"POST /{key}/pki/identity","consumes":["multipart/form-data"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"in":"body","name":"body","description":"The certificate in .CER or .DER file format.","required":false}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}}},"/{key}/pki/outbound/info":{"get":{"summary":"Returns the outbound PKI configuration.","operationId":"GET /{key}/pki/outbound/info","produces":["application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true}],"responses":{"200":{"description":"Success"}}}},"/{key}/pki/identity/info":{"get":{"summary":"Returns the identity PKI configuration.","operationId":"GET /{key}/pki/identity/info","produces":["application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true}],"responses":{"200":{"description":"Success"}}}},"/{key}/listeners":{"get":{"summary":"Get Container Listeners","description":"Get all listeners configured for a container.","operationId":"GET /{key}/listeners","produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}},"post":{"summary":"Add Container Listener","description":"Add a listener to a container.","operationId":"POST /{key}/listeners","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"in":"body","name":"body","description":"The new listener configuration.","required":false}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}}},"/{key}/metadata#modifyContainerMetadataMultipart":{"post":{"summary":"Modify Container Metadata (Multipart-form-data)","description":"Modify a container's metadata using multipart-form-data.","operationId":"POST /{key}/metadata","consumes":["multipart/form-data"],"produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"in":"body","name":"body","required":false}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}}},"/{cluster}/nodes":{"get":{"summary":"Get Cluster Nodes","description":"Get a list of containers in a cluster.","operationId":"GET /{cluster}/nodes","produces":["application/xml","application/json"],"parameters":[{"name":"cluster","in":"path","description":"The cluster key.","required":true}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container or cluster not found (Invalid key)"}}},"post":{"summary":"Add a Container to a Cluster (Form-Based)","description":"Add a container to a cluster.","operationId":"POST /{cluster}/nodes","consumes":["application/x-www-form-urlencoded"],"produces":["application/xml","application/json"],"parameters":[{"name":"cluster","in":"path","description":"The cluster key.","required":true},{"name":"ClusterNodeKey","in":"formData","description":"The container key.","required":false}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container or cluster not found (Invalid key)"}}}},"/#addContainerForm":{"post":{"summary":"Add Container (Form-based)","description":"Add a container to the system using a set of form parameters.","operationId":"POST ","consumes":["application/x-www-form-urlencoded"],"produces":["application/xml","application/json"],"parameters":[{"name":"ContainerName","in":"formData","description":"The new container's name.","required":false},{"name":"OrganizationKey","in":"formData","description":"The organization that should contain the new container.","required":false},{"name":"ClusterKey","in":"formData","description":"An optional cluster key if the container should be added to a cluster.","required":false},{"name":"ContainerDescription","in":"formData","description":"The new container's description. Optional.","required":false},{"name":"ContainerLocation","in":"formData","description":"The new container's location. Optional.","required":false},{"name":"MetadataLocation","in":"formData","description":"The location of the container's metadata document.  Either this or the metadata parameter must be provided.","required":false},{"name":"MetadataUsername","in":"formData","description":"Username to use to access the container's metadata document if authentication required. Used with the metadataLocation parameter.","required":false},{"name":"MetadataPassword","in":"formData","description":"Password to use to access the container's metadata document if authentication required. Used with the metadataLocation parameter.","required":false},{"name":"Metadata","in":"formData","description":"The new container's metdata as an XML form-encoded document if a location is not provided.","required":false},{"name":"AddressOverrideBehavior","in":"formData","description":"The new container's AddressOverrideBehavior. Optional.","required":false},{"name":"RandomPrefixBehavior","in":"formData","description":"The new container's RandomPrefixBehavior. Optional","required":false},{"name":"CreateCluster","in":"formData","description":"Indicates that the cluster should be created. Optional, default value is false.","required":false},{"name":"ClusterName","in":"formData","description":"Name of clsuter to create. Used with the CreateCluster parameter.","required":false},{"name":"ClusterDescription","in":"formData","description":"Description of clsuter to create. Used with the CreateCluster parameter.","required":false}],"responses":{"201":{"description":"Created"}}}},"/{key}#modifyContainerREST":{"put":{"summary":"Modify a Container","description":"Modify a container.","operationId":"PUT /{key}","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"in":"body","name":"body","description":"The updated container information.","required":false}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}}},"/{cluster}/nodes#addOrReplaceClusterNodesREST":{"post":{"summary":"Add a Container to a Cluster","description":"Add a container to a cluster.","operationId":"POST /{cluster}/nodes","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"name":"cluster","in":"path","description":"The cluster key.","required":true},{"name":"container","in":"query","description":"The container key. Deprecated. Please use the POST body instead.","required":false},{"in":"body","name":"body","description":"List of containers to add along with the instruction to replace all nodes or just add to. Optional. Can also use the container query parameter for backwards compatibility.","required":false}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container or cluster not found (Invalid key)"}}}},"/":{"get":{"summary":"Get Containers","description":"Fetch all defined containers.","operationId":"GET ","produces":["application/xml","application/json"],"parameters":[{"name":"orgKey","in":"query","description":"Organization holding the containers. Optional.","required":false},{"name":"type","in":"query","description":"Type of containers. Optional.","required":false}],"responses":{"default":{"description":" "}}},"post":{"summary":"Add a Container","description":"Add a container.","operationId":"POST ","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"The new container information.","required":false}],"responses":{"201":{"description":"Created"},"400":{"description":"Invalid container data provided."}}}},"/{key}/services":{"get":{"summary":"Get Container Services","description":"Fethc all services hosted in a specified container.","operationId":"GET /{key}/services","produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}}},"/{key}/metadata":{"get":{"summary":"Get Container Metadata","description":"Get a container's metadata.","operationId":"GET /{key}/metadata","produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}},"post":{"summary":"Modify Container Metadata (Form-Based)","description":"Modify a container's metadata using a set of form parameters.","operationId":"POST /{key}/metadata","consumes":["application/x-www-form-urlencoded"],"produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"name":"MetadataLocation","in":"formData","description":"The container metadata location.  Either this or the metadata string must be provided.","required":false},{"name":"MetadataUsername","in":"formData","description":"Username to use to access the container's metadata document if authentication required. Used with the metadataLocation parameter.","required":false},{"name":"MetadataPassword","in":"formData","description":"Password to use to access the container's metadata document if authentication required. Used with the metadataLocation parameter.","required":false},{"name":"Metadata","in":"formData","description":"The container metadata as an encoded XML string.","required":false}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}},"put":{"summary":"Modify Container Metadata (Form-Based)","description":"Modify a container's metadata.","operationId":"PUT /{key}/metadata","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"in":"body","name":"body","description":"The container metadata.","required":false}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key)"}}}},"/{key}/listeners/{listener}":{"get":{"summary":"Get Listener","description":"Fetch details for a specific container listener.","operationId":"GET /{key}/listeners/{listener}","produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"name":"listener","in":"path","description":"The listener name.","required":true}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key) or invalid listener name"}}},"put":{"summary":"Modify a Listener","description":"Modify the configuration of a container listener.","operationId":"PUT /{key}/listeners/{listener}","consumes":["application/xml","application/json"],"produces":["application/xml","application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"name":"listener","in":"path","description":"The listener name.","required":true},{"in":"body","name":"body","description":"The updated listener configuration.","required":false}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key) or invalid listener name"}}},"delete":{"summary":"Remove a Listener","description":"Remove a container listener.","operationId":"DELETE /{key}/listeners/{listener}","parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"name":"listener","in":"path","description":"The listener name.","required":true}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container not found (Invalid container key) or invalid listener name"}}}},"/{key}/listeners/{listener}/pki/info":{"get":{"summary":"Returns the listener PKI configuration (if any).","operationId":"GET /{key}/listeners/{listener}/pki/info","produces":["application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"name":"listener","in":"path","description":"The listener name.","required":true}],"responses":{"200":{"description":"Success"}}}},"/{key}/listeners/{listener}/pki#addContainerListenerPKI":{"post":{"summary":"Add PKI keys and certificate for a listener.","operationId":"POST /{key}/listeners/{listener}/pki","consumes":["application/json"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"The PKI data.","required":true},{"name":"forceTrust","in":"query","description":"Add to trust store if not trusted already","required":false},{"name":"key","in":"path","description":"The container key.","required":true},{"name":"listener","in":"path","description":"The listener name.","required":true}],"responses":{"default":{"description":" "}}}},"/{key}/pki/outbound":{"get":{"summary":"Get Container Outbound Certificate","description":"<p>Returns the outbound PKI configuration including the encoded certificate chain for a container (if it\nexists). May return no content if no certificate is assigned. See example response for certificate chain\nencoding.</p>\n<h4>Request:</h4>\n<pre><code>GET /rest/containers/uddi:978841b1-7088-11e4-8574-cb4613969888/pki/outbound HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 200 OK\n\n{\n  \"SubjectDN\" : \"CN=sa1, OU=Akana, O=Akana, ST=CA, C=US\",\n  \"IssuerDN\" : \"CN=ca, OU=Akana, O=Akana, ST=CA, C=US\",\n  \"SerialNo\" : \"4942932839929778611\",\n  \"EffectiveDate\" : \"2017-01-11-08:00\",\n  \"ExpirationDate\" : \"2018-01-11-08:00\",\n  \"EncodedCertChain\" : \"-----BEGIN CERTIFICATE-----\\n... Primary Certificate bytes ...\\n-----END CERTIFICATE-----\\n \\\n-----BEGIN CERTIFICATE-----\\n... Root Certificate bytes ...\\n-----END CERTIFICATE-----\\n\"\n}\n</code></pre>","operationId":"GET /{key}/pki/outbound","produces":["text/plain"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true}],"responses":{"200":{"description":"Success"}}},"post":{"summary":"Uploads outbound PKI keys and certificate for a container.","description":"<p>Uploads a keystore that holds outbound PKI key/cert data for a container. The following is an example request and response.</p><p>Request:<br>POST /rest/uddi:978841b1-7088-11e4-8574-cb4613969888/pki?alias=https1&keystorePass=changeit&aliasPass=changeit HTTP/1.1<br>Content-Type: multipart/form-data; boundary=Jlo6Rm_FfX2_s3WQ5QhfUoY6qqLxTbdyHMSkf0W<br>--Jlo6Rm_FfX2_s3WQ5QhfUoY6qqLxTbdyHMSkf0W<br>Content-Disposition: form-data; name=\"fileUpload\"; filename=\"test.jks\"<br>Content-Type: application/octet-stream<br>Content-Transfer-Encoding: binary<br>&lt;File content omitted&gt;</p><p>Response:<br>HTTP/1.1 201 Created if creation successful","operationId":"POST /{key}/pki/outbound","consumes":["multipart/form-data"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"The uploaded file.","required":true},{"name":"key","in":"path","description":"The container key.","required":true},{"name":"keystorePass","in":"query","description":"Keystore password.","required":false},{"name":"alias","in":"query","description":"Alias in the keystore to use.","required":true},{"name":"aliasPass","in":"query","description":"Alias password. Can be omitted if not needed or the same as the keystore password.","required":false},{"name":"forceTrust","in":"query","description":"Add to trust store if not trusted already. If false and not trusted an error will be returned. Can be omitted. Default is false.","required":false}],"responses":{"default":{"description":" "}}}},"/{cluster}/nodes/{node}":{"delete":{"summary":"Remove a Container from a Cluster","description":"Remove a container from a cluster.","operationId":"DELETE /{cluster}/nodes/{node}","produces":["application/xml","application/json"],"parameters":[{"name":"cluster","in":"path","description":"The cluster key.","required":true},{"name":"node","in":"path","description":"The container key.","required":true}],"responses":{"200":{"description":"Success"},"404":{"description":"Specified container or cluster not found (Invalid key)"}}}},"/{key}/listeners/{listener}/pki":{"get":{"summary":"Returns the listener certificate (if any).","description":"<p>Returns the PKI configuration (including the encoded certificate chain) for a listener. May\nreturn no content if no certificate is assigned or applicable based on type of listener. See\nexample response for certificate chain encoding.</p>\n<h4>Request:</h4>\n<pre><code>GET /rest/containers/uddi:978841b1-7088-11e4-8574-cb4613969888/listeners/https1/pki HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Response:</h4>\n<pre><code>HTTP/1.1 200 OK\n\n{\n  \"SubjectDN\" : \"CN=listener1, OU=Akana, O=Akana, ST=CA, C=US\",\n  \"IssuerDN\" : \"CN=ca, OU=Akana, O=Akana, ST=CA, C=US\",\n  \"SerialNo\" : \"4942932839929778611\",\n  \"EffectiveDate\" : \"2017-01-11-08:00\",\n  \"ExpirationDate\" : \"2018-01-11-08:00\",\n  \"EncodedCertChain\" : \"-----BEGIN CERTIFICATE-----\\n... Primary Certificate bytes ...\\n-----END CERTIFICATE-----\\n \\\n-----BEGIN CERTIFICATE-----\\n... Root Certificate bytes ...\\n-----END CERTIFICATE-----\\n\"\n}\n</code></pre>","operationId":"GET /{key}/listeners/{listener}/pki","produces":["application/json"],"parameters":[{"name":"key","in":"path","description":"The container key.","required":true},{"name":"listener","in":"path","description":"The listener name.","required":true}],"responses":{"200":{"description":"Success"}}},"post":{"summary":"Uploads PKI keys and certificate for a listener.","description":"<p>Uploads a keystore that holds PKI key/cert data for a listener. The following is an example request and response.</p><p>Request:<br>POST /rest/uddi:978841b1-7088-11e4-8574-cb4613969888/listeners/https1?alias=https1&keystorePass=changeit&aliasPass=changeit HTTP/1.1<br>Content-Type: multipart/form-data; boundary=Jlo6Rm_FfX2_s3WQ5QhfUoY6qqLxTbdyHMSkf0W<br>--Jlo6Rm_FfX2_s3WQ5QhfUoY6qqLxTbdyHMSkf0W<br>Content-Disposition: form-data; name=\"fileUpload\"; filename=\"test.jks\"<br>Content-Type: application/octet-stream<br>Content-Transfer-Encoding: binary<br>&lt;File content omitted&gt;</p><p>Response:<br>HTTP/1.1 201 Created if creation successful<br>{<br>\"Endpoint\" : &lt;Endpoint structure for listener&gt;<br>}","operationId":"POST /{key}/listeners/{listener}/pki","consumes":["multipart/form-data"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"The uploaded file.","required":true},{"name":"key","in":"path","description":"The container key.","required":true},{"name":"listener","in":"path","description":"The listener name.","required":true},{"name":"keystorePass","in":"query","description":"Keystore password.","required":false},{"name":"alias","in":"query","description":"Alias in the keystore to use.","required":true},{"name":"aliasPass","in":"query","description":"Alias password. Can be omitted if not needed or the same as the keystore password.","required":false},{"name":"forceTrust","in":"query","description":"Add to trust store if not trusted already. If false and not trusted an error will be returned. Can be omitted. Default is false.","required":false}],"responses":{"default":{"description":" "}}}},"/#addContainerMultipart":{"post":{"summary":"Add Container (Multipart-form-data)","description":"Add a container to the system using a set of form parameters and metadata file upload as multipart/form-data.","operationId":"POST ","consumes":["multipart/form-data"],"produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","required":false}],"responses":{"201":{"description":"Created"}}}}}}