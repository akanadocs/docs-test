{"swagger":"2.0","info":{"title":"Feature Administration Service","description":"This API is used to administer the installation,removal, and resolution of features.","version":"8.4.0"},"host":"0.0.0.0","basePath":"/admin/features","schemes":["https","http"],"tags":[{"name":"FeatureService"}],"paths":{"/resolve":{"post":{"tags":["FeatureService"],"summary":"Resolve Features","description":"<p>Resolve a feature set.</p>\n<h4>Sample Request</h4>\n<pre><code>{\n    \"features\":[\n        {\"name\":\"Akana Community Manager\",\"version\":\"8.3.0\",\"symbolicName\":\"com.soa.atmosphere.feature\"}\n    ]\n}\n</code></pre>\n<h4>Sample Response</h4>\n<p>The following response is for an ongoing reolve operation.  Once completed, the response\nwill also contain a resolution report listing all added, optional, and required resources that\nshould be installed to deploy the selected feature set.</p>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n  \"status\" : \"RESOLVING\",\n  \"id\" : \"ResolutionReport-1\",\n  \"links\" : [ {\n    \"href\" : \"http://localhost:9900/admin/features/resolve/ResolutionReport-1\",\n    \"rel\" : \"self\"\n  } ]\n}\n</code></pre>","operationId":"POST /resolve","consumes":["application/json","application/xml","text/xml"],"produces":["application/json","application/xml","text/xml"],"parameters":[{"in":"body","name":"body","schema":{"$ref":"#/definitions/featureSet"}}],"responses":{"default":{"schema":{"$ref":"#/definitions/resolutionReport"}}},"deprecated":false},"get":{"tags":["FeatureService"],"summary":"Get Outstanding Resolutions","description":"<p>Get information on any current resolutions</p>","operationId":"GET /resolve","produces":["application/json","application/xml","text/xml"],"responses":{"default":{"schema":{"$ref":"#/definitions/resolutionReport"}}},"deprecated":false}},"/install/{id}":{"get":{"tags":["FeatureService"],"summary":"Get Install Status","description":"<p>Get the status of an install job.  When an install is started using the install() operation,\na &ldquo;job&rdquo; is created that performs the actual work of resolving and installing the selected\nfeatures and their dependencies.  Because this can take some time, the job is executed asynchronously.<br  />\nThis operation allows the status of a background install job to be retrieved.</p>\n<p>The normal sequence of states for an install job are:\nUNKNOWN -> RESOLVING -> RESOLVED -> INSTALLING -> COMPLETING -> COMPLETE</p>\n<p>These states have the following meaning:</p>\n<ul>\n<li><strong>UNKNOWN</strong> Indicates that the installation job is queued but has not started.</li>\n<li><strong>RESOLVING</strong> Even if the features to be installed have been resolved earlier, the install\njob performs a resolve before starting installation.</li>\n<li><strong>RESOLVED</strong> When the resolve operation completes successfully.</li>\n<li><strong>INSTALLING</strong> Bundles and features are actively being installed to the system.  The returned\nstatus object contains a count of the total number of bundles to be installed, and the number\nsuccessfully installed so far.</li>\n<li><strong>COMPLETING</strong> All bundles have been installed, and the job is gathering any configuration\ntasks.</li>\n<li><strong>COMPLETE</strong> The install has completed successfully and all features are now available for\nconfiguration, if necessary.  The returned status contains a final report on the installation.</li>\n</ul>\n<h4>Sample Request</h4>\n<pre><code>GET /admin/features/install/c8e29be1-19c0-4132-a6bb-01b2a3a3efc6 HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Sample Response</h4>\n<p>The following response shows an installation in progress.</p>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n  \"id\" : \"c8e29be1-19c0-4132-a6bb-01b2a3a3efc6\",\n  \"total\" : 213,\n  \"installed\" : 211,\n  \"status\" : \"INSTALLING\",\n  \"links\" : [ {\n    \"href\" : \"http://localhost:9900/admin/features/install/c8e29be1-19c0-4132-a6bb-01b2a3a3efc6\",\n    \"rel\" : \"self\"\n  } ]\n}\n</code></pre>","operationId":"GET /install/{id}","produces":["application/json","application/xml","text/xml"],"parameters":[{"in":"path","name":"id","type":"string","required":true}],"responses":{"200":{"schema":{"$ref":"#/definitions/installStatus"}},"404":{"description":"The specified job cannot be found.  If the job has completed, it will eventually be removed from the system.","schema":{"$ref":"#/definitions/installStatus"}}},"deprecated":false}},"/updates":{"get":{"tags":["FeatureService"],"summary":"Get Available Updates","description":"<p>Fetch information on any updates available for installed features.</p>\n<h4>Sample Request</h4>\n<pre><code>GET /admin/features/updates HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Sample Response</h4>\n<p>The response is a resolution report that calls out any new dependencies that need to be installed for the\ndeployed features set.</p>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n    \"unsatisfiedRequirements\": [\n        ...\n    ],\n    \"requiredResources\": [\n        ...\n    ],\n    \"optionalResources\": [\n        ...\n    ],\n    \"addedResources\": [\n        ...\n    ],\n    \"status\": \"RESOLVED\",\n    \"id\": \"ResolutionReport-1\",\n    \"links\": [\n        {\n            \"href\": \"http://localhost:9900/admin/features/resolve/ResolutionReport-1\",\n            \"rel\": \"self\"\n        },\n        {\n            \"href\": \"http://localhost:9900/admin/features/install\",\n            \"rel\": \"install\"\n        }\n    ]\n}\n</code></pre>","operationId":"GET /updates","produces":["application/json","application/xml","text/xml"],"responses":{"default":{"schema":{"$ref":"#/definitions/resolutionReport"}}},"deprecated":false}},"/available":{"get":{"tags":["FeatureService"],"summary":"Get Available Features","description":"<p>Get all features that are available for deployment.</p>\n<h4>Sample Request</h4>\n<pre><code>GET /admin/features/available HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Sample Response</h4>\n<p>The following example has been truncated for brevity.  The resolve link provides the location\nfor client to perform a resolve of a set of selected features.</p>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n    \"links\": [\n        {\n            \"href\": \"http://localhost:9900/admin/features/available?filter=(symbolicname%3D*)\",\n            \"rel\": \"self\"\n        },\n        {\n            \"href\": \"http://localhost:9900/admin/features/resolve\",\n            \"rel\": \"resolve\"\n        }\n    ],\n    \"features\": [\n        {\n            \"name\": \"Akana Network Director\",\n            \"description\": \"This feature enables a Container to host Virtual Services. The Virtual Services are defined in the Akana Management Console. When the Network Director feature is enabled, the Container's metadata is updated to reflect this support. The metadata must be updated in the Akana Management Console so that it is aware that Virtual Services can be hosted on the Container. The feature also enables support for default Bindings and Policies. The default Bindings are SOAP and HTTP (REST and POX). The default Policies are WS-Addressing, WS-Auditing, WS-Security, HTTP Security, Authentication, and Authorization.\",\n            \"version\": \"8.3.0\",\n            \"symbolicName\": \"com.soa.feature.network.director\",\n            \"category\": \"x-soa-feature\"\n        },\n        {\n            \"name\": \"Akana Community Manager\",\n            \"description\": \"This feature includes the complete Community Manager developers portal including the APIs that can be used by applications wanting to integrate with Community Manager. This feature should be configured with the same database that Policy Manager services feature is configured with though Policy Manager services feature and Community Manager need not be deployed in the same container.\",\n            \"version\": \"8.3.0\",\n            \"symbolicName\": \"com.soa.atmosphere.feature\",\n            \"category\": \"x-soa-feature\"\n        },\n        {\n            \"name\": \"Akana Kerberos Impersonation\",\n            \"description\": \"This plug-in enables kerberos constrained delegation, or impersonation. Requires Java 1.8.\",\n            \"version\": \"8.3.0\",\n            \"symbolicName\": \"com.soa.feature.kerberos.impersonation\",\n            \"category\": \"x-soa-plugin\"\n        },\n        {\n            \"name\": \"Akana Policy Manager Console\",\n            \"description\": \"This feature includes a web based user interface for the central Policy Manager governance application. The user interface provides a dashboard and the primary interface for configuration, management and administration of Policy Manager and Service Manager. The console must interact with a Container (may be the same container) configured with the Akana Policy Manager Services to fulfill the core central governance application requirements.\",\n            \"version\": \"8.3.0\",\n            \"symbolicName\": \"com.soa.feature.console\",\n            \"category\": \"x-soa-feature\"\n        },\n        ...\n    ]\n}\n</code></pre>","operationId":"GET /available","produces":["application/json","application/xml","text/xml"],"parameters":[{"in":"query","name":"filter","type":"string"},{"in":"query","name":"category"}],"responses":{"default":{"schema":{"$ref":"#/definitions/featureSet"}}},"deprecated":false}},"/install":{"post":{"tags":["FeatureService"],"summary":"Install Features","description":"<p>Install a set of features represented by the result of a resolve operation.</p>\n<h4>Sample Request</h4>\n<pre><code>POST /admin/features/install HTTP/1.1\nContent-Type: application/json\nAccept: application/json\n\n{\n  \"unsatisfiedRequirements\" : [ ],\n  \"requiredResources\" : [ {\n    \"id\" : \"com.soa.platform.j2ee/8.3.0\",\n    \"symbolicName\" : \"com.soa.platform.j2ee\",\n    ...\n  }, {\n    \"id\" : \"com.soa.grid/8.3.0\",\n    \"symbolicName\" : \"com.soa.grid\",\n    ...\n  }, {\n    \"id\" : \"org.bitbucket.b_c.jose4j/0.4.4\",\n    \"symbolicName\" : \"org.bitbucket.b_c.jose4j\",\n    ...\n  }, {\n    \"id\" : \"com.soa.security/8.3.0\",\n    \"symbolicName\" : \"com.soa.security\",\n    ...\n  }, {\n    \"id\" : \"com.google.guava/18.0.0\",\n    \"symbolicName\" : \"com.google.guava\",\n    ...\n  }, {\n    \"id\" : \"com.google.gson/2.5.0\",\n    \"symbolicName\" : \"com.google.gson\",\n    ...\n  }, {\n    \"id\" : \"com.netflix.rxjava.core/0.20.0\",\n    \"symbolicName\" : \"com.netflix.rxjava.core\",\n    ...\n  }, {\n    \"id\" : \"com.soa.persistence/8.3.0\",\n    \"symbolicName\" : \"com.soa.persistence\",\n    ...\n  }, {\n    \"id\" : \"jcifs/0.9.4\",\n    \"symbolicName\" : \"jcifs\",\n    ...\n  }\n  ...\n  ],\n  \"optionalResources\" : [ {\n    \"id\" : \"org.freemarker.freemarker/2.3.25.stable-incubating\",\n    \"symbolicName\" : \"org.freemarker.freemarker\",\n    ...\n  }, {\n    \"id\" : \"org.apache.velocity/1.7.0\",\n    \"symbolicName\" : \"org.apache.velocity\",\n    ...\n  } ],\n  \"addedResources\" : [ {\n    \"id\" : \"com.soa.feature.console/8.3.0\",\n    \"symbolicName\" : \"com.soa.feature.console\",\n    ...\n  }, {\n    \"id\" : \"com.soa.feature.subsystems/8.3.0\",\n    \"symbolicName\" : \"com.soa.feature.subsystems\",\n    ...\n  } ]\n}\n</code></pre>\n<h4>Sample Response</h4>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n  \"id\" : \"c8e29be1-19c0-4132-a6bb-01b2a3a3efc6\",\n  \"total\" : 213,\n  \"installed\" : 211,\n  \"status\" : \"INSTALLING\",\n  \"links\" : [ {\n    \"href\" : \"http://localhost:9900/admin/features/install/c8e29be1-19c0-4132-a6bb-01b2a3a3efc6\",\n    \"rel\" : \"self\"\n  } ]\n}\n</code></pre>","operationId":"POST /install","consumes":["application/json","application/xml","text/xml"],"produces":["application/json","application/xml","text/xml"],"parameters":[{"in":"body","name":"body","schema":{"$ref":"#/definitions/resolutionReport"}}],"responses":{"default":{"schema":{"$ref":"#/definitions/installStatus"}}},"deprecated":false}},"/resolve/{id}":{"get":{"tags":["FeatureService"],"summary":"Get Resolution Detail","description":"<p>As with the installation process, resolution can take some time. Feature resolution is performed\nasynchronously by an internal &ldquo;job&rdquo;.</p>\n<p>The normal sequence of states for a resolve job are:\nUNKNOWN -> RESOLVING -> RESOLVED</p>\n<p>These states have the following meaning:</p>\n<ul>\n<li><strong>UNKNOWN</strong> Indicates that the job is queued but has not started.</li>\n<li><strong>RESOLVING</strong> Features are actively being resolved.</li>\n<li><strong>RESOLVED</strong> When the resolve operation completes successfully.</li>\n</ul>\n<h4>Sample Request</h4>\n<pre><code>GET /admin/features/resolve/ResolutionReport-1 HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Sample Response</h4>\n<p>The sample response below has been truncated for brevity.</p>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n  \"unsatisfiedRequirements\" : [ ],\n  \"requiredResources\" : [ {\n    \"id\" : \"com.soa.platform.j2ee/8.3.0\",\n    \"symbolicName\" : \"com.soa.platform.j2ee\",\n    ...\n  }, {\n    \"id\" : \"com.soa.grid/8.3.0\",\n    \"symbolicName\" : \"com.soa.grid\",\n    ...\n  }, {\n    \"id\" : \"org.bitbucket.b_c.jose4j/0.4.4\",\n    \"symbolicName\" : \"org.bitbucket.b_c.jose4j\",\n    ...\n  }, {\n    \"id\" : \"com.soa.security/8.3.0\",\n    \"symbolicName\" : \"com.soa.security\",\n    ...\n  }, {\n    \"id\" : \"com.google.guava/18.0.0\",\n    \"symbolicName\" : \"com.google.guava\",\n    ...\n  }, {\n    \"id\" : \"com.google.gson/2.5.0\",\n    \"symbolicName\" : \"com.google.gson\",\n    ...\n  }, {\n    \"id\" : \"com.netflix.rxjava.core/0.20.0\",\n    \"symbolicName\" : \"com.netflix.rxjava.core\",\n    ...\n  }, {\n    \"id\" : \"com.soa.persistence/8.3.0\",\n    \"symbolicName\" : \"com.soa.persistence\",\n    ...\n  }, {\n    \"id\" : \"jcifs/0.9.4\",\n    \"symbolicName\" : \"jcifs\",\n    ...\n  }\n  ...\n  ],\n  \"optionalResources\" : [ {\n    \"id\" : \"org.freemarker.freemarker/2.3.25.stable-incubating\",\n    \"symbolicName\" : \"org.freemarker.freemarker\",\n    ...\n  }, {\n    \"id\" : \"org.apache.velocity/1.7.0\",\n    \"symbolicName\" : \"org.apache.velocity\",\n    ...\n  } ],\n  \"addedResources\" : [ {\n    \"id\" : \"com.soa.feature.console/8.3.0\",\n    \"symbolicName\" : \"com.soa.feature.console\",\n    ...\n  }, {\n    \"id\" : \"com.soa.feature.subsystems/8.3.0\",\n    \"symbolicName\" : \"com.soa.feature.subsystems\",\n    ...\n  } ],\n  \"status\" : \"RESOLVED\",\n  \"id\" : \"ResolutionReport-1\",\n  \"links\" : [{\n    \"href\" : \"http://localhost:9900/admin/features/install\",\n    \"rel\" : \"install\"\n  }, {\n    \"href\" : \"http://localhost:9900/admin/features/resolve/ResolutionReport-1\",\n    \"rel\" : \"self\"\n  }]\n}\n</code></pre>","operationId":"GET /resolve/{id}","produces":["application/json","application/xml","text/xml"],"parameters":[{"in":"path","name":"id","type":"string","required":true}],"responses":{"200":{"schema":{"$ref":"#/definitions/resolutionReport"}},"404":{"description":"A resolution job with the specified ID could not be found.","schema":{"$ref":"#/definitions/resolutionReport"}}},"deprecated":false}},"/installed/{id}":{"delete":{"tags":["FeatureService"],"summary":"Remove a Feature","description":"<p>Remove a specific feature and its dependencies from the system.</p>\n<h4>Sample Request</h4>\n<pre><code>DELETE /admin/features/installed/{id} HTTP/1.1\n</code></pre>","operationId":"DELETE /installed/{id}","parameters":[{"in":"path","name":"id","type":"string","required":true}],"responses":{"200":{},"404":{"description":"The specified feature ID was not found."}},"deprecated":false},"get":{"tags":["FeatureService"],"summary":"Get Feature Detail","description":"<p>Fetch detailed information for an installed feature.</p>\n<h4>Sample Request</h4>\n<pre><code>GET /admin/features/installed/com.soa.admin.console HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Sample Response</h4>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n  \"name\": \"Akana Admin Console\",\n  \"description\": \"The Admin Console is used to manage...\",\n  \"version\": \"8.3.0\",\n  \"symbolicName\": \"com.soa.admin.console\",\n  \"category\": \"x-soa-feature\",\n  \"links\": [\n    {\n      \"href\": \"http://localhost:9900/admin/features/com.soa.admin.console\",\n      \"rel\": \"self\"\n    }\n  ]\n}\n</code></pre>","operationId":"GET /installed/{id}","produces":["application/json","application/xml","text/xml"],"parameters":[{"in":"path","name":"id","type":"string","required":true}],"responses":{"200":{"schema":{"$ref":"#/definitions/featureInfo"}},"404":{"description":"The feature symbolic name can't be found","schema":{"$ref":"#/definitions/featureInfo"}}},"deprecated":false}},"/installed":{"get":{"tags":["FeatureService"],"summary":"Get Installed Features","description":"<p>Fetch information on all installed features.</p>\n<h4>Sample Request</h4>\n<pre><code>GET /admin/features HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Sample Response</h4>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n{\n    \"links\": [\n        {\n            \"href\": \"http://localhost:9900/admin/features/available\",\n            \"rel\": \"available\"\n        },\n        {\n            \"href\": \"http://localhost:9900/admin/features/resolve\",\n            \"rel\": \"resolve\"\n        },\n        {\n            \"href\": \"http://localhost:9900/admin/features/install\",\n            \"rel\": \"install\"\n        },\n        {\n            \"href\": \"http://localhost:9900/admin/features\",\n            \"rel\": \"self\"\n        }\n    ],\n    \"features\": [\n        {\n            \"name\": \"Akana Admin Console\",\n            \"description\": \"The Admin Console is used to manage...\",\n            \"version\": \"8.3.0\",\n            \"symbolicName\": \"com.soa.admin.console\",\n            \"category\": \"x-soa-feature\",\n            \"links\": [\n                {\n                    \"href\": \"http://localhost:9900/admin/features/com.soa.admin.console\",\n                    \"rel\": \"self\"\n                }\n            ]\n        }\n    ]\n}\n</code></pre>","operationId":"GET /installed","produces":["application/json","application/xml","text/xml"],"responses":{"default":{"schema":{"$ref":"#/definitions/featureSet"}}},"deprecated":false}},"/":{"get":{"tags":["FeatureService"],"summary":"Get Installed Features","description":"Get all installed features.","operationId":"GET ","produces":["application/json","application/xml","text/xml"],"responses":{"default":{"schema":{"$ref":"#/definitions/featureSet"}}},"deprecated":false}},"/categories":{"get":{"tags":["FeatureService"],"summary":"Get Feature Categories","description":"<p>Get all feature categories.</p>\n<h4>Sample Request</h4>\n<pre><code>GET /admin/features/categories HTTP/1.1\nAccept: application/json\n</code></pre>\n<h4>Sample Response</h4>\n<pre><code>HTTP/1.1 200 OK\nContent-Type:application/json; charset=UTF-8\n\n[\n  {\n    \"name\": \"Plug-in\",\n    \"value\": \"x-soa-plugin\"\n  },\n  {\n    \"name\": \"Feature\",\n    \"value\": \"x-soa-feature\"\n  },\n  {\n    \"name\": \"Tool\",\n    \"value\": \"x-soa-tool\"\n  }\n]\n</code></pre>","operationId":"GET /categories","produces":["application/json","application/xml","text/xml"],"responses":{"default":{"schema":{"$ref":"#/definitions/nameValuePair"}}},"deprecated":false}}},"definitions":{"resourceRequirements":{"$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"resource":{"type":"string"},"requirements":{"type":"array","minItems":0,"items":{"type":"string"}}}},"nameValuePair":{"$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}}},"featureInfo":{"$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"version":{"type":"string"},"symbolicName":{"type":"string"},"category":{"type":"string"},"links":{"type":"array","minItems":0,"items":{"$ref":"#/definitions/link"}}}},"link":{"$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"href":{"type":"string"},"rel":{"type":"string"},"title":{"type":"string"},"type":{"type":"string"}}},"resolutionReport":{"$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"unsatisfiedRequirements":{"type":"array","minItems":0,"items":{"$ref":"#/definitions/resourceRequirements"}},"requiredResources":{"type":"array","minItems":0,"items":{"$ref":"#/definitions/resourceInfo"}},"optionalResources":{"type":"array","minItems":0,"items":{"$ref":"#/definitions/resourceInfo"}},"addedResources":{"type":"array","minItems":0,"items":{"$ref":"#/definitions/resourceInfo"}},"status":{"type":"string"},"id":{"type":"string"},"links":{"type":"array","minItems":0,"items":{"$ref":"#/definitions/link"}}}},"featureSet":{"$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"links":{"type":"array","minItems":0,"items":{"$ref":"#/definitions/link"}},"features":{"type":"array","minItems":0,"items":{"$ref":"#/definitions/featureInfo"}}}},"installStatus":{"$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"id":{"type":"string"},"total":{"type":"string"},"installed":{"type":"string"},"status":{"type":"string"},"message":{"type":"string"},"report":{"$ref":"#/definitions/resolutionReport"},"links":{"type":"array","minItems":0,"items":{"$ref":"#/definitions/link"}}},"required":["total","installed","report"]},"resourceInfo":{"$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"id":{"type":"string"},"symbolicName":{"type":"string"},"presentationName":{"type":"string"},"repositoryUrl":{"type":"string"},"bundleUrl":{"type":"string"},"description":{"type":"string"},"size":{"type":"string"},"version":{"type":"string"},"provides":{"type":"array","minItems":0,"items":{"type":"string"}},"requires":{"type":"array","minItems":0,"items":{"type":"string"}},"properties":{"type":"array","minItems":0,"items":{"$ref":"#/definitions/nameValuePair"}}}}}}