---
layout: page
title: Installing Envision 1.2
description: Learn how to install the Envision 1.2 analytics and monitoring solution.
product: ev
category: gs
weight: 02
sub-nav-class: Installation
type: page
nav-title: Installing Envision 1.2
---
<h2 id="top">Installing Envision 1.2</h2>
<p>Learn how to install the Envision 1.2 analytics and monitoring solution.</p>
<p><span class="apidoc_red"><strong>Note</strong></span>: When installing Envision, make sure that Policy Manager is installed in the same container. The platform does not support running Envision in its own container. </p>
<p><!--<a href="../envision_install/installing_envision_features.html" class="button secondary">Installing Envision Features (Main Topic)</a>-->  <a href="../envision_reference/env_toc.html" class="button secondary">Envision Reference</a></p>
<h5 class="stamp">Supported Platforms: 8.2 (with PM Analytics Plugin 8.2), 8.4 (with PM Analytics Plugin 8.4)</h5>
<div class = "divider1"></div>
<h3 style="color: gray;">Table of Contents</h3>



<h5 style="color: gray;"><a href="#h_install_procedure_new">Installation Procedure: Completely new installation</a></h5>



<ul class="table_of_contents">
  <li><a href="#in_ev_introduction">Introduction</a></li>
  <li><a href="#in_ev_download_install_mongodb">Step 1: Download and Install MongoDB</a></li>
  <li><a href="#in_ev_create_mongodb_data_folder">Step 2: Create MongoDB Data Folder</a></li>
  <li><a href="#in_ev_start_mongodb">Step 3: Start MongoDB</a></li>
  <li><a href="#in_ev_install_akana_platform">Step 4: Install Akana Platform</a></li>
  <li><a href="#in_ev_create_container_pm">Step 5: Run Configurator to create a Policy Manager container</a></li>
  <li><a href="#in_ev_download_env_zip">Step 6: Download Envision ZIP File</a></li>
  <li><a href="#in_ev_new_install_ev">Step 7: Install Envision into the Policy Manager container</a></li>
  <li><a href="#in_ev_install_configure_sample_data_sets">Step 8: Install and Configure Sample Data Sets</a></li>
  <li><a href="#in_ev_launch_env_console">Step 9: Launch Envision Console</a></li>
</ul>



<h5 style="color: gray;"><a href="#h_install_procedure_existing">Installation Procedure: Adding Envision to an existing installation</a></h5>



<ul class="table_of_contents">
  <li><a href="#existing_prerequisites">Prerequisites</a></li>
  <li><a href="#existing_steps">Existing Policy Manager installation: Steps for installing Envision</a></li>
</ul>



<h5 style="color: gray;"><a href="#h_install_tasks_reference">Installation Tasks/Reference:</a></h5>



<ul class="table_of_contents">
  <li><a href="#database_and_container_shutdown">Database and Container Shutdown Procedure</a></li>
  <li><a href="#ca_configure_ev_timezone">Configuration Action: Configure Envision Time Zone</a></li>
</ul>




<div class = "divider1"></div>
<a name="h_install_procedure_new"></a><h3>Installation Procedure: Completely new installation</h3>




<a name="in_ev_introduction"></a><h3>Introduction</h3>
<p>Installation of the Envision 1.2 analytics and monitoring solution requires:</p>
<ul>
  <li>Installation of version 8.2 or 8.4 of the Akana Platform.</li>
  <li>Installation of the corresponding version (same release number) of the PM Analytics Plugin.</li>
  <li>Installation and setup of a MongoDB database.</li>
  <li>Setting up at least one Policy Manager container.</li>
  <li>Installation and configuration of the Envision feature on the Policy Manager container.</li>
</ul>
<a name="in_ev_download_install_mongodb"></a><h3>Step 1: Download and Install MongoDB</h3>
<ol>
  <li>Go to http://www.mongodb.org/downloads and download the MongoDB Version 3.2 file for your platform. Windows 64-bit (MSI), Linux 64-bit (TGZ), and Solaris 64-bit (TGZ) are supported. If you are on a Mac, you can install Mongo with homebrew using <strong>brew install mongo</strong>.</li>
  <li>Install MongoDB on your platform.</li>
</ol>
<p><strong>Note</strong>: these instructions provide a basic MongoDB installation approach. For information on installation instructions and shutdown procedures for your specific deployment, refer to the MongoDB documentation at this URL: <a href="https://docs.mongodb.org/v3.2/tutorial/manage-mongodb-processes" title="Mongo DB documentation link" target="_blank">https://docs.mongodb.org/v3.2/tutorial/manage-mongodb-processes</a>.</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_create_mongodb_data_folder"></a><h3>Step 2: Create MongoDB Data Folder</h3>
<ol>
  <li>Create a MongoDB data folder. The default is <strong>/data/db</strong>. If you prefer to use a different location, use <strong>--dbpath</strong>.</li>
</ol>
<p><a href="#top">back to top</a></p>



<a name="in_ev_start_mongodb"></a><h3>Step 3: Start MongoDB</h3>
<ol>
  <li>Navigate to the MongoDB installation directory: for example, <strong>/MongoDB/3.2/bin</strong>.</li>
  <li>Enter <strong>mongod</strong>.</li>
  <li>If MongoDB successfully starts, your command window displays <strong>waiting for connections</strong> followed by the port number.</li>
</ol>
<p><strong>Note (Linux only)</strong>: Once you've started MongoDB, you might need to run the <strong>fork</strong> command to keep it running in the background while you complete the other installation steps. <strong>logpath</strong> sets the path for the log. For example: <strong>mongod -fork -logpath /opt/mongodb/mongod.log</strong>.</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_install_akana_platform"></a><h3>Step 4: Install Akana Platform</h3>
<p>The Envision product must be installed to the Akana Platform. For detailed instructions, refer to the installation instructions corresponding to your Akana Platform version:</p>
<ul>
  <li><a href="../../sp/platform_install/installing_akana_api_platform_v82.htm">Installing Akana Platform 8.2</a></li>
  <li><a href="../../sp/platform_install/installing_akana_api_platform_v84.htm">Installing Akana Platform 8.4</a></li>
</ul>
<p>If the Akana Platform is already installed, skip to the next step.</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_create_container_pm"></a><h3>Step 5: Run Configurator to create a Policy Manager container</h3>
<p>The Configurator steps you through creating a container, specifying basic values about the container.</p>
<p>Create a Policy Manager container. For detailed instructions, refer to <a href="http://docs.akana.com/sp/platform_install/installing_akana_api_platform_v84.htm#run_configurator_pm" title="Akana API Platform install doc for creating first container">Run Configurator to create the first container</a> and <a href="http://docs.akana.com/sp/platform_install/installing_akana_api_platform_v84.htm#install_pm_cm" title="Akana API Platform install doc for installing Policy Manager">Install Policy Manager/Community Manager features on the container</a>. You don't need to install Community Manager to run Envision, only the Policy Manager features. Choose features applicable for your installation, but at a minimum the Policy Manager features.</p>
<p>{<span class="apidoc_red">Query from ML noted 11/9/17: I would like Tim&rsquo;s input if the pm install needs akana-pm-envision-8.0.xxxx. Also verify where exactly this info should go.</span>}</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_download_env_zip"></a><h3>Step 6: Download Envision ZIP File</h3>
<p>The Envision ZIP file must be installed to the Akana Platform. Download the Envision self-extracting ZIP file from the Akana Customer Support site.</p>
<ol>
  <li>Log in to the <a href="https://library.akana.com/display/MAIN/Downloads" title="Akana support site" target="_blank">Akana support site</a>.</li>
  <li>Go to <strong>Downloads</strong> &gt; <strong>Envision</strong> &gt; <strong>1.2</strong>.</li>
  <li>Download the Envision ZIP file:
  <p><strong>akana-envision-1.2.xxxx.zip</strong></p></li>
</ol>
<p><a href="#top">back to top</a></p>



<a name="in_ev_new_install_ev"></a><h3>Step 7: Install Envision into the Policy Manager container</h3>
<p>For instructions to install Envision into the Policy Manager container, follow <a href="#existing_steps">Existing Policy Manager installation: Steps for installing Envision</a>, steps 2 through 8.</p>
<p>xxxxxxxx</p>
<p><a href="#top">back to top</a></p>




<!--<a name="07_configure_env_container"></a><h3>Step 7: Configure Envision Container</h3>
<p>The Envision feature is typically installed into a standalone container.</p>
<ol>
  <li>Launch the <strong>Configure Container Instance Wizard</strong>. Navigate to the Platform release directory (\<strong>{release_directory}\bin</strong>) and enter:
<ul>
  <li>startup.bat configurator (Windows)</li>
  <li>startup.sh configurator (UNIX)</li>
</ul>
</li>
  <li>Select the <strong>Standalone Deployment</strong> option and complete the configuration.</li>
</ol>
<p>For detailed instructions, see <a href="../../../sp/container_management/configure_standalone_container.htm">Configure Standalone Container</a>. For a complete list of options, see <a href="../../../sp/container_management/container_management.htm#deployment">Container Deployment Options</a>.</p>
<p><a href="#top">back to top</a></p>
-->


<!--<a name="08_install_and_configure_env_feature"></a><h3>Step 8: Install and Configure Envision Feature</h3>
<ol>
  <li>Launch the <strong>Akana Administration Console</strong> (http://{hostname}:{port}/admin/).</li>
  <li>Select the <strong>Repository</strong> tab and click <strong>Refresh</strong>. The Akana Envision Repository is displayed.</li>
  <li>On the <strong>Available Features</strong> screen, from the Filter <strong>menu</strong>, select <strong>Feature</strong>.</li>
  <li>Select the <strong>Akana Envision</strong> feature and then click <strong>Install Feature</strong>.</li>
  <li>After the installation is complete, click <strong>Configure</strong> and continue.</li>
  <li>On the <strong>Configure MongoDB Database</strong> screen, in the <strong>MongoClientURI</strong> field, specify the host name and port where the MongoDB database is installed. The default MongoDB port is <strong>27017</strong>.</li>
  <li>Click <strong>Finish</strong>. The URI is assigned, and the system automatically configures seed data and adds schemas.</li>
</ol>
<p><a href="#top">back to top</a></p>
-->


<a name="in_ev_install_configure_sample_data_sets"></a><h3>Step 8: Install and Configure Sample Data Sets</h3>
<ol>
  <li>On the <strong>Available Features</strong> screen, from the <strong>Filter</strong> menu at the top left, select <strong>Plug-ins</strong>.</li>
  <li>Select the <strong>Akana Sample Data Sets for Demo Charts</strong> plug-in, and click <strong>Install Feature</strong>.</li>
  <li>After the installation is complete, click <strong>Configure</strong> and continue.</li>
  <li>On the <strong>Configure Sample Data Sets</strong> screen, select the checkbox for each data set you want to install. Click <strong>Finish</strong>, and then click <strong>OK</strong> to restart the container.</li>
  <li>When the restart is complete, click <strong>Close</strong>.</li>
</ol>
<p><strong>Note:</strong> After the installation is compete, you can manage (install / uninstall) data sets via the <strong>Configuration</strong> tab by selecting <strong>Configure Sample Data Sets</strong>.</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_launch_env_console"></a><h3>Step 9: Launch Envision Console</h3>
<ol>
  <li>Enter the following URL to launch the <strong>Envision Console</strong>:
  <p>http://{hostname}:{port}/analytics/login</p></li>
  <li>Log into the <strong>Envision Console</strong> using the Username/Password you defined for your Envision container, and then click the <strong>Dashboards</strong> tab.
<p><img src="images/envision_dashboard.jpg" alt="Envision" title="Envision Dashboard" /></p></li>
  <li>If you do not see the data sets and/or have problems logging into the <strong>Envision Console</strong>, restart the Envision container (See <a href="../../../sp/container_management/start_stop_container_instance.htm">Starting and Stopping a Container Instance</a> and refer to <a href="#in_ev_start_mongodb">Step 3: Start MongoDB</a> for instructions on how to start MongoDB.</li>
</ol>
<p><a href="#top">back to top</a></p>



<!--<a name="11_review_ref_guide"></a><h3>Step 11: Review Reference Guide</h3>
<p>To learn about Envision functionality and how to configure various monitoring scenarios, refer to <a href="../envision_reference/env_toc.html">Envision Reference</a>.</p>
<p><a href="#top">back to top</a></p>
-->



<div class = "divider1"></div>
<a name="h_install_procedure_existing"></a><h3>Installation Procedure: Adding Envision to an existing installation</h3>




<a name="existing_prerequisites"></a><h3>Prerequisites</h3>
<p>You'll need the following:</p>
<p>Akana Policy Manager/Envision ZIP files. For example:</p>
<ul>
  <li>akana-pm-envision-8.0.219.zip</li>
  <li>akana-envision-1.2.2470.zip</li>
</ul>
<p>MongoDB for example, MongoDB Community 3.2)</p>



<a name="existing_steps"></a><h3>Existing Policy Manager installation: Steps for installing Envision</h3>
<p>The steps below assume an existing installation of Akana API Platform 8.2x or 8.4x. The installation should already have the <strong>Akana MongoDB Support</strong> feature enabled for all Akana containers.</p>
<p>These steps are for manual installation of the Envision feature. If you want to use the automation script to enable this feature, please consult with your Akana Professional Services representative.</p>
<ol>
  <li>Unzip akana-pm-envision-8.0.219.zip and akana-envision-1.2.2470.zip to Akana installation folder for all Akana instances. For example: /opt/akana_sw/sm8.</li>
  <li>Choose one Policy Manager container for installation of Envision. It must be installed directly on one of the PM containers.</li>
  <li>Restart the designated Policy Manager container.</li>
  <li>After restart, you'll see the following Envision features in the Akana Administration Console for the container:
    <ul>
      <li>Akana Envision Metrics Collector</li>
      <li>Akana Envision</li>
      <li>Akana Envision Policy Manager Service Extensions</li>
      <li>Akana Envision Policy Manager Console Extensions</li>
      <li>Akana Policy Manager Analytics Security Provider</li>
      <li>Akana Sample Data Sets for Demo Charts</li>
    </ul>
  </li>

  <li>Install all the features above and then restart the container.</li>
  <li>Repeat steps 3 through 5 above for the other Policy Manager containers. However, on these Policy Manager containers, after the first, you'll need to install only the following features:
    <ul>
      <li>Akana Envision Metrics Collector</li>
      <li>Akana Envision Policy Manager Service Extensions</li>
      <li>Akana Envision Policy Manager Console Extensions</li>
    </ul>
  </li>

  <li>Repeat steps 3 through 5 above for all other containers, such as Community Manager or Network Director containers. For non-PM containers, install <strong>only</strong> the following feature:
    <ul>
      <li>Akana Envision Metrics Collector  </li>
    </ul>
  </li>
  <li>{<span class="apidoc_red">Query from Samir: you find step 7 which says:
Repeat steps 3 through 5 above for all other containers, such as Community Manager or Network Director containers. For non-PM containers, install only the following feature:
• Akana Envision Metrics Collector // It seems to contradict itself – CM and ND are non-PM containers. I don’t believe everything in Step 4 needs to be installed on ND. I have Envision working and I don’t have all those features installed on ND.

Something needs correcting.</span>}</li>
  <li>Log in to the Envision portal running on http://{PM/Envision URL}/analytics.</li>
</ol>
<p><a href="#top">back to top</a></p>




<div class = "divider1"></div>
<a name="h_install_tasks_reference"></a><h3>Installation Tasks/Reference:</h3>




<a name="database_and_container_shutdown"></a><h3>Database and Container Shutdown Procedure</h3>
<p>When shutting down your Envision system, it's important to shut down the Envision container, and MongoDB database in the following sequence to avoid data loss and/or the requirement of performing data repair.</p>
<ol>
  <li>First, shut down the container. Refer to <a href="../../../sp/container_management/start_stop_container_instance.htm">Starting and Stopping a Container Instance</a> for shutdown options.</li>
  <li>Then, shut down the MongoDB container. For information on installation instructions and shutdown procedures for your specific deployment, refer to the MongoDB documentation at this URL: <a href="https://docs.mongodb.org/v3.2/tutorial/manage-mongodb-processes" title="Mongo DB documentation link" target="_blank">https://docs.mongodb.org/v3.2/tutorial/manage-mongodb-processes</a>.</li>
</ol>
<p><a href="#top">back to top</a></p>



<a name="ca_configure_ev_timezone"></a><h3>Configuration Action: Configure Envision Time Zone</h3>
<p>Data aggregation for Envision requires that you set up a Policy Manager rollup time zone to match the Envision time zone setting. When Envision retrieves data for a chart, it selects only records that match exactly the time zone set in this configuration action. If the Envision time zone isn't set, or is set incorrectly, charts might include data for an incorrect time period, or might not show any data at all, because of time zone differences.</p>
<p><img src="images/ca_configure_ev_timezone.jpg" alt="Configuring the global time zone for rollups" /></p>
<p>Set the <strong>Default Time Zone</strong>, <strong>Rollup Time Zone</strong>, and <strong>Time Zone Alias</strong>, as needed.</p>
<p><a href="#top">back to top</a></p>