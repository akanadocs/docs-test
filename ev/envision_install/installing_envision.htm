---
layout: page
title: Installing Envision 1.2.1
description: Learn how to install the Envision 1.2.1 analytics and monitoring solution.
product: ev
category: gs
weight: 02
sub-nav-class: Installation
type: page
nav-title: Installing Envision 1.2.1
---
<h2 id="top">Installing Envision 1.2.1</h2>
<p>Learn how to install the Envision 1.2.1 analytics and monitoring solution.</p>
<p><strong>Note</strong>: When installing Envision, make sure that Policy Manager is installed in the same container. The platform does not support running Envision without Policy Manager in the same container.</p>
<p><a href="system_requirements_env.htm" class="button secondary">System Requirements for Akana Envision 1.2.1</a>  
<a href="../envision_reference/env_toc.html" class="button secondary">Envision Reference</a></p>
<h5 class="stamp">Supported Platforms: 8.4 (with PM Analytics Plugin 8.4)</h5>
<div class = "divider1"></div>
<h3 style="color: gray;">Table of Contents</h3>



<h5 style="color: gray;"><a href="#h_install_procedure_new">Installation Procedure: Completely new installation</a></h5>



<ul class="table_of_contents">
  <li><a href="#in_ev_introduction">Introduction</a></li>
  <li><a href="#in_ev_download_install_mongodb">Step 1: Download and Install MongoDB</a></li>
  <li><a href="#in_ev_create_mongodb_data_folder">Step 2: Create MongoDB Data Folder</a></li>
  <li><a href="#in_ev_start_mongodb">Step 3: Start MongoDB</a></li>
  <li><a href="#in_ev_install_akana_platform">Step 4: Install Akana Platform</a></li>
  <li><a href="#in_ev_create_container_pm">Step 5: Run Configurator to create a Policy Manager container</a></li>
  <li><a href="#in_ev_download_env_zip">Step 6: Download ZIP files for Envision and the PM Analytics Plug-In</a></li>
  <li><a href="#in_ev_new_install_ev">Step 7: Install Envision into the Policy Manager container</a></li>
  <li><a href="#in_ev_install_configure_sample_data_sets">Step 8: Install and Configure Sample Data Sets</a></li>
  <li><a href="#in_ev_launch_env_console">Step 9: Launch Envision Console</a></li>
</ul>



<h5 style="color: gray;"><a href="#h_install_procedure_existing">Installation Procedure: Adding Envision to an existing installation</a></h5>



<ul class="table_of_contents">
  <li><a href="#existing_prerequisites">Prerequisites</a></li>
  <li><a href="#existing_steps">Existing Policy Manager installation: Steps for installing Envision</a></li>
</ul>



<h5 style="color: gray;"><a href="#h_install_tasks_reference">Installation Tasks/Reference:</a></h5>



<ul class="table_of_contents">
  <li><a href="#database_and_container_shutdown">Database and Container Shutdown Procedure</a></li>
  <li><a href="#ca_configure_ev_timezone">Configuration Action: Configure Envision Time Zone</a></li>
  <li><a href="#supported_mongodb_versions">Supported MongoDB versions</a></li>
  <li><a href="#in_ev_standalone">Installing Envision in its own container</a></li>
</ul>




<div class = "divider1"></div>
<a name="h_install_procedure_new"></a><h3>Installation Procedure: Completely new installation</h3>




<a name="in_ev_introduction"></a><h3>Introduction</h3>
<p>Installation of the Envision 1.2.1 analytics and monitoring solution requires:</p>
<ul>
  <li>Installation of version 8.4 of the Akana Platform.</li>
  <li>Installation of the corresponding version (same release number) of the PM Analytics Plugin.</li>
  <li>Installation and setup of a MongoDB database. For information on supported versions, see <a href="#supported_mongodb_versions">Supported MongoDB versions</a>.</li>
  <li>Setting up at least one Policy Manager container.</li>
  <li>Installation and configuration of the Envision feature on the Policy Manager container.</li>
  </ul>
<p><strong>Note</strong>: If you're installing Envision in a separate container from Policy Manager, see <a href="#in_ev_standalone">Installing Envision in its own container</a>.</p>
<a name="in_ev_download_install_mongodb"></a><h3>Step 1: Download and Install MongoDB</h3>
<ol>
  <li>Go to http://www.mongodb.org/downloads and download the MongoDB Version 3.2 file for your platform. Windows 64-bit (MSI), Linux 64-bit (TGZ), and Solaris 64-bit (TGZ) are supported. If you are on a Mac, you can install Mongo with homebrew using <strong>brew install mongo</strong>.</li>
  <li>Install MongoDB on your platform.</li>
</ol>
<p><strong>Note</strong>: these instructions provide a basic MongoDB installation approach. For information on installation instructions and shutdown procedures for your specific deployment, refer to the MongoDB documentation at this URL: <a href="https://docs.mongodb.org/v3.2/tutorial/manage-mongodb-processes" title="Mongo DB documentation link" target="_blank">https://docs.mongodb.org/v3.2/tutorial/manage-mongodb-processes</a>.</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_create_mongodb_data_folder"></a><h3>Step 2: Create MongoDB Data Folder</h3>
<ol>
  <li>Create a MongoDB data folder. The default is <strong>/data/db</strong>. If you prefer to use a different location, use <strong>--dbpath</strong>.</li>
</ol>
<p><a href="#top">back to top</a></p>



<a name="in_ev_start_mongodb"></a><h3>Step 3: Start MongoDB</h3>
<ol>
  <li>Navigate to the MongoDB installation directory: for example, <strong>/MongoDB/3.2/bin</strong>.</li>
  <li>Enter <strong>mongod</strong>.</li>
  <li>If MongoDB successfully starts, your command window displays <strong>waiting for connections</strong> followed by the port number.</li>
</ol>
<p><strong>Note (Linux only)</strong>: Once you've started MongoDB, you might need to run the <strong>fork</strong> command to keep it running in the background while you complete the other installation steps. <strong>logpath</strong> sets the path for the log. For example: <strong>mongod -fork -logpath /opt/mongodb/mongod.log</strong>.</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_install_akana_platform"></a><h3>Step 4: Install Akana Platform</h3>
<p>The Envision product must be installed to the Akana Platform. For detailed instructions, refer to the installation instructions:</p>
<ul>
  <li><a href="../../sp/platform_install/installing_akana_api_platform_v84.htm">Installing Akana Platform 8.4</a></li>
</ul>
<p>If the Akana Platform is already installed, skip to the next step.</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_create_container_pm"></a><h3>Step 5: Run Configurator to create a Policy Manager container</h3>
<p><strong>Note</strong>: If you're installing Envision in a separate container from Policy Manager, see <a href="#in_ev_standalone">Installing Envision in its own container</a>.</p>
<p>The Configurator steps you through creating a container, specifying basic values about the container.</p>
<p>Create a Policy Manager container. For detailed instructions, refer to <a href="http://docs.akana.com/sp/platform_install/installing_akana_api_platform_v84.htm#run_configurator_pm" title="Akana API Platform install doc for creating first container">Run Configurator to create the first container</a> and <a href="http://docs.akana.com/sp/platform_install/installing_akana_api_platform_v84.htm#install_pm_cm" title="Akana API Platform install doc for installing Policy Manager">Install Policy Manager/Community Manager features on the container</a>. You don't need to install Community Manager to run Envision, only the Policy Manager features. Choose features applicable for your installation, but at a minimum the Policy Manager features.</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_download_env_zip"></a>
<h3>Step 6: Download ZIP files for Envision and the PM Analytics Plug-In</h3>
<p>Envision and the PM Analytics Plug-In must be installed to the Akana Platform. Download the ZIP files from the Akana Customer Support site.</p>
<ol>
  <li>Log in to the <a href="https://library.akana.com/display/MAIN/Downloads" title="Akana support site" target="_blank">Akana support site</a>.</li>
  <li>Go to <strong>Downloads</strong> &gt; <strong>Envision</strong> &gt; <strong>1.2.1</strong>.</li>
  <li>Download the Envision ZIP file:
    <p><span class="apidoc_red"><strong>akana-envision-1.2.1.xxxx</strong></span><strong>.zip</strong></p></li>
  <li>Go to <strong>Downloads</strong> &gt; <strong>Envision</strong> &gt; <strong>PM Analytics Plugin</strong>.</li>
  <li>Go to the folder for  the version corresponding to your platform version, and download the Envision ZIP file:
    <ul>
      <li><strong>PM-AnalyticsPlugin8.4</strong> &gt; <span class="apidoc_red"><strong>akana-pm-envision-8.0.xxx</strong></span><strong>.zip</strong></li>
      </ul>
    </li>
</ol>
<p><a href="#top">back to top</a></p>



<a name="in_ev_new_install_ev"></a><h3>Step 7: Install Envision into the Policy Manager container</h3>
<p>For instructions to install Envision into the Policy Manager container, follow <a href="#existing_steps">Existing Policy Manager installation: Steps for installing Envision</a>.</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_install_configure_sample_data_sets"></a><h3>Step 8: Install and Configure Sample Data Sets</h3>
<ol>
  <li>On the <strong>Available Features</strong> screen, from the <strong>Filter</strong> menu at the top left, select <strong>Plug-ins</strong>.</li>
  <li>Select the <strong>Akana Sample Data Sets for Demo Charts</strong> plug-in, and click <strong>Install Feature</strong>.</li>
  <li>After the installation is complete, click <strong>Configure</strong> and continue.</li>
  <li>On the <strong>Configure Sample Data Sets</strong> screen, select the checkbox for each data set you want to install. Click <strong>Finish</strong>, and then click <strong>OK</strong> to restart the container.</li>
  <li>When the restart is complete, click <strong>Close</strong>.</li>
</ol>
<p><strong>Note:</strong> After the installation is compete, you can manage (install / uninstall) data sets via the <strong>Configuration</strong> tab by selecting <strong>Configure Sample Data Sets</strong>.</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_launch_env_console"></a><h3>Step 9: Launch Envision Console</h3>
<ol>
  <li>Enter the following URL to launch the <strong>Envision Console</strong>:
  <p>http://{hostname}:{port}/analytics/login</p></li>
  <li>Log into the <strong>Envision Console</strong> using the Username/Password you defined for your Envision container, and then click the <strong>Dashboards</strong> tab.
  <p><strong>Note</strong>: Sign in using the Local Domain, not the Admin Console domain.</p>
    <p><img src="images/envision_dashboard.jpg" alt="Envision" title="Envision Dashboard" /></p>
  </li>
  <li>If you do not see the data sets and/or have problems logging into the <strong>Envision Console</strong>, restart the Envision container (See <a href="../../../sp/container_management/start_stop_container_instance.htm">Starting and Stopping a Container Instance</a> and refer to <a href="#in_ev_start_mongodb">Step 3: Start MongoDB</a> for instructions on how to start MongoDB.</li>
</ol>
<p><a href="#top">back to top</a></p>



<!--<a name="11_review_ref_guide"></a><h3>Step 11: Review Reference Guide</h3>
<p>To learn about Envision functionality and how to configure various monitoring scenarios, refer to <a href="../envision_reference/env_toc.html">Envision Reference</a>.</p>
<p><a href="#top">back to top</a></p>
-->



<div class = "divider1"></div>
<a name="h_install_procedure_existing"></a><h3>Installation Procedure: Adding Envision to an existing installation</h3>




<a name="existing_prerequisites"></a><h3>Prerequisites</h3>
<p>You'll need the following:</p>
<ul>
  <li>Akana Envision and PM Analytics Plug-In ZIP files. For example:
    <ul>
      <li><span class="apidoc_red">akana-pm-envision-8.0.xxx.zip</span></li>
      <li><span class="apidoc_red">akana-envision-1.2.1.xxxx.zip</span></li>
    </ul>
  </li>
  <li>MongoDB. For example, MongoDB Community 3.2. For information on supported versions, see <a href="#supported_mongodb_versions">Supported MongoDB versions</a>.</li>
</ul>
<a name="existing_steps"></a><h3>Existing Policy Manager installation: Steps for installing Envision</h3>
<p>The steps below assume an existing installation of Akana API Platform 8.4x. The installation should already have the <strong>Akana MongoDB Support</strong> feature enabled for all Akana containers.</p>
<p>These steps are for manual installation of the Envision feature. If you want to use the automation script to enable this feature, please consult with your Akana Professional Services representative.</p>
<ol>
  <li>Unzip <span class="apidoc_red">akana-pm-envision-8.1.xxx</span>.zip and <span class="apidoc_red">akana-envision-1.2.1.xxxx</span>.zip to the Akana installation folder for all Akana instances. For example: /opt/akana/ap84.</li>
  <li>Choose one Policy Manager container for installation of Envision. It must be installed directly on one of the PM containers.</li>
  <li>Restart the designated Policy Manager container.</li>
  <li>After restart, you'll see the following Envision features or plug-ins in the Akana Administration Console for the container:
    <ul>
      <li>Akana Envision Metrics Collector (plug-in)</li>
      <li>Akana Envision (feature)</li>
      <li>Akana Envision Policy Manager Service Extensions (plug-in)</li>
      <li>Akana Envision Policy Manager Console Extensions (plug-in)</li>
      <li>Akana Policy Manager Analytics Security Provider (plug-in)</li>
      <li>Akana Sample Data Sets for Demo Charts (plug-in)</li>
    </ul>
  </li>

  <li>Install all the features above and then restart the container.</li>
  <li>Repeat steps 3 through 5 above for the other Policy Manager containers. However, on these Policy Manager containers, after the first, you'll need to install only the following plug-ins:
    <ul>
      <li>Akana Envision Metrics Collector</li>
      <li>Akana Envision Policy Manager Service Extensions</li>
      <li>Akana Envision Policy Manager Console Extensions</li>
    </ul>
  </li>

  <li>Repeat steps 3 through 5 above for all Network Director containers, but install <strong>only</strong> the following plug-in:
    <ul>
      <li>Akana Envision Metrics Collector</li>
    </ul>
  </li>
  <li>Log in to the Envision portal running on http://{PM/Envision URL}/analytics.</li>
</ol>
<p><a href="#top">back to top</a></p>




<div class = "divider1"></div>
<a name="h_install_tasks_reference"></a><h3>Installation Tasks/Reference:</h3>




<a name="database_and_container_shutdown"></a><h3>Database and Container Shutdown Procedure</h3>
<p>When shutting down your Envision system, it's important to shut down the Envision container, and MongoDB database in the following sequence to avoid data loss and/or the requirement of performing data repair.</p>
<ol>
  <li>First, shut down the container. Refer to <a href="../../../sp/container_management/start_stop_container_instance.htm">Starting and Stopping a Container Instance</a> for shutdown options.</li>
  <li>Then, shut down the MongoDB container. For information on installation instructions and shutdown procedures for your specific deployment, refer to the MongoDB documentation at this URL: <a href="https://docs.mongodb.org/v3.2/tutorial/manage-mongodb-processes" title="Mongo DB documentation link" target="_blank">https://docs.mongodb.org/v3.2/tutorial/manage-mongodb-processes</a>.</li>
</ol>
<p><a href="#top">back to top</a></p>



<a name="ca_configure_ev_timezone"></a><h3>Configuration Action: Configure Envision Time Zone</h3>
<p>Data aggregation for Envision requires that you set up a Policy Manager rollup time zone to match the Envision time zone setting. When Envision retrieves data for a chart, it selects only records that match exactly the time zone set in this configuration action. If the Envision time zone isn't set, or is set incorrectly, charts might include data for an incorrect time period, or might not show any data at all, because of time zone differences.</p>
<p><img src="images/ca_configure_ev_timezone.jpg" alt="Configuring the global time zone for rollups" /></p>
<p>Set the <strong>Default Time Zone</strong>, <strong>Rollup Time Zone</strong>, and <strong>Time Zone Alias</strong>, as needed.</p>
<p><a href="#top">back to top</a></p>



<a name="supported_mongodb_versions"></a><h3>Supported MongoDB versions</h3>
<p>For information on the MongoDB versions supported with Envision, refer to the <a href="system_requirements_env_1_2.htm#supported_mongodb_versions">System Requirements doc for Envision</a>.</p>
<p><a href="#top">back to top</a></p>



<a name="in_ev_standalone"></a><h3>Installing Envision in its own container</h3>
<p>You can install Envision on a separate container from the Akana API Platform, so that it's only reading data from the MongoDB database, not running on the same container where API traffic is actually processed and transactions are written to the database.</p>
<p>By running Envision in a separate container, you can avoid having to expose the Envision user interface and authentication on your main runtime container.</p>
<p>In this scenario, you still need to have Policy Manager installed on the container. This is needed so that you can use the local domain for authentication of the Envision user.</p>
<p>If you're installing Envision into a standalone container, you'll need to make sure you install the following features and plug-ins in the Envision container:</p>
<p>Features:</p>
<ul>
  <li>Akana Policy Manager Console</li>
  <li>Akana Policy Manager Services</li>
  <li>Akana Envision</li>
</ul>
<p>Plug-ins:</p>
<ul>
  <li>Akana MongoDB Support</li>
  <li>Akana Policy Manager Analytics Security Provider</li>
  <li>Akana Envision Policy Manager Console Extensions</li>
  <li>Akana Envision Metrics Collector</li>
  <li>Akana Envision Policy Manager Service Extensions</li>
</ul>

These are the minimum required features and plug-ins for a container running Envision.
<p><a href="#top">back to top</a></p>